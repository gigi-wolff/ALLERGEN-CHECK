Started GET "/" for ::1 at 2022-12-21 14:49:28 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (1.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 20.9ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.8ms | Allocations: 49172)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 58.0ms | Allocations: 77016)
Completed 200 OK in 63ms (Views: 52.7ms | ActiveRecord: 6.4ms | Allocations: 82311)


Started GET "/products/new" for ::1 at 2022-12-21 14:49:31 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 9.6ms | Allocations: 3095)
  Rendered products/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3716)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 7713)
Completed 200 OK in 32ms (Views: 19.0ms | ActiveRecord: 3.1ms | Allocations: 12183)


Started POST "/products" for ::1 at 2022-12-21 14:49:56 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water (Aqua), Cetearyl Alcohol, Dimethicone, Stearamidopropyl Dimethylamine, Hydrolyzed Elastin, Hydrolyzed Keratin, Hydrolyzed Wheat Protein, Hydrolyzed Caviar Extract, Behentrimonium Chloride, Fragrance (Parfum), Dipropylene Glycol, Lactic Acid, Amodimethicone, Trehalose, Gluconolactone, Cocos Nucifera (Coconut) Oil, Potassium Chloride, DMDM Hydantoin, Disodium EDTA, PEG-7 Propylheptyl Ether, Cetrimonium Chloride, Hydrolyzed Actin, Adipic Acid, Sodium Sulfate, Hydrolyzed Roe, Fucus Vesiculosus Extract, Methylchloroisothiazolinone, Methylisothiazolinone.\n\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mReaction Load (1.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 21]]
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mReaction Destroy (1.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 33]]
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 21]]
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water (Aqua), Cetearyl Alcohol, Dimethicone, Stearamidopropyl Dimethylamine, Hydrolyzed Elastin, Hydrolyzed Keratin, Hydrolyzed Wheat Protein, Hydrolyzed Caviar Extract, Behentrimonium Chloride, Fragrance (Parfum), Dipropylene Glycol, Lactic Acid, Amodimethicone, Trehalose, Gluconolactone, Cocos Nucifera (Coconut) Oil, Potassium Chloride, DMDM Hydantoin, Disodium EDTA, PEG-7 Propylheptyl Ether, Cetrimonium Chloride, Hydrolyzed Actin, Adipic Acid, Sodium Sulfate, Hydrolyzed Roe, Fucus Vesiculosus Extract, Methylchloroisothiazolinone, Methylisothiazolinone.\n\n"], ["created_at", "2022-12-21 19:49:56.813525"], ["updated_at", "2022-12-21 19:49:56.813525"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:60:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/models/product.rb:43:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 22], ["reactive_substances", " dimethyl-dimethyl DMDM hydantoin (Glydant)"], ["reactive_ingredient", "DMDM HYDANTOIN"], ["created_at", "2022-12-21 19:49:56.909921"], ["updated_at", "2022-12-21 19:49:56.909921"]]
  â†³ app/models/product.rb:43:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/models/product.rb:43:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 22], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-21 19:49:56.928588"], ["updated_at", "2022-12-21 19:49:56.928588"]]
  â†³ app/models/product.rb:43:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/22
Completed 302 Found in 122ms (ActiveRecord: 18.1ms | Allocations: 91917)


Started GET "/products/22" for ::1 at 2022-12-21 14:49:56 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"22"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  â†³ app/models/product.rb:25:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 22) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water (Aqua)' OR reactive_substances ILIKE 'Water (Aqua)') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetearyl Alcohol' OR reactive_substances ILIKE 'Cetearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dimethicone' OR reactive_substances ILIKE 'Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearamidopropyl Dimethylamine' OR reactive_substances ILIKE 'Stearamidopropyl Dimethylamine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Elastin' OR reactive_substances ILIKE 'Hydrolyzed Elastin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Keratin' OR reactive_substances ILIKE 'Hydrolyzed Keratin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Wheat Protein' OR reactive_substances ILIKE 'Hydrolyzed Wheat Protein') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Caviar Extract' OR reactive_substances ILIKE 'Hydrolyzed Caviar Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Chloride' OR reactive_substances ILIKE 'Behentrimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance (Parfum)' OR reactive_substances ILIKE 'Fragrance (Parfum)') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dipropylene Glycol' OR reactive_substances ILIKE 'Dipropylene Glycol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Lactic Acid' OR reactive_substances ILIKE 'Lactic Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Amodimethicone' OR reactive_substances ILIKE 'Amodimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Trehalose' OR reactive_substances ILIKE 'Trehalose') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Gluconolactone' OR reactive_substances ILIKE 'Gluconolactone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cocos Nucifera (Coconut) Oil' OR reactive_substances ILIKE 'Cocos Nucifera (Coconut) Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Potassium Chloride' OR reactive_substances ILIKE 'Potassium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'DMDM Hydantoin' OR reactive_substances ILIKE 'DMDM Hydantoin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'DMDM Hydantoin' OR reactive_substances ILIKE 'DMDM Hydantoin')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.7ms | Allocations: 489)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium EDTA' OR reactive_substances ILIKE 'Disodium EDTA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG-7 Propylheptyl Ether' OR reactive_substances ILIKE 'PEG-7 Propylheptyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetrimonium Chloride' OR reactive_substances ILIKE 'Cetrimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Actin' OR reactive_substances ILIKE 'Hydrolyzed Actin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Adipic Acid' OR reactive_substances ILIKE 'Adipic Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Sodium Sulfate' OR reactive_substances ILIKE 'Sodium Sulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Roe' OR reactive_substances ILIKE 'Hydrolyzed Roe') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fucus Vesiculosus Extract' OR reactive_substances ILIKE 'Fucus Vesiculosus Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 333)
  Rendered products/show.html.erb within layouts/application (Duration: 17.9ms | Allocations: 21627)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 25796)
Completed 200 OK in 22ms (Views: 14.2ms | ActiveRecord: 6.7ms | Allocations: 27312)


Started GET "/allergens" for ::1 at 2022-12-21 14:50:07 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 43.7ms | Allocations: 43247)
  Rendered allergens/index.html.erb within layouts/application (Duration: 48.2ms | Allocations: 44180)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 51.8ms | Allocations: 48150)
Completed 200 OK in 54ms (Views: 52.0ms | ActiveRecord: 0.5ms | Allocations: 48433)


Started GET "/" for ::1 at 2022-12-21 15:26:39 -0500
  
ActiveRecord::NoDatabaseError (We could not find your database: allergen_check_developement. Which can be found in the database configuration file located at config/database.yml.

To resolve this issue:

- Did you create the database for this app, or delete it? You may need to create your database.
- Has the database name changed? Check your database.yml config has the correct database name.

To create your database, run:

        bin/rails db:create
):
  
activerecord (7.0.4) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (7.0.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.4) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.4) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.4) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.4) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.4) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.4) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
Started GET "/" for ::1 at 2022-12-21 15:26:39 -0500
  
ActiveRecord::NoDatabaseError (We could not find your database: allergen_check_developement. Which can be found in the database configuration file located at config/database.yml.

To resolve this issue:

- Did you create the database for this app, or delete it? You may need to create your database.
- Has the database name changed? Check your database.yml config has the correct database name.

To create your database, run:

        bin/rails db:create
):
  
activerecord (7.0.4) lib/active_record/connection_adapters/postgresql_adapter.rb:81:in `rescue in new_client'
activerecord (7.0.4) lib/active_record/connection_adapters/postgresql_adapter.rb:77:in `new_client'
activerecord (7.0.4) lib/active_record/connection_adapters/postgresql_adapter.rb:37:in `postgresql_connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `public_send'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:656:in `new_connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:700:in `checkout_new_connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:679:in `try_to_checkout_new_connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:640:in `acquire_connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:341:in `checkout'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_pool.rb:181:in `connection'
activerecord (7.0.4) lib/active_record/connection_adapters/abstract/connection_handler.rb:211:in `retrieve_connection'
activerecord (7.0.4) lib/active_record/connection_handling.rb:313:in `retrieve_connection'
activerecord (7.0.4) lib/active_record/connection_handling.rb:280:in `connection'
activerecord (7.0.4) lib/active_record/migration.rb:613:in `connection'
activerecord (7.0.4) lib/active_record/migration.rb:608:in `build_watcher'
activerecord (7.0.4) lib/active_record/migration.rb:590:in `block in call'
activerecord (7.0.4) lib/active_record/migration.rb:589:in `synchronize'
activerecord (7.0.4) lib/active_record/migration.rb:589:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (7.0.4) lib/active_support/callbacks.rb:99:in `run_callbacks'
actionpack (7.0.4) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/debug_exceptions.rb:28:in `call'
web-console (4.2.0) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.0) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.0) lib/web_console/middleware.rb:17:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/show_exceptions.rb:26:in `call'
railties (7.0.4) lib/rails/rack/logger.rb:40:in `call_app'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `block in call'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `block in tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:37:in `tagged'
activesupport (7.0.4) lib/active_support/tagged_logging.rb:99:in `tagged'
railties (7.0.4) lib/rails/rack/logger.rb:25:in `call'
sprockets-rails (3.4.2) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/remote_ip.rb:93:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/request_id.rb:26:in `call'
rack (2.2.4) lib/rack/method_override.rb:24:in `call'
rack (2.2.4) lib/rack/runtime.rb:22:in `call'
activesupport (7.0.4) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (7.0.4) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/static.rb:23:in `call'
rack (2.2.4) lib/rack/sendfile.rb:110:in `call'
actionpack (7.0.4) lib/action_dispatch/middleware/host_authorization.rb:137:in `call'
railties (7.0.4) lib/rails/engine.rb:530:in `call'
puma (5.6.5) lib/puma/configuration.rb:252:in `call'
puma (5.6.5) lib/puma/request.rb:77:in `block in handle_request'
puma (5.6.5) lib/puma/thread_pool.rb:340:in `with_force_shutdown'
puma (5.6.5) lib/puma/request.rb:76:in `handle_request'
puma (5.6.5) lib/puma/server.rb:443:in `process_client'
puma (5.6.5) lib/puma/thread_pool.rb:147:in `block in spawn_thread'
  [1m[35m (125.4ms)[0m  [1m[35mCREATE DATABASE "allergen_check_developement" ENCODING = 'unicode'[0m
  [1m[35m (41.7ms)[0m  [1m[35mCREATE DATABASE "allergen_check_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "allergens" CASCADE[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE TABLE "allergens" ("id" bigserial primary key, "category" character varying, "substances" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "ingredients" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reactions" CASCADE[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "reactions" ("id" bigserial primary key, "allergen_id" integer, "product_id" integer, "reactive_substances" text, "reactive_ingredient" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221213205917)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212013714),
(20221213205846);

[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-21 20:27:17.534577"], ["updated_at", "2022-12-21 20:27:17.534577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5d2e98bd6b6e69ea0c5671304a26da38d8590b47"], ["created_at", "2022-12-21 20:27:17.537577"], ["updated_at", "2022-12-21 20:27:17.537577"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (0.1ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "allergens" CASCADE[0m
  [1m[35m (2.0ms)[0m  [1m[35mCREATE TABLE "allergens" ("id" bigserial primary key, "category" character varying, "substances" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "products" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "products" ("id" bigserial primary key, "name" character varying, "ingredients" text, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "reactions" CASCADE[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "reactions" ("id" bigserial primary key, "allergen_id" integer, "product_id" integer, "reactive_substances" text, "reactive_ingredient" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20221213205917)[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20221212013714),
(20221213205846);

[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp(6) NOT NULL, "updated_at" timestamp(6) NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2022-12-21 20:27:17.556096"], ["updated_at", "2022-12-21 20:27:17.556096"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.1ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = $1, "updated_at" = $2 WHERE "ar_internal_metadata"."key" = $3[0m  [["value", "test"], ["updated_at", "2022-12-21 20:27:17.557888"], ["key", "environment"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "schema_sha1"], ["LIMIT", 1]]
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "schema_sha1"], ["value", "5d2e98bd6b6e69ea0c5671304a26da38d8590b47"], ["created_at", "2022-12-21 20:27:17.559522"], ["updated_at", "2022-12-21 20:27:17.559522"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Pluck (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.2ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Dodecyl gallate"], ["substances", "4-10-00-02006 (Beilstein Handbook Reference) ;BRN 2701981 ;Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester ;CCRIS 5568 ;Dodecyl 3,4,5-trihydroxybenzoate ;Dodecyl gallate ;Dodecylester kyseliny gallove ;Dodecylester kyseliny gallove [Czech] ;EINECS 214-620-6 ;Gallic acid, dodecyl ester ;Gallic acid, lauryl ester ;Lauryl 3,4,5-trihydroxybenzoate ;Lauryl gallate ;NSC 133463 ;Nipagallin LA ;Progallin LA"], ["created_at", "2022-12-21 20:27:17.577072"], ["updated_at", "2022-12-21 20:27:17.577072"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Tosylamide/Formaldehyde Resin"], ["substances", "4-Toluenesulfonamide-formaldehyde resin ;Benzenesulfonamide, 4-methyl-, polymer with formaldehyde ;Tosylamide/formaldehyde resin ;Santolite MS ;Santolite MHP"], ["created_at", "2022-12-21 20:27:17.578659"], ["updated_at", "2022-12-21 20:27:17.578659"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "1,3,5-tris(2-hydroxyethyl)-hexahydrotriazine"], ["substances", "1,3,5-Tris(2-hydroxyethyl)hexahydro- 1,3,5-triazine ;1,3,5-Tris(2-hydroxyethyl)hexahydro-striazine ;4-26-00-00010 (Beilstein Handbook Reference) ;Actane ;BRN 0124982 ;Busan 1060 ;CCRIS 6246 ;Caswell No. 481C ;EINECS 225-208-0 ;EPA Pesticide Chemical Code 083301 ;ETA 75 ;Grotan ;Grotan B ;Grotan BK ;Grotan HD ;Hexahydro-1,3,5-triazine-1,3,5-triethanol ;Hexahydro-1,3,5-tris(2-hydroxyethyl)-striazine ;Hexahydro-1,3,5-tris(hydroxyethyl)triazine ;KM 200 (alcohol) ;Kalpur TE ;NSC 516387 ;Onyxide 200 ;Ottaform 204 ;Rancidity control agent ;Roksol T 1-7"], ["created_at", "2022-12-21 20:27:17.579827"], ["updated_at", "2022-12-21 20:27:17.579827"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Urea formaldehyde resin"], ["substances", "Formaldehyde, urea polymer ;Gabrite ;HSDB 7203 ;Hygromull ;KM 2 (Polymer) ;Karbamol ;Karbamol B/M ;Kauresin K244 ;Kaurit 285 FL ;Kaurit 420 ;PR 703-78 ;Pianizol ;Piatherm ;Piatherm D ;Plastopal BT ;Plyamine HD 1129A ;Plyamine P 364BL ;Poly(methi(bis(hydroxymethyl))ureylene) amer ;Polynoxylin ;Ponoxylan ;Resamin 155F ;Resamin HW 505 ;Resina X ;S-Resin AER 20 ;Uformite 700 ;Uformite F 240N ;Uloid 100 ;Uloid 22 ;Urea formaldehyde polymer ;Urea formaldehyde resin ;Urea, paraformaldehyde polymer ;Urea, polymer with 1-butanol and formaldehyde ;Urea, polymer with formaldehyde"], ["created_at", "2022-12-21 20:27:17.581023"], ["updated_at", "2022-12-21 20:27:17.581023"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.3ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Formaldehyde"], ["substances", "Formaldehyde ;Formalin ;Formic aldehyde ;Methaldehyde ;Methyl aldehyde ;Methylene oxide ;Methanal ;Oxymethylene;Quaternium-15;Diazolidinyl urea (GermallÂ® II); dimethyl-dimethyl DMDM hydantoin (Glydant);Imidazolidinyl urea (GermallÂ®);2-bromo-2-nitropropane-1,3-diol (Bronopol);Tris nitromethane (Tris Nitro)(industrial biocide) ;sodium hydroxymethylglycinate ;2-bromo-2-nitropropane-1,3-diol (bromopol)"], ["created_at", "2022-12-21 20:27:17.582227"], ["updated_at", "2022-12-21 20:27:17.582227"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Hexamethylenetetramine"], ["substances", "1,3,5,7-Tetraazaadamantane ;1,3,5,7-Tetraazatricyclo(3.3.1.1(3,7))decane ;1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 3,7))decane ;1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 37))decane ;AI3-09611 ;Aceto HMT ;Aminoform ;Aminoformaldehyde ;Ammoform ;Ammonioformaldehyde ;Antihydral ;CCRIS 2297 ;Caswell No. 482 ;Cystamin ;Cystogen ;Duirexol ;EINECS 202-905-8 ;EPA Pesticide Chemical Code 45501 ;Ekagom H ;Esametilentetramina ;Esametilentetramina [Italian] ;Formamine ;Formin ;Formin (heterocycle) ;HMT ;HSDB 563 ;Herax UTS ;Heterin ;Hexa (vulcanization accelerator) ;Hexa-Flo-Pulver ;Hexaform ;Hexaloids ;Hexamethylenamine ;Hexamethyleneamine ;Hexamethylenetetraamine ;Hexamethylenetetramine ;Hexamethylenetetraminum ;Hexamethylentetramin ;Hexamethylentetramin [German] ;Hexamethylentetramine ;Hexamethylentetraminum ;Hexamine ;Hexamine (heterocycle) ;Hexaminum ;Hexasan ;Hexasan (VAN) ;Hexilmethylenamine ;Metenamina ;Metenamina [INN-Spanish] ;Methenamin ;Methenamine ;Methenaminum ;Methenaminum [INN-Latin] ;Metramine ;NSC 26346 ;NSC 403347 ;Nocceler H ;Preparation AF ;Resotropin ;S 4 (heterocycle) ;Sanceler H ;Uramin ;Uratrine ;Uritone ;Urodeine ;Urotropin ;Urotropine ;Vulkacit H 30 ;Xametrin"], ["created_at", "2022-12-21 20:27:17.583625"], ["updated_at", "2022-12-21 20:27:17.583625"]]
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Dimethylaminopropylamine (DMAPA)"], ["substances", "1,3-Propanediamine, N,N-dimethyl- ;1-(Dimethylamino)-3-aminopropane ;1-Amino-3-dimethylaminopropane ;3-(Dimethylamino)-1-propanamine ;3-(Dimethylamino)-1-propylamine ;3-(Dimethylamino)propylamine ;3-Amino-1-(dimethylamino)propane ;4-04-00-01259 (Beilstein Handbook Reference) ;AI3-25441 ;BRN 0605293 ;CCRIS 4799 ;EINECS 203-680-9 ;HSDB 5391 ;N,N-Dimethyl-1,3-diaminopropane ;N,N-Dimethyl-1,3-propanediamine ;N,N-Dimethyl-1,3-propylenediamine ;N,N-Dimethyl-N-(3-aminopropyl)amine ;N,N-Dimethylpropylenediamine ;N,N-Dimethyltrimethylenediamine ;N-Dimethyltrimethylenediamine ;NSC 1067 ;Propylamine, 3-(N,N-dimethylamino)- ;gamma-(Dimethylamino)propylamin"], ["created_at", "2022-12-21 20:27:17.585033"], ["updated_at", "2022-12-21 20:27:17.585033"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "4,4'-diaminodiphenyl methane"], ["substances", "4,4'-Diaminodiphenylmethan ;4,4'-Diaminodiphenylmethan [German] ;4,4'-Diaminodiphenylmethane ;4,4'-Dimethylenediamine ;4,4'-Diphenylmethanediamine ;4,4'-Methylenebis(benzeneamine) ;4,4'-Methylenebisaniline ;4,4'-Methylenedianiline ;4-(4-Aminobenzyl)aniline ;4-13-00-00390 (Beilstein Handbook Reference) ;AI3-02615 ;Ancamine TL ;Aniline, 4,4'-methylenedi- ;Araldite hardener 972 ;Avaldite HT 972 ;BRN 0474706 ;Benzenamine, 4,4'-methylenebis- ;Bis(4-aminophenyl)methane ;Bis(p-aminophenyl)methane ;Bis-p-aminofenylmethan ;Bis-p-aminofenylmethan [Czech] ;CCRIS 1010 ;Curithane ;Dadpm ;Di-(4-aminophenyl)methane ;Diaminodiphenylmethane ;Dianilinemethane ;Dianilinomethane ;EINECS 202-974-4 ;Epicure DDM ;Epikure DDM ;HSDB 2541 ;HT 972 ;Jeffamine AP-20 ;MDA ;Methylenebis(aniline) ;Methylenedianiline ;Methylenedianiline (VAN) ;NCI-C54604 ;NSC 4709 ;Sumicure M ;Tonox ;p,p'-Diaminodifenylmethan ;p,p'-Diaminodifenylmethan [Czech] ;p,p'-Diaminodiphenylmethane ;p,p'-Methylenedianiline ;p-Toluidine, alpha-(p-aminophenyl)-"], ["created_at", "2022-12-21 20:27:17.586215"], ["updated_at", "2022-12-21 20:27:17.586215"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Fragrance Mix II"], ["substances", "2H-1-Benzopyran-2-one ;Coumarin [NF X] ;Tonka bean camphor ;1,2-Benzopyrone ;2-Oxo-1,2-benzopyran ;2-Propenoic acid, 3-(2-hydroxyphenyl)-, delta-lactone ;2-Propenoic acid, 3-(2-hydroxyphenyl)-delta-lactone ;2H-1-Benzopyran, 2-oxo- ;2H-1-Benzopyran-2-one ;2H-Benzo(b)pyran-2-one ;3-(2-Hydroxyphenyl)-2-propenoic delta-lactone ;5,6-Benzo-alpha-pyrone ;5-17-10-00143 (Beilstein Handbook Reference) ;AI3-00753 ;Alpha-hexylcinnamic aldehyde ;BRN 0383644 ;Benzo-alpha-pyrone ;CCRIS 181 ;Caswell No. 259C ;Cinnamic acid, o-hydroxy-, delta-lactone ;Citral ;Coumarin ;Coumarinic anhydride ;Coumarinic lactone ;Cumarin ;EINECS 202-086-7 ;EPA Pesticide Chemical Code 127301 ;Farnesol ;Lyral ;Rattex ;Tonka bean camphor ;cis-o-Coumaric acid anhydride ;cis-o-Coumarinic acid lactone ;o-Coumaric acid lactone ;o-Hydroxycinnamic acid lactone ;o-Hydroxycinnamic lactone ;4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde ;BRN 2046455 ;EINECS 250-863-4 ;3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- ;4-(4-Hydroxy-4-methylpentyl)cyclohex-3-enecarbaldehyde ;3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- ;2,6-Dimethyl-2-octen-8-ol ;3,7-Dimethyl-6-octen-1-ol ;4-01-00-02188 (Beilstein Handbook Reference) ;AI3-25080 ;BRN 1721507 ;CCRIS 7452 ;Cephrol ;Citronellol (ex. Java citronella oil) (natural) ;Citronellol (natural) ;EINECS 203-375-0 ;Elenol ;FEMA No. 2309 ;NSC 8779 ;Rhodinol ;Rodinol ;2,6,10-Dodecatrien-1-ol, 3,7,11-trimethyl- ;3,7,11-Trimethyl-2,6,10-dodecatrienol ;3,7,11-Trimethyl-2,6,10-dodecatrien-1-ol ;Trimethyl dodecatrienol"], ["created_at", "2022-12-21 20:27:17.587394"], ["updated_at", "2022-12-21 20:27:17.587394"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Disperse Orange-3"], ["substances", "EINECS 211-984-8 ;Orange 3"], ["created_at", "2022-12-21 20:27:17.588572"], ["updated_at", "2022-12-21 20:27:17.588572"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "P-phenylenediamine"], ["substances", "1,4-Benzenediamine, 2-methyl- ;2,5-Diaminotoluene ;2-Methyl-1,4-benzenediamine ;2-Methyl-p-phenylenediamine ;2-Methyl-para-phenylenediamine ;4-13-00-00246 (Beilstein Handbook Reference) ;4-Amino-2-methylaniline ;BRN 0774521 ;C.I. 76042 ;CCRIS 7693 ;CI 76042 ;EINECS 202-442-1 ;HSDB 6251 ;Toluene-2,5-diamine ;Toluylene-2,5-diamine ;p,m-Tolylenediamine ;p-Toluenediamine ;p-Toluylendiamine ;para-Toluenediamine ;para-Toluylenediamine ;para-Tolylenediamine"], ["created_at", "2022-12-21 20:27:17.589722"], ["updated_at", "2022-12-21 20:27:17.589722"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Preservatives"], ["substances", "benzoisothiazolinone ;isothiazolinone ;chloromethylisothiazolinone ;methylisothiazolinone ;benzisothiazolinone ;octylisothiazolinone"], ["created_at", "2022-12-21 20:27:17.590877"], ["updated_at", "2022-12-21 20:27:17.590877"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN[0m
  [1m[36mAllergen Create (0.2ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "4-(4-hydroxy-4-methyl pentyl)-3-cyclohexene-1- carboxaldehyde (Lyral)"], ["substances", "4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde ;BRN 2046455 ;EINECS 250-863-4 ;Lyral"], ["created_at", "2022-12-21 20:27:17.592033"], ["updated_at", "2022-12-21 20:27:17.592033"]]
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/" for ::1 at 2022-12-21 15:27:26 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 19.7ms | Allocations: 43855)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.9ms | Allocations: 49190)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 52.6ms | Allocations: 76703)
Completed 200 OK in 85ms (Views: 47.0ms | ActiveRecord: 6.9ms | Allocations: 81997)


Started GET "/products/new" for ::1 at 2022-12-21 15:27:31 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 11.0ms | Allocations: 3176)
  Rendered products/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3797)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 7846)
Completed 200 OK in 26ms (Views: 16.9ms | ActiveRecord: 2.4ms | Allocations: 12465)


Started POST "/products" for ::1 at 2022-12-21 15:27:48 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water (Aqua), Cetearyl Alcohol, Dimethicone, Stearamidopropyl Dimethylamine, Hydrolyzed Elastin, Hydrolyzed Keratin, Hydrolyzed Wheat Protein, Hydrolyzed Caviar Extract, Behentrimonium Chloride, Fragrance (Parfum), Dipropylene Glycol, Lactic Acid, Amodimethicone, Trehalose, Gluconolactone, Cocos Nucifera (Coconut) Oil, Potassium Chloride, DMDM Hydantoin, Disodium EDTA, PEG-7 Propylheptyl Ether, Cetrimonium Chloride, Hydrolyzed Actin, Adipic Acid, Sodium Sulfate, Hydrolyzed Roe, Fucus Vesiculosus Extract, Methylchloroisothiazolinone, Methylisothiazolinone.\n\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water (Aqua), Cetearyl Alcohol, Dimethicone, Stearamidopropyl Dimethylamine, Hydrolyzed Elastin, Hydrolyzed Keratin, Hydrolyzed Wheat Protein, Hydrolyzed Caviar Extract, Behentrimonium Chloride, Fragrance (Parfum), Dipropylene Glycol, Lactic Acid, Amodimethicone, Trehalose, Gluconolactone, Cocos Nucifera (Coconut) Oil, Potassium Chloride, DMDM Hydantoin, Disodium EDTA, PEG-7 Propylheptyl Ether, Cetrimonium Chloride, Hydrolyzed Actin, Adipic Acid, Sodium Sulfate, Hydrolyzed Roe, Fucus Vesiculosus Extract, Methylchloroisothiazolinone, Methylisothiazolinone.\n\n"], ["created_at", "2022-12-21 20:27:48.260461"], ["updated_at", "2022-12-21 20:27:48.260461"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:60:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:43:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 1], ["reactive_substances", " dimethyl-dimethyl DMDM hydantoin (Glydant)"], ["reactive_ingredient", "DMDM HYDANTOIN"], ["created_at", "2022-12-21 20:27:48.328973"], ["updated_at", "2022-12-21 20:27:48.328973"]]
  â†³ app/models/product.rb:43:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:43:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 1], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-21 20:27:48.344501"], ["updated_at", "2022-12-21 20:27:48.344501"]]
  â†³ app/models/product.rb:43:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/1
Completed 302 Found in 91ms (ActiveRecord: 13.1ms | Allocations: 87863)


Started GET "/products/1" for ::1 at 2022-12-21 15:27:48 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 1], ["LIMIT", 1]]
  â†³ app/models/product.rb:25:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 1) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water (Aqua)' OR reactive_substances ILIKE 'Water (Aqua)') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetearyl Alcohol' OR reactive_substances ILIKE 'Cetearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dimethicone' OR reactive_substances ILIKE 'Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearamidopropyl Dimethylamine' OR reactive_substances ILIKE 'Stearamidopropyl Dimethylamine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Elastin' OR reactive_substances ILIKE 'Hydrolyzed Elastin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Keratin' OR reactive_substances ILIKE 'Hydrolyzed Keratin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Wheat Protein' OR reactive_substances ILIKE 'Hydrolyzed Wheat Protein') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Caviar Extract' OR reactive_substances ILIKE 'Hydrolyzed Caviar Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Chloride' OR reactive_substances ILIKE 'Behentrimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance (Parfum)' OR reactive_substances ILIKE 'Fragrance (Parfum)') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dipropylene Glycol' OR reactive_substances ILIKE 'Dipropylene Glycol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Lactic Acid' OR reactive_substances ILIKE 'Lactic Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Amodimethicone' OR reactive_substances ILIKE 'Amodimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Trehalose' OR reactive_substances ILIKE 'Trehalose') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Gluconolactone' OR reactive_substances ILIKE 'Gluconolactone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cocos Nucifera (Coconut) Oil' OR reactive_substances ILIKE 'Cocos Nucifera (Coconut) Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Potassium Chloride' OR reactive_substances ILIKE 'Potassium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'DMDM Hydantoin' OR reactive_substances ILIKE 'DMDM Hydantoin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'DMDM Hydantoin' OR reactive_substances ILIKE 'DMDM Hydantoin')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.6ms | Allocations: 488)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium EDTA' OR reactive_substances ILIKE 'Disodium EDTA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG-7 Propylheptyl Ether' OR reactive_substances ILIKE 'PEG-7 Propylheptyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetrimonium Chloride' OR reactive_substances ILIKE 'Cetrimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Actin' OR reactive_substances ILIKE 'Hydrolyzed Actin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Adipic Acid' OR reactive_substances ILIKE 'Adipic Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Sodium Sulfate' OR reactive_substances ILIKE 'Sodium Sulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Roe' OR reactive_substances ILIKE 'Hydrolyzed Roe') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fucus Vesiculosus Extract' OR reactive_substances ILIKE 'Fucus Vesiculosus Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 333)
  Rendered products/show.html.erb within layouts/application (Duration: 21.5ms | Allocations: 21642)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 24.1ms | Allocations: 25820)
Completed 200 OK in 27ms (Views: 18.4ms | ActiveRecord: 6.3ms | Allocations: 27336)


Started GET "/" for ::1 at 2022-12-21 16:56:20 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 20.6ms | Allocations: 43855)
  Rendered allergens/index.html.erb within layouts/application (Duration: 31.3ms | Allocations: 49195)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 53.9ms | Allocations: 76872)
Completed 200 OK in 89ms (Views: 49.1ms | ActiveRecord: 6.3ms | Allocations: 82166)


Started GET "/products/new" for ::1 at 2022-12-21 16:56:31 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 11.3ms | Allocations: 3089)
  Rendered products/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 3710)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 7759)
Completed 200 OK in 30ms (Views: 18.8ms | ActiveRecord: 2.7ms | Allocations: 12218)


Started POST "/products" for ::1 at 2022-12-21 16:57:37 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, glycerin, cocomidopropyl betaine, sodium laureth sulfate, avena sativa (oat) kernel flour, hydroxypropyltrimonium hydrolyzed wheat protein, hydroxypropyltrimonium hydrolyzed wheat starch, guar hydroxypropyltrimonium chloride, tetrasodiium EDTA, glycol distearate, polyquatermium-10, quatermium-15, myristyl alcohol, fragrance. May also contain citric acid.\n\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 1]]
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 1]]
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 2]]
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 1]]
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water, glycerin, cocomidopropyl betaine, sodium laureth sulfate, avena sativa (oat) kernel flour, hydroxypropyltrimonium hydrolyzed wheat protein, hydroxypropyltrimonium hydrolyzed wheat starch, guar hydroxypropyltrimonium chloride, tetrasodiium EDTA, glycol distearate, polyquatermium-10, quatermium-15, myristyl alcohol, fragrance. May also contain citric acid.\n\n"], ["created_at", "2022-12-21 21:57:37.928387"], ["updated_at", "2022-12-21 21:57:37.928387"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:60:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/2
Completed 302 Found in 82ms (ActiveRecord: 20.5ms | Allocations: 64055)


Started GET "/products/2" for ::1 at 2022-12-21 16:57:37 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 2], ["LIMIT", 1]]
  â†³ app/models/product.rb:25:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'glycerin' OR reactive_substances ILIKE 'glycerin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'cocomidopropyl betaine' OR reactive_substances ILIKE 'cocomidopropyl betaine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sodium laureth sulfate' OR reactive_substances ILIKE 'sodium laureth sulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'avena sativa (oat) kernel flour' OR reactive_substances ILIKE 'avena sativa (oat) kernel flour') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'hydroxypropyltrimonium hydrolyzed wheat protein' OR reactive_substances ILIKE 'hydroxypropyltrimonium hydrolyzed wheat protein') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'hydroxypropyltrimonium hydrolyzed wheat starch' OR reactive_substances ILIKE 'hydroxypropyltrimonium hydrolyzed wheat starch') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'guar hydroxypropyltrimonium chloride' OR reactive_substances ILIKE 'guar hydroxypropyltrimonium chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'tetrasodiium EDTA' OR reactive_substances ILIKE 'tetrasodiium EDTA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'glycol distearate' OR reactive_substances ILIKE 'glycol distearate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'polyquatermium-10' OR reactive_substances ILIKE 'polyquatermium-10') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'quatermium-15' OR reactive_substances ILIKE 'quatermium-15') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'myristyl alcohol' OR reactive_substances ILIKE 'myristyl alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'fragrance May also contain citric acid' OR reactive_substances ILIKE 'fragrance May also contain citric acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 7.6ms | Allocations: 9851)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 160)
  Rendered layout layouts/application.html.erb (Duration: 27.7ms | Allocations: 37520)
Completed 200 OK in 31ms (Views: 26.2ms | ActiveRecord: 3.1ms | Allocations: 40725)


Started GET "/" for ::1 at 2022-12-22 12:43:22 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (1.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 48.6ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 62.2ms | Allocations: 49172)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 91.4ms | Allocations: 76686)
Completed 200 OK in 98ms (Views: 83.5ms | ActiveRecord: 9.1ms | Allocations: 81981)


Started GET "/products/new" for ::1 at 2022-12-22 12:43:24 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 5.3ms | Allocations: 3343)
  Rendered products/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4207)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 53.4ms | Allocations: 30900)
Completed 200 OK in 68ms (Views: 54.8ms | ActiveRecord: 4.8ms | Allocations: 39740)


Started POST "/products" for ::1 at 2022-12-22 12:43:29 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Propylene Glycol Butyl Ether, Caprylyl/Capryl Glucoside, Lauryl Glucoside, Didecyldimonium Chloride, Acrylic Polymer, PPG-26-Buteth-26, PEG Hydrogenated Castor Oil, Methylchloroisothiazolinone/Methylisothiazolinone, Fragrances\n\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mReaction Load (0.8ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 2]]
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Destroy (1.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 2]]
  â†³ app/models/product.rb:54:in `block in <class:Product>'
  [1m[36mProduct Create (1.0ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water, Propylene Glycol Butyl Ether, Caprylyl/Capryl Glucoside, Lauryl Glucoside, Didecyldimonium Chloride, Acrylic Polymer, PPG-26-Buteth-26, PEG Hydrogenated Castor Oil, Methylchloroisothiazolinone/Methylisothiazolinone, Fragrances\n\n"], ["created_at", "2022-12-22 17:43:29.265029"], ["updated_at", "2022-12-22 17:43:29.265029"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:60:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/3
Completed 302 Found in 60ms (ActiveRecord: 13.4ms | Allocations: 41493)


Started GET "/products/3" for ::1 at 2022-12-22 12:43:29 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/product.rb:25:in `causes_reaction'
  [1m[36mReaction Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Propylene Glycol Butyl Ether' OR reactive_substances ILIKE 'Propylene Glycol Butyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Caprylyl/Capryl Glucoside' OR reactive_substances ILIKE 'Caprylyl/Capryl Glucoside') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Lauryl Glucoside' OR reactive_substances ILIKE 'Lauryl Glucoside') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Didecyldimonium Chloride' OR reactive_substances ILIKE 'Didecyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Acrylic Polymer' OR reactive_substances ILIKE 'Acrylic Polymer') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PPG-26-Buteth-26' OR reactive_substances ILIKE 'PPG-26-Buteth-26') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG Hydrogenated Castor Oil' OR reactive_substances ILIKE 'PEG Hydrogenated Castor Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone/Methylisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone/Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrances' OR reactive_substances ILIKE 'Fragrances') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 7134)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 11288)
Completed 200 OK in 17ms (Views: 11.4ms | ActiveRecord: 2.4ms | Allocations: 12855)


Started GET "/products/3/edit" for ::1 at 2022-12-22 12:43:37 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.1ms | Allocations: 1129)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1278)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 5054)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 0.4ms | Allocations: 5892)


Started PATCH "/products/3" for ::1 at 2022-12-22 12:43:43 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Propylene Glycol Butyl Ether, Caprylyl/Capryl Glucoside, Lauryl Glucoside, Didecyldimonium Chloride, Acrylic Polymer, PPG-26-Buteth-26, PEG Hydrogenated Castor Oil, Methylchloroisothiazolinone, Methylisothiazolinone, Fragrances\n\n"}, "commit"=>"Submit", "id"=>"3"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "Water, Propylene Glycol Butyl Ether, Caprylyl/Capryl Glucoside, Lauryl Glucoside, Didecyldimonium Chloride, Acrylic Polymer, PPG-26-Buteth-26, PEG Hydrogenated Castor Oil, Methylchloroisothiazolinone, Methylisothiazolinone, Fragrances\n\n"], ["updated_at", "2022-12-22 17:43:43.774188"], ["id", 3]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:60:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/models/product.rb:43:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 3], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-22 17:43:43.833055"], ["updated_at", "2022-12-22 17:43:43.833055"]]
  â†³ app/models/product.rb:43:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:38:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/3
Completed 302 Found in 69ms (ActiveRecord: 18.9ms | Allocations: 38137)


Started GET "/products/3" for ::1 at 2022-12-22 12:43:43 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 3], ["LIMIT", 1]]
  â†³ app/models/product.rb:25:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 3) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Propylene Glycol Butyl Ether' OR reactive_substances ILIKE 'Propylene Glycol Butyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Caprylyl/Capryl Glucoside' OR reactive_substances ILIKE 'Caprylyl/Capryl Glucoside') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Lauryl Glucoside' OR reactive_substances ILIKE 'Lauryl Glucoside') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Didecyldimonium Chloride' OR reactive_substances ILIKE 'Didecyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Acrylic Polymer' OR reactive_substances ILIKE 'Acrylic Polymer') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PPG-26-Buteth-26' OR reactive_substances ILIKE 'PPG-26-Buteth-26') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG Hydrogenated Castor Oil' OR reactive_substances ILIKE 'PEG Hydrogenated Castor Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.5ms | Allocations: 739)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrances' OR reactive_substances ILIKE 'Fragrances') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 14.4ms | Allocations: 9858)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 13976)
Completed 200 OK in 20ms (Views: 15.5ms | ActiveRecord: 2.9ms | Allocations: 14803)


Started GET "/" for ::1 at 2022-12-22 12:59:27 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 18.7ms | Allocations: 43855)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.5ms | Allocations: 49176)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 51.1ms | Allocations: 76643)
Completed 200 OK in 85ms (Views: 46.1ms | ActiveRecord: 6.7ms | Allocations: 81937)


Started GET "/products/new" for ::1 at 2022-12-22 12:59:29 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 17.0ms | Allocations: 3102)
  Rendered products/new.html.erb within layouts/application (Duration: 19.3ms | Allocations: 3723)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 23.7ms | Allocations: 7772)
Completed 200 OK in 37ms (Views: 26.0ms | ActiveRecord: 2.5ms | Allocations: 12282)


Started POST "/products" for ::1 at 2022-12-22 12:59:38 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc/def"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 381)
  Rendered products/_form.html.erb (Duration: 2.1ms | Allocations: 1240)
  Rendered products/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1790)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 5673)
Completed 422 Unprocessable Entity in 14ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 7292)


Started POST "/products" for ::1 at 2022-12-22 13:00:52 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc(def)"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.2ms | Allocations: 1368)
  Rendered products/_form.html.erb (Duration: 1.7ms | Allocations: 2538)
  Rendered products/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 4586)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 23.2ms | Allocations: 31299)
Completed 422 Unprocessable Entity in 80ms (Views: 25.6ms | ActiveRecord: 15.3ms | Allocations: 41553)


Started POST "/products" for ::1 at 2022-12-22 13:01:03 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc(def), "}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.2ms | Allocations: 507)
  Rendered products/_form.html.erb (Duration: 3.4ms | Allocations: 1607)
  Rendered products/new.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2534)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 12.7ms | Allocations: 6960)
Completed 422 Unprocessable Entity in 19ms (Views: 15.7ms | ActiveRecord: 0.0ms | Allocations: 8721)


Started POST "/products" for ::1 at 2022-12-22 13:01:10 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc(def), test"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 278)
  Rendered products/_form.html.erb (Duration: 2.0ms | Allocations: 1152)
  Rendered products/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1550)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 5326)
Completed 422 Unprocessable Entity in 11ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 6487)


Started GET "/products/new" for ::1 at 2022-12-22 13:01:12 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 16)
  Rendered products/_form.html.erb (Duration: 1.9ms | Allocations: 1141)
  Rendered products/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1280)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 5175)
Completed 200 OK in 10ms (Views: 9.1ms | ActiveRecord: 0.0ms | Allocations: 5538)


Started POST "/products" for ::1 at 2022-12-22 13:01:26 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc(def), test"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 286)
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1153)
  Rendered products/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1559)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 5335)
Completed 422 Unprocessable Entity in 13ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 6419)


Started POST "/products" for ::1 at 2022-12-22 13:02:27 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc(def)/test"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 333)
  Rendered products/_form.html.erb (Duration: 0.7ms | Allocations: 1332)
  Rendered products/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1800)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 3.2ms | Allocations: 5816)
Completed 422 Unprocessable Entity in 11ms (Views: 3.6ms | ActiveRecord: 3.3ms | Allocations: 10647)


Started GET "/products/new" for ::1 at 2022-12-22 13:02:31 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered products/_form.html.erb (Duration: 2.1ms | Allocations: 1040)
  Rendered products/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1172)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 4961)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 5264)


Started POST "/products" for ::1 at 2022-12-22 13:02:40 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc, def"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 3]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 3]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 3]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "abc, def"], ["created_at", "2022-12-22 18:02:40.319764"], ["updated_at", "2022-12-22 18:02:40.319764"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/4
Completed 302 Found in 57ms (ActiveRecord: 10.8ms | Allocations: 24510)


Started GET "/products/4" for ::1 at 2022-12-22 13:02:40 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 4], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abc' OR reactive_substances ILIKE 'abc') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'def' OR reactive_substances ILIKE 'def') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 2515)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 6621)
Completed 200 OK in 13ms (Views: 8.3ms | ActiveRecord: 1.0ms | Allocations: 8143)


Started GET "/products/new" for ::1 at 2022-12-22 13:02:42 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 1041)
  Rendered products/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1173)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 4956)
Completed 200 OK in 11ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 5232)


Started POST "/products" for ::1 at 2022-12-22 13:02:47 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 285)
  Rendered products/_form.html.erb (Duration: 2.1ms | Allocations: 1152)
  Rendered products/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1557)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 5332)
Completed 422 Unprocessable Entity in 14ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 6387)


Started POST "/products" for ::1 at 2022-12-22 13:04:23 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc, "}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 4]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.7ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 4]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "abc, "], ["created_at", "2022-12-22 18:04:23.828489"], ["updated_at", "2022-12-22 18:04:23.828489"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/5
Completed 302 Found in 21ms (ActiveRecord: 3.7ms | Allocations: 7293)


Started GET "/products/5" for ::1 at 2022-12-22 13:04:23 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abc' OR reactive_substances ILIKE 'abc') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1292)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 5263)
Completed 200 OK in 15ms (Views: 11.3ms | ActiveRecord: 1.3ms | Allocations: 6031)


Started GET "/products/5/edit" for ::1 at 2022-12-22 13:05:04 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.8ms | Allocations: 3461)
  Rendered products/edit.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3942)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 27.8ms | Allocations: 31350)
Completed 200 OK in 44ms (Views: 29.0ms | ActiveRecord: 4.7ms | Allocations: 42885)


Started PATCH "/products/5" for ::1 at 2022-12-22 13:05:08 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.4ms | Allocations: 1395)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1507)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 5389)
Completed 422 Unprocessable Entity in 15ms (Views: 9.1ms | ActiveRecord: 0.3ms | Allocations: 7912)


Started GET "/products/5/edit" for ::1 at 2022-12-22 13:05:10 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1055)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1115)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4891)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.4ms | Allocations: 5671)


Started PATCH "/products/5" for ::1 at 2022-12-22 13:05:12 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc, "}, "commit"=>"Submit", "id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mReaction Load (0.8ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/5
Completed 302 Found in 31ms (ActiveRecord: 5.4ms | Allocations: 10532)


Started GET "/products/5" for ::1 at 2022-12-22 13:05:12 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 5], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abc' OR reactive_substances ILIKE 'abc') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2374)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 6508)
Completed 200 OK in 13ms (Views: 9.0ms | ActiveRecord: 2.4ms | Allocations: 7414)


Started GET "/products/new" for ::1 at 2022-12-22 13:05:19 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 205)
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 1068)
  Rendered products/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1559)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 5343)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms | Allocations: 5710)


Started POST "/products" for ::1 at 2022-12-22 13:05:21 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.1ms | Allocations: 301)
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1152)
  Rendered products/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1573)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 5348)
Completed 422 Unprocessable Entity in 17ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 6431)


Started GET "/products/new" for ::1 at 2022-12-22 13:07:27 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 4.9ms | Allocations: 3355)
  Rendered products/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4218)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 26.5ms | Allocations: 31614)
Completed 200 OK in 41ms (Views: 27.8ms | ActiveRecord: 5.3ms | Allocations: 40604)


Started POST "/products" for ::1 at 2022-12-22 13:07:33 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 381)
  Rendered products/_form.html.erb (Duration: 2.1ms | Allocations: 1239)
  Rendered products/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1789)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 5672)
Completed 422 Unprocessable Entity in 13ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 7275)


Started GET "/products/new" for ::1 at 2022-12-22 13:09:33 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 204)
  Rendered products/_form.html.erb (Duration: 1.0ms | Allocations: 1566)
  Rendered products/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2144)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 143)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 6585)
Completed 200 OK in 18ms (Views: 4.4ms | ActiveRecord: 6.6ms | Allocations: 13445)


Started POST "/products" for ::1 at 2022-12-22 13:09:38 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 290)
  Rendered products/_form.html.erb (Duration: 3.0ms | Allocations: 1159)
  Rendered products/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1612)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 5387)
Completed 422 Unprocessable Entity in 15ms (Views: 11.7ms | ActiveRecord: 0.0ms | Allocations: 6685)


Started GET "/products/new" for ::1 at 2022-12-22 13:10:09 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 204)
  Rendered products/_form.html.erb (Duration: 1.0ms | Allocations: 1566)
  Rendered products/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2144)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 143)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 6586)
Completed 200 OK in 12ms (Views: 4.3ms | ActiveRecord: 5.4ms | Allocations: 10574)


Started POST "/products" for ::1 at 2022-12-22 13:10:13 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 290)
  Rendered products/_form.html.erb (Duration: 1.9ms | Allocations: 1159)
  Rendered products/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1612)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 5388)
Completed 422 Unprocessable Entity in 12ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 6696)


Started GET "/products/new" for ::1 at 2022-12-22 13:10:40 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 205)
  Rendered products/_form.html.erb (Duration: 1.0ms | Allocations: 1563)
  Rendered products/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2142)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 146)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 6612)
Completed 200 OK in 19ms (Views: 10.9ms | ActiveRecord: 5.5ms | Allocations: 10582)


Started POST "/products" for ::1 at 2022-12-22 13:10:45 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 294)
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1159)
  Rendered products/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1616)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 5392)
Completed 422 Unprocessable Entity in 13ms (Views: 10.2ms | ActiveRecord: 0.0ms | Allocations: 6704)


Started GET "/products/new" for ::1 at 2022-12-22 13:13:10 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 205)
  Rendered products/_form.html.erb (Duration: 1.0ms | Allocations: 1572)
  Rendered products/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 2154)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 143)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 6647)
Completed 200 OK in 16ms (Views: 4.6ms | ActiveRecord: 4.3ms | Allocations: 13555)


Started POST "/products" for ::1 at 2022-12-22 13:13:14 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.0ms | Allocations: 6528)


  
NoMethodError (undefined method `substances' for #<Product id: nil, name: "", ingredients: "abc", created_at: nil, updated_at: nil>):
  
app/controllers/products_controller.rb:49:in `create'
Started GET "/products/new" for ::1 at 2022-12-22 13:13:41 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 202)
  Rendered products/_form.html.erb (Duration: 1.1ms | Allocations: 1566)
  Rendered products/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 2143)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 143)
  Rendered layout layouts/application.html.erb (Duration: 3.9ms | Allocations: 6610)
Completed 200 OK in 13ms (Views: 4.7ms | ActiveRecord: 4.9ms | Allocations: 10869)


Started POST "/products" for ::1 at 2022-12-22 13:13:45 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.2ms | Allocations: 558)
  Rendered products/_form.html.erb (Duration: 2.8ms | Allocations: 1447)
  Rendered products/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2168)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5943)
Completed 422 Unprocessable Entity in 14ms (Views: 11.7ms | ActiveRecord: 0.0ms | Allocations: 7253)


Started GET "/products/new" for ::1 at 2022-12-22 13:14:01 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 982)
  Rendered products/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1113)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 4896)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 5167)


Started POST "/products" for ::1 at 2022-12-22 13:14:06 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc,"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 278)
  Rendered products/_form.html.erb (Duration: 2.3ms | Allocations: 1152)
  Rendered products/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1550)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.1ms | Allocations: 5325)
Completed 422 Unprocessable Entity in 15ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 6363)


Started GET "/products/new" for ::1 at 2022-12-22 13:16:16 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered products/_form.html.erb (Duration: 0.8ms | Allocations: 1256)
  Rendered products/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1407)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 3.3ms | Allocations: 5388)
Completed 200 OK in 11ms (Views: 3.7ms | ActiveRecord: 4.7ms | Allocations: 9198)


Started POST "/products" for ::1 at 2022-12-22 13:16:20 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.5ms | Allocations: 290)
  Rendered products/_form.html.erb (Duration: 2.4ms | Allocations: 1159)
  Rendered products/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1569)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 5344)
Completed 422 Unprocessable Entity in 14ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 6600)


Started GET "/products/new" for ::1 at 2022-12-22 13:16:55 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 204)
  Rendered products/_form.html.erb (Duration: 1.1ms | Allocations: 1566)
  Rendered products/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 2149)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 143)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 6642)
Completed 200 OK in 19ms (Views: 5.8ms | ActiveRecord: 5.9ms | Allocations: 13511)


Started POST "/products" for ::1 at 2022-12-22 13:16:59 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 301)
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1159)
  Rendered products/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1623)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 5398)
Completed 422 Unprocessable Entity in 14ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 6712)


Started POST "/products" for ::1 at 2022-12-22 13:21:49 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc/edf, "}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:55:in `block in <class:Product>'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:55:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 5]]
  â†³ app/models/product.rb:55:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 5]]
  â†³ app/models/product.rb:55:in `block in <class:Product>'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "abc/edf, "], ["created_at", "2022-12-22 18:21:49.332894"], ["updated_at", "2022-12-22 18:21:49.332894"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:61:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:39:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/6
Completed 302 Found in 30ms (ActiveRecord: 10.3ms | Allocations: 19070)


Started GET "/products/6" for ::1 at 2022-12-22 13:21:49 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  â†³ app/models/product.rb:26:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abc/edf' OR reactive_substances ILIKE 'abc/edf') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 2.1ms | Allocations: 2059)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 6419)
Completed 200 OK in 9ms (Views: 7.0ms | ActiveRecord: 0.6ms | Allocations: 8213)


Started GET "/products/6" for ::1 at 2022-12-22 13:23:39 -0500
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 6], ["LIMIT", 1]]
  â†³ app/models/product.rb:26:in `causes_reaction'
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abcedf' OR reactive_substances ILIKE 'abcedf') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 9.4ms | Allocations: 3626)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 32)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 7875)
Completed 200 OK in 27ms (Views: 5.9ms | ActiveRecord: 11.2ms | Allocations: 16933)


Started GET "/products/new" for ::1 at 2022-12-22 13:23:49 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 17)
  Rendered products/_form.html.erb (Duration: 3.9ms | Allocations: 1130)
  Rendered products/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1266)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 5051)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 5373)


Started POST "/products" for ::1 at 2022-12-22 13:23:56 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc/def"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 289)
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 1160)
  Rendered products/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1569)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 5344)
Completed 422 Unprocessable Entity in 16ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 6562)


Started POST "/products" for ::1 at 2022-12-22 13:24:07 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc/def, "}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:55:in `block in <class:Product>'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:55:in `block in <class:Product>'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 6]]
  â†³ app/models/product.rb:55:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 6]]
  â†³ app/models/product.rb:55:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "abc/def, "], ["created_at", "2022-12-22 18:24:07.958956"], ["updated_at", "2022-12-22 18:24:07.958956"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:61:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:39:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/7
Completed 302 Found in 33ms (ActiveRecord: 6.6ms | Allocations: 14984)


Started GET "/products/7" for ::1 at 2022-12-22 13:24:07 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  â†³ app/models/product.rb:26:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abcdef' OR reactive_substances ILIKE 'abcdef') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1351)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 5475)
Completed 200 OK in 9ms (Views: 6.7ms | ActiveRecord: 0.6ms | Allocations: 6308)


Started GET "/products/7/edit" for ::1 at 2022-12-22 13:26:50 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1.0ms | Allocations: 1351)
  Rendered products/edit.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1541)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 3.5ms | Allocations: 5562)
Completed 200 OK in 18ms (Views: 4.1ms | ActiveRecord: 5.7ms | Allocations: 13493)


Started PATCH "/products/7" for ::1 at 2022-12-22 13:26:54 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc/def, "}, "commit"=>"Submit", "id"=>"7"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:61:in `block in <class:Product>'
  [1m[36mReaction Load (0.9ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:61:in `block in <class:Product>'
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:39:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/7
Completed 302 Found in 35ms (ActiveRecord: 10.8ms | Allocations: 9394)


Started GET "/products/7" for ::1 at 2022-12-22 13:26:54 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  â†³ app/models/product.rb:26:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abc def' OR reactive_substances ILIKE 'abc def') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2316)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 6468)
Completed 200 OK in 13ms (Views: 8.9ms | ActiveRecord: 2.1ms | Allocations: 7372)


Started GET "/products/7/edit" for ::1 at 2022-12-22 13:27:24 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 0.8ms | Allocations: 1345)
  Rendered products/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1419)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 5388)
Completed 200 OK in 12ms (Views: 3.3ms | ActiveRecord: 5.5ms | Allocations: 10431)


Started PATCH "/products/7" for ::1 at 2022-12-22 13:27:26 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc/def, "}, "commit"=>"Submit", "id"=>"7"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:61:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:61:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:39:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:39:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/7
Completed 302 Found in 32ms (ActiveRecord: 5.9ms | Allocations: 11833)


Started GET "/products/7" for ::1 at 2022-12-22 13:27:26 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  â†³ app/models/product.rb:26:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abc' OR reactive_substances ILIKE 'abc') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'def' OR reactive_substances ILIKE 'def') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2423)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 6583)
Completed 200 OK in 11ms (Views: 7.6ms | ActiveRecord: 2.1ms | Allocations: 7417)


Started GET "/products/7/edit" for ::1 at 2022-12-22 13:29:20 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1.0ms | Allocations: 1353)
  Rendered products/edit.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1544)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 5565)
Completed 200 OK in 19ms (Views: 3.4ms | ActiveRecord: 7.5ms | Allocations: 13467)


Started PATCH "/products/7" for ::1 at 2022-12-22 13:29:48 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Propylene Glycol Butyl Ether, Caprylyl/Capryl Glucoside, Lauryl Glucoside, Didecyldimonium Chloride, Acrylic Polymer, PPG-26-Butheth-26, PEG Hydrogenated Castor Oil, Methylchloroisothiazolinone/Methylisothiazolinone, Fragrances, Cloth Contains fragrance allergen(s)."}, "commit"=>"Submit", "id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.2ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "Water, Propylene Glycol Butyl Ether, Caprylyl/Capryl Glucoside, Lauryl Glucoside, Didecyldimonium Chloride, Acrylic Polymer, PPG-26-Butheth-26, PEG Hydrogenated Castor Oil, Methylchloroisothiazolinone/Methylisothiazolinone, Fragrances, Cloth Contains fragrance allergen(s)."], ["updated_at", "2022-12-22 18:29:48.921365"], ["id", 7]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 7], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-22 18:29:48.945572"], ["updated_at", "2022-12-22 18:29:48.945572"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/7
Completed 302 Found in 39ms (ActiveRecord: 14.3ms | Allocations: 51515)


Started GET "/products/7" for ::1 at 2022-12-22 13:29:48 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 7) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Propylene Glycol Butyl Ether' OR reactive_substances ILIKE 'Propylene Glycol Butyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Caprylyl' OR reactive_substances ILIKE 'Caprylyl') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Capryl Glucoside' OR reactive_substances ILIKE 'Capryl Glucoside') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Lauryl Glucoside' OR reactive_substances ILIKE 'Lauryl Glucoside') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Didecyldimonium Chloride' OR reactive_substances ILIKE 'Didecyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Acrylic Polymer' OR reactive_substances ILIKE 'Acrylic Polymer') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PPG-26-Butheth-26' OR reactive_substances ILIKE 'PPG-26-Butheth-26') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG Hydrogenated Castor Oil' OR reactive_substances ILIKE 'PEG Hydrogenated Castor Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (1.4ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.1ms | Allocations: 749)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrances' OR reactive_substances ILIKE 'Fragrances') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cloth Contains fragrance allergen(s).' OR reactive_substances ILIKE 'Cloth Contains fragrance allergen(s).') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 12.7ms | Allocations: 11323)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 34)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 15582)
Completed 200 OK in 17ms (Views: 10.8ms | ActiveRecord: 5.5ms | Allocations: 16661)


Started GET "/products/7/edit" for ::1 at 2022-12-22 13:30:06 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.0ms | Allocations: 1179)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1328)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 5103)
Completed 200 OK in 15ms (Views: 11.9ms | ActiveRecord: 0.3ms | Allocations: 5949)


Started PATCH "/products/7" for ::1 at 2022-12-22 13:30:19 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Propylene Glycol Butyl Ether, Caprylyl/Capryl Glucoside, Lauryl Glucoside, Didecyldimonium Chloride, Acrylic Polymer, PPG-26-Butheth-26, PEG Hydrogenated Castor Oil, Methylchloroisothiazolinone/Methylisothiazolinone, Fragrances, "}, "commit"=>"Submit", "id"=>"7"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "Water, Propylene Glycol Butyl Ether, Caprylyl/Capryl Glucoside, Lauryl Glucoside, Didecyldimonium Chloride, Acrylic Polymer, PPG-26-Butheth-26, PEG Hydrogenated Castor Oil, Methylchloroisothiazolinone/Methylisothiazolinone, Fragrances, "], ["updated_at", "2022-12-22 18:30:19.382785"], ["id", 7]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 4]]
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 7], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-22 18:30:19.414814"], ["updated_at", "2022-12-22 18:30:19.414814"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/7
Completed 302 Found in 39ms (ActiveRecord: 3.6ms | Allocations: 35974)


Started GET "/products/7" for ::1 at 2022-12-22 13:30:19 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"7"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 7], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 7) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Propylene Glycol Butyl Ether' OR reactive_substances ILIKE 'Propylene Glycol Butyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Caprylyl' OR reactive_substances ILIKE 'Caprylyl') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Capryl Glucoside' OR reactive_substances ILIKE 'Capryl Glucoside') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Lauryl Glucoside' OR reactive_substances ILIKE 'Lauryl Glucoside') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Didecyldimonium Chloride' OR reactive_substances ILIKE 'Didecyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Acrylic Polymer' OR reactive_substances ILIKE 'Acrylic Polymer') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PPG-26-Butheth-26' OR reactive_substances ILIKE 'PPG-26-Butheth-26') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG Hydrogenated Castor Oil' OR reactive_substances ILIKE 'PEG Hydrogenated Castor Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.5ms | Allocations: 333)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrances' OR reactive_substances ILIKE 'Fragrances') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 9820)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 13840)
Completed 200 OK in 13ms (Views: 10.4ms | ActiveRecord: 2.0ms | Allocations: 14607)


Started GET "/" for ::1 at 2022-12-22 23:32:37 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 51.8ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.2ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 87.3ms | Allocations: 76496)
Completed 200 OK in 94ms (Views: 85.2ms | ActiveRecord: 3.5ms | Allocations: 81790)


Started GET "/products/new" for ::1 at 2022-12-22 23:32:39 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 33.9ms | Allocations: 3339)
  Rendered products/new.html.erb within layouts/application (Duration: 35.2ms | Allocations: 4203)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 55.2ms | Allocations: 30842)
Completed 200 OK in 69ms (Views: 56.7ms | ActiveRecord: 4.8ms | Allocations: 39682)


Started POST "/products" for ::1 at 2022-12-22 23:32:58 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, glycerin, cocomidopropyl betaine, sodium laureth sulfate, avena sativa (oat) kernel flour, hydroxypropyltrimonium hydrolyzed wheat protein, hydroxypropyltrimonium hydrolyzed wheat starch, guar hydroxypropyltrimonium chloride, tetrasodiium EDTA, glycol distearate, polyquatermium-10, quatermium-15, myristyl alcohol, fragrance. May also contain citric acid.\n\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 7]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.8ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 5]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 7]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water, glycerin, cocomidopropyl betaine, sodium laureth sulfate, avena sativa (oat) kernel flour, hydroxypropyltrimonium hydrolyzed wheat protein, hydroxypropyltrimonium hydrolyzed wheat starch, guar hydroxypropyltrimonium chloride, tetrasodiium EDTA, glycol distearate, polyquatermium-10, quatermium-15, myristyl alcohol, fragrance. May also contain citric acid.\n\n"], ["created_at", "2022-12-23 04:32:58.824647"], ["updated_at", "2022-12-23 04:32:58.824647"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/8
Completed 302 Found in 75ms (ActiveRecord: 14.8ms | Allocations: 56262)


Started GET "/products/8" for ::1 at 2022-12-22 23:32:58 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"8"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 8], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'glycerin' OR reactive_substances ILIKE 'glycerin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'cocomidopropyl betaine' OR reactive_substances ILIKE 'cocomidopropyl betaine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sodium laureth sulfate' OR reactive_substances ILIKE 'sodium laureth sulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'avena sativa (oat) kernel flour' OR reactive_substances ILIKE 'avena sativa (oat) kernel flour') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'hydroxypropyltrimonium hydrolyzed wheat protein' OR reactive_substances ILIKE 'hydroxypropyltrimonium hydrolyzed wheat protein') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'hydroxypropyltrimonium hydrolyzed wheat starch' OR reactive_substances ILIKE 'hydroxypropyltrimonium hydrolyzed wheat starch') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'guar hydroxypropyltrimonium chloride' OR reactive_substances ILIKE 'guar hydroxypropyltrimonium chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'tetrasodiium EDTA' OR reactive_substances ILIKE 'tetrasodiium EDTA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'glycol distearate' OR reactive_substances ILIKE 'glycol distearate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'polyquatermium-10' OR reactive_substances ILIKE 'polyquatermium-10') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'quatermium-15' OR reactive_substances ILIKE 'quatermium-15') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'myristyl alcohol' OR reactive_substances ILIKE 'myristyl alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'fragrance. May also contain citric acid.' OR reactive_substances ILIKE 'fragrance. May also contain citric acid.') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 8.5ms | Allocations: 9447)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 13592)
Completed 200 OK in 15ms (Views: 10.2ms | ActiveRecord: 2.7ms | Allocations: 15159)


Started GET "/" for ::1 at 2022-12-24 18:12:59 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 26.7ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 39.6ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 82.3ms | Allocations: 76811)
Completed 200 OK in 116ms (Views: 75.2ms | ActiveRecord: 8.6ms | Allocations: 82105)


Started GET "/products/new" for ::1 at 2022-12-24 18:13:01 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 2055)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:13: syntax error, unexpected `unless', expecting '}'
...                         unless: /^[^,]+$/} #unless there ar...
...                         ^~~~~~
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
...             unless: /^[^,]+$/} #unless there are no commas ...
...                              ^
):
  
app/models/product.rb:13: syntax error, unexpected `unless', expecting '}'
app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
app/models/product.rb:13: syntax error, unexpected `unless', expecting '}'
app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
app/models/product.rb:13: syntax error, unexpected `unless', expecting '}'
app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-24 18:15:57 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 48.8ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.7ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 85.0ms | Allocations: 77017)
Completed 200 OK in 91ms (Views: 79.2ms | ActiveRecord: 7.0ms | Allocations: 82312)


Started GET "/products/new" for ::1 at 2022-12-24 18:15:59 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1094)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:13: syntax error, unexpected ':'
...                        unless: {/^[^,]+$/} #unless there ar...
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:13: syntax error, unexpected '}', expecting =>
...            unless: {/^[^,]+$/} #unless there are no commas ...
...                              ^
):
  
app/models/product.rb:13: syntax error, unexpected ':'
app/models/product.rb:13: syntax error, unexpected '}', expecting =>
app/models/product.rb:13: syntax error, unexpected ':'
app/models/product.rb:13: syntax error, unexpected '}', expecting =>
app/models/product.rb:13: syntax error, unexpected ':'
app/models/product.rb:13: syntax error, unexpected '}', expecting =>
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-24 18:16:45 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (1.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 18.4ms | Allocations: 43855)
  Rendered allergens/index.html.erb within layouts/application (Duration: 29.8ms | Allocations: 49193)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 48.9ms | Allocations: 76222)
Completed 200 OK in 80ms (Views: 43.6ms | ActiveRecord: 6.6ms | Allocations: 81516)


Started GET "/products/new" for ::1 at 2022-12-24 18:16:47 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1094)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:12: syntax error, unexpected label, expecting `end'
...es :ingredients, format:  with: {/\w+,\s/, :message => 'must...
...                          ^~~~~
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:12: syntax error, unexpected ',', expecting =>
...ents, format:  with: {/\w+,\s/, :message => 'must be seperat...
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:12: syntax error, unexpected '}', expecting `end'
...comma(,) followed by a space' }
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:13: syntax error, unexpected '}', expecting =>
...            unless: {/^[^,]+$/} #unless there are no commas ...
...                              ^
):
  
app/models/product.rb:12: syntax error, unexpected label, expecting `end'
app/models/product.rb:12: syntax error, unexpected ',', expecting =>
app/models/product.rb:12: syntax error, unexpected '}', expecting `end'
app/models/product.rb:13: syntax error, unexpected '}', expecting =>
app/models/product.rb:12: syntax error, unexpected label, expecting `end'
app/models/product.rb:12: syntax error, unexpected ',', expecting =>
app/models/product.rb:12: syntax error, unexpected '}', expecting `end'
app/models/product.rb:13: syntax error, unexpected '}', expecting =>
app/models/product.rb:12: syntax error, unexpected label, expecting `end'
app/models/product.rb:12: syntax error, unexpected ',', expecting =>
app/models/product.rb:12: syntax error, unexpected '}', expecting `end'
app/models/product.rb:13: syntax error, unexpected '}', expecting =>
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-24 18:23:15 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 21.8ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 33.1ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 74.2ms | Allocations: 76677)
Completed 200 OK in 108ms (Views: 68.9ms | ActiveRecord: 6.8ms | Allocations: 81971)


Started GET "/products/new" for ::1 at 2022-12-24 18:23:17 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 9.6ms | Allocations: 3080)
  Rendered products/new.html.erb within layouts/application (Duration: 11.9ms | Allocations: 3701)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 7698)
Completed 200 OK in 31ms (Views: 17.6ms | ActiveRecord: 4.2ms | Allocations: 12347)


Started POST "/products" for ::1 at 2022-12-24 18:23:27 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"a b c"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 8]]
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.7ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 8]]
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "a b c"], ["created_at", "2022-12-24 23:23:27.557049"], ["updated_at", "2022-12-24 23:23:27.557049"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:71:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:49:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/9
Completed 302 Found in 38ms (ActiveRecord: 8.1ms | Allocations: 14874)


Started GET "/products/9" for ::1 at 2022-12-24 18:23:27 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"9"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 9], ["LIMIT", 1]]
  â†³ app/models/product.rb:36:in `causes_reaction'
  [1m[36mReaction Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b c' OR reactive_substances ILIKE 'a b c') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1937)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 7.7ms | Allocations: 6085)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 1.1ms | Allocations: 7633)


Started GET "/" for ::1 at 2022-12-24 18:24:52 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 18.1ms | Allocations: 43855)
  Rendered allergens/index.html.erb within layouts/application (Duration: 28.6ms | Allocations: 49174)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 49.3ms | Allocations: 76537)
Completed 200 OK in 83ms (Views: 44.4ms | ActiveRecord: 6.4ms | Allocations: 81831)


Started GET "/products/new" for ::1 at 2022-12-24 18:24:54 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 9.5ms | Allocations: 3116)
  Rendered products/new.html.erb within layouts/application (Duration: 12.0ms | Allocations: 3742)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 7763)
Completed 200 OK in 38ms (Views: 19.8ms | ActiveRecord: 4.6ms | Allocations: 12458)


Started POST "/products" for ::1 at 2022-12-24 18:24:59 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"a b c"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 381)
  Rendered products/_form.html.erb (Duration: 2.0ms | Allocations: 1240)
  Rendered products/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1790)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 5673)
Completed 422 Unprocessable Entity in 16ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 7281)


Started POST "/products" for ::1 at 2022-12-24 18:25:14 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"a,b,c"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 278)
  Rendered products/_form.html.erb (Duration: 3.7ms | Allocations: 1152)
  Rendered products/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 1550)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 5326)
Completed 422 Unprocessable Entity in 14ms (Views: 12.2ms | ActiveRecord: 0.0ms | Allocations: 6373)


Started POST "/products" for ::1 at 2022-12-24 18:25:21 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"a, b, c"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:58:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:58:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 9]]
  â†³ app/models/product.rb:58:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 9]]
  â†³ app/models/product.rb:58:in `block in <class:Product>'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "a, b, c"], ["created_at", "2022-12-24 23:25:21.614256"], ["updated_at", "2022-12-24 23:25:21.614256"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 10], ["reactive_substances", "4-10-00-02006 (Beilstein Handbook Reference) , Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , Dodecyl 3,4,5-trihydroxybenzoate , Dodecyl gallate , Dodecylester kyseliny gallove , Dodecylester kyseliny gallove [Czech] , Gallic acid, dodecyl ester , Gallic acid, lauryl ester , Lauryl 3,4,5-trihydroxybenzoate , Lauryl gallate , Nipagallin LA , Progallin LA"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.674431"], ["updated_at", "2022-12-24 23:25:21.674431"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 10], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin , Santolite MS , Santolite MHP"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.677166"], ["updated_at", "2022-12-24 23:25:21.677166"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 3], ["product_id", 10], ["reactive_substances", "1,3,5-Tris(2-hydroxyethyl)hexahydro- 1,3,5-triazine , 1,3,5-Tris(2-hydroxyethyl)hexahydro-striazine , 4-26-00-00010 (Beilstein Handbook Reference) , Actane , Busan 1060 , Caswell No. 481C , EPA Pesticide Chemical Code 083301 , ETA 75 , Grotan , Grotan B , Grotan BK , Grotan HD , Hexahydro-1,3,5-triazine-1,3,5-triethanol , Hexahydro-1,3,5-tris(2-hydroxyethyl)-striazine , Hexahydro-1,3,5-tris(hydroxyethyl)triazine , KM 200 (alcohol) , Kalpur TE , Ottaform 204 , Rancidity control agent "], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.679305"], ["updated_at", "2022-12-24 23:25:21.679305"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 10], ["reactive_substances", "Formaldehyde, urea polymer , Gabrite , Karbamol , Karbamol B/M , Kauresin K244 , Kaurit 285 FL , Kaurit 420 , Pianizol , Piatherm , Piatherm D , Plastopal BT , Plyamine HD 1129A , Plyamine P 364BL , Poly(methi(bis(hydroxymethyl))ureylene) amer , Ponoxylan , Resamin 155F , Resamin HW 505 , Resina X , S-Resin AER 20 , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.681247"], ["updated_at", "2022-12-24 23:25:21.681247"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 10], ["reactive_substances", "Formaldehyde , Formalin , Formic aldehyde , Methaldehyde , Methyl aldehyde , Methanal , Quaternium-15, Diazolidinyl urea (GermallÂ® II),  dimethyl-dimethyl DMDM hydantoin (Glydant), Imidazolidinyl urea (GermallÂ®), 2-bromo-2-nitropropane-1,3-diol (Bronopol), Tris nitromethane (Tris Nitro)(industrial biocide) , sodium hydroxymethylglycinate , 2-bromo-2-nitropropane-1,3-diol (bromopol)"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.683060"], ["updated_at", "2022-12-24 23:25:21.683060"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 10], ["reactive_substances", "1,3,5,7-Tetraazaadamantane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 37))decane , AI3-09611 , Aceto HMT , Aminoform , Aminoformaldehyde , Ammoform , Ammonioformaldehyde , Antihydral , Caswell No. 482 , Cystamin , EPA Pesticide Chemical Code 45501 , Ekagom H , Esametilentetramina , Esametilentetramina [Italian] , Formamine , Herax UTS , Hexa (vulcanization accelerator) , Hexa-Flo-Pulver , Hexaform , Hexaloids , Hexamethylenamine , Hexamethyleneamine , Hexamethylenetetraamine , Hexamethylenetetramine , Hexamethylenetetraminum , Hexamethylentetramin , Hexamethylentetramin [German] , Hexamethylentetramine , Hexamethylentetraminum , Hexamine , Hexamine (heterocycle) , Hexaminum , Hexasan , Hexasan (VAN) , Hexilmethylenamine , Metenamina , Metenamina [INN-Spanish] , Methenamin , Methenamine , Methenaminum , Methenaminum [INN-Latin] , Metramine , Preparation AF , Sanceler H , Uramin , Uratrine , Vulkacit H 30 , Xametrin"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.685145"], ["updated_at", "2022-12-24 23:25:21.685145"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 7], ["product_id", 10], ["reactive_substances", "1,3-Propanediamine, N,N-dimethyl- , 1-(Dimethylamino)-3-aminopropane , 1-Amino-3-dimethylaminopropane , 3-(Dimethylamino)-1-propanamine , 3-(Dimethylamino)-1-propylamine , 3-(Dimethylamino)propylamine , 3-Amino-1-(dimethylamino)propane , 4-04-00-01259 (Beilstein Handbook Reference) , AI3-25441 , N,N-Dimethyl-1,3-diaminopropane , N,N-Dimethyl-1,3-propanediamine , N,N-Dimethyl-1,3-propylenediamine , N,N-Dimethyl-N-(3-aminopropyl)amine , N,N-Dimethylpropylenediamine , N,N-Dimethyltrimethylenediamine , N-Dimethyltrimethylenediamine , Propylamine, 3-(N,N-dimethylamino)- , gamma-(Dimethylamino)propylamin"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.687147"], ["updated_at", "2022-12-24 23:25:21.687147"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 8], ["product_id", 10], ["reactive_substances", "4,4'-Diaminodiphenylmethan , 4,4'-Diaminodiphenylmethan [German] , 4,4'-Diaminodiphenylmethane , 4,4'-Dimethylenediamine , 4,4'-Diphenylmethanediamine , 4,4'-Methylenebis(benzeneamine) , 4,4'-Methylenebisaniline , 4,4'-Methylenedianiline , 4-(4-Aminobenzyl)aniline , 4-13-00-00390 (Beilstein Handbook Reference) , AI3-02615 , Ancamine TL , Aniline, 4,4'-methylenedi- , Araldite hardener 972 , Avaldite HT 972 , Benzenamine, 4,4'-methylenebis- , Bis(4-aminophenyl)methane , Bis(p-aminophenyl)methane , Bis-p-aminofenylmethan , Bis-p-aminofenylmethan [Czech] , Curithane , Dadpm , Di-(4-aminophenyl)methane , Diaminodiphenylmethane , Dianilinemethane , Dianilinomethane , Jeffamine AP-20 , MDA , Methylenebis(aniline) , Methylenedianiline , Methylenedianiline (VAN) , p,p'-Diaminodifenylmethan , p,p'-Diaminodifenylmethan [Czech] , p,p'-Diaminodiphenylmethane , p,p'-Methylenedianiline , p-Toluidine, alpha-(p-aminophenyl)-"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.689864"], ["updated_at", "2022-12-24 23:25:21.689864"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 10], ["reactive_substances", "2H-1-Benzopyran-2-one , Coumarin [NF X] , Tonka bean camphor , 2-Oxo-1,2-benzopyran , 2-Propenoic acid, 3-(2-hydroxyphenyl)-, delta-lactone , 2-Propenoic acid, 3-(2-hydroxyphenyl)-delta-lactone , 2H-1-Benzopyran, 2-oxo- , 2H-1-Benzopyran-2-one , 2H-Benzo(b)pyran-2-one , 3-(2-Hydroxyphenyl)-2-propenoic delta-lactone , 5,6-Benzo-alpha-pyrone , 5-17-10-00143 (Beilstein Handbook Reference) , AI3-00753 , Alpha-hexylcinnamic aldehyde , Benzo-alpha-pyrone , Caswell No. 259C , Cinnamic acid, o-hydroxy-, delta-lactone , Citral , Coumarin , Coumarinic anhydride , Coumarinic lactone , Cumarin , EPA Pesticide Chemical Code 127301 , Farnesol , Lyral , Rattex , Tonka bean camphor , cis-o-Coumaric acid anhydride , cis-o-Coumarinic acid lactone , o-Coumaric acid lactone , o-Hydroxycinnamic acid lactone , o-Hydroxycinnamic lactone , 4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 4-(4-Hydroxy-4-methylpentyl)cyclohex-3-enecarbaldehyde , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 4-01-00-02188 (Beilstein Handbook Reference) , AI3-25080 , Citronellol (ex. Java citronella oil) (natural) , Citronellol (natural) , FEMA No. 2309 , 2,6,10-Dodecatrien-1-ol, 3,7,11-trimethyl- , 3,7,11-Trimethyl-2,6,10-dodecatrienol , 3,7,11-Trimethyl-2,6,10-dodecatrien-1-ol , Trimethyl dodecatrienol"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.692311"], ["updated_at", "2022-12-24 23:25:21.692311"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 10], ["product_id", 10], ["reactive_substances", "Orange 3"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.694339"], ["updated_at", "2022-12-24 23:25:21.694339"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 11], ["product_id", 10], ["reactive_substances", "1,4-Benzenediamine, 2-methyl- , 2,5-Diaminotoluene , 2-Methyl-1,4-benzenediamine , 2-Methyl-p-phenylenediamine , 2-Methyl-para-phenylenediamine , 4-13-00-00246 (Beilstein Handbook Reference) , 4-Amino-2-methylaniline , Toluene-2,5-diamine , Toluylene-2,5-diamine , p,m-Tolylenediamine , p-Toluenediamine , p-Toluylendiamine , para-Toluenediamine , para-Toluylenediamine , para-Tolylenediamine"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.696341"], ["updated_at", "2022-12-24 23:25:21.696341"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 10], ["reactive_substances", "benzoisothiazolinone , isothiazolinone , chloromethylisothiazolinone , methylisothiazolinone , benzisothiazolinone , octylisothiazolinone"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.699012"], ["updated_at", "2022-12-24 23:25:21.699012"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 13], ["product_id", 10], ["reactive_substances", "4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , Lyral"], ["reactive_ingredient", "A"], ["created_at", "2022-12-24 23:25:21.700715"], ["updated_at", "2022-12-24 23:25:21.700715"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (1.9ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 10], ["reactive_substances", "4-10-00-02006 (Beilstein Handbook Reference) , BRN 2701981 , Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , Dodecyl 3,4,5-trihydroxybenzoate , Lauryl 3,4,5-trihydroxybenzoate "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.703511"], ["updated_at", "2022-12-24 23:25:21.703511"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 10], ["reactive_substances", "Benzenesulfonamide, 4-methyl-, polymer with formaldehyde "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.707411"], ["updated_at", "2022-12-24 23:25:21.707411"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 3], ["product_id", 10], ["reactive_substances", "4-26-00-00010 (Beilstein Handbook Reference) , BRN 0124982 , Busan 1060 , Grotan B , Grotan BK "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.709277"], ["updated_at", "2022-12-24 23:25:21.709277"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 10], ["reactive_substances", "Gabrite , HSDB 7203 , Karbamol , Karbamol B/M , Plastopal BT , Plyamine P 364BL , Poly(methi(bis(hydroxymethyl))ureylene) amer , Urea, polymer with 1-butanol and formaldehyde "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.710931"], ["updated_at", "2022-12-24 23:25:21.710931"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 10], ["reactive_substances", "2-bromo-2-nitropropane-1,3-diol (Bronopol), Tris nitromethane (Tris Nitro)(industrial biocide) , 2-bromo-2-nitropropane-1,3-diol (bromopol)"], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.712446"], ["updated_at", "2022-12-24 23:25:21.712446"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 10], ["reactive_substances", "HSDB 563 "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.714085"], ["updated_at", "2022-12-24 23:25:21.714085"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 7], ["product_id", 10], ["reactive_substances", "4-04-00-01259 (Beilstein Handbook Reference) , BRN 0605293 , HSDB 5391 "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.715673"], ["updated_at", "2022-12-24 23:25:21.715673"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 8], ["product_id", 10], ["reactive_substances", "4,4'-Methylenebis(benzeneamine) , 4,4'-Methylenebisaniline , 4-(4-Aminobenzyl)aniline , 4-13-00-00390 (Beilstein Handbook Reference) , BRN 0474706 , Benzenamine, 4,4'-methylenebis- , Bis(4-aminophenyl)methane , Bis(p-aminophenyl)methane , Bis-p-aminofenylmethan , Bis-p-aminofenylmethan [Czech] , HSDB 2541 , Methylenebis(aniline) "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.717163"], ["updated_at", "2022-12-24 23:25:21.717163"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 10], ["reactive_substances", "2H-1-Benzopyran-2-one , Tonka bean camphor , 1,2-Benzopyrone , 2-Oxo-1,2-benzopyran , 2H-1-Benzopyran, 2-oxo- , 2H-1-Benzopyran-2-one , 2H-Benzo(b)pyran-2-one , 5,6-Benzo-alpha-pyrone , 5-17-10-00143 (Beilstein Handbook Reference) , BRN 0383644 , Benzo-alpha-pyrone , Tonka bean camphor , 4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , BRN 2046455 , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 4-(4-Hydroxy-4-methylpentyl)cyclohex-3-enecarbaldehyde , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 4-01-00-02188 (Beilstein Handbook Reference) , BRN 1721507 "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.718540"], ["updated_at", "2022-12-24 23:25:21.718540"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 11], ["product_id", 10], ["reactive_substances", "1,4-Benzenediamine, 2-methyl- , 2-Methyl-1,4-benzenediamine , 4-13-00-00246 (Beilstein Handbook Reference) , BRN 0774521 , HSDB 6251 "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.719983"], ["updated_at", "2022-12-24 23:25:21.719983"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 10], ["reactive_substances", "benzoisothiazolinone , benzisothiazolinone "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.721535"], ["updated_at", "2022-12-24 23:25:21.721535"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 13], ["product_id", 10], ["reactive_substances", "4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , BRN 2046455 "], ["reactive_ingredient", "B"], ["created_at", "2022-12-24 23:25:21.723557"], ["updated_at", "2022-12-24 23:25:21.723557"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 10], ["reactive_substances", "4-10-00-02006 (Beilstein Handbook Reference) , Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , CCRIS 5568 , Dodecyl 3,4,5-trihydroxybenzoate , Dodecyl gallate , Dodecylester kyseliny gallove , Dodecylester kyseliny gallove [Czech] , EINECS 214-620-6 , Gallic acid, dodecyl ester , Gallic acid, lauryl ester , NSC 133463 "], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.726200"], ["updated_at", "2022-12-24 23:25:21.726200"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 3], ["product_id", 10], ["reactive_substances", "4-26-00-00010 (Beilstein Handbook Reference) , Actane , CCRIS 6246 , Caswell No. 481C , EINECS 225-208-0 , EPA Pesticide Chemical Code 083301 , KM 200 (alcohol) , NSC 516387 , Rancidity control agent "], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.727600"], ["updated_at", "2022-12-24 23:25:21.727600"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 10], ["reactive_substances", "Formic aldehyde , Tris nitromethane (Tris Nitro)(industrial biocide) , sodium hydroxymethylglycinate "], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.728945"], ["updated_at", "2022-12-24 23:25:21.728945"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 10], ["reactive_substances", "1,3,5,7-Tetraazatricyclo(3.3.1.1(3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 37))decane , Aceto HMT , CCRIS 2297 , Caswell No. 482 , Cystamin , Cystogen , EINECS 202-905-8 , EPA Pesticide Chemical Code 45501 , Formin (heterocycle) , Hexa (vulcanization accelerator) , Hexamine (heterocycle) , NSC 26346 , NSC 403347 , Nocceler H , S 4 (heterocycle) , Sanceler H , Vulkacit H 30 "], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.730198"], ["updated_at", "2022-12-24 23:25:21.730198"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 7], ["product_id", 10], ["reactive_substances", "4-04-00-01259 (Beilstein Handbook Reference) , CCRIS 4799 , EINECS 203-680-9 , NSC 1067 "], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.731415"], ["updated_at", "2022-12-24 23:25:21.731415"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 8], ["product_id", 10], ["reactive_substances", "4-13-00-00390 (Beilstein Handbook Reference) , Ancamine TL , Bis-p-aminofenylmethan [Czech] , CCRIS 1010 , Curithane , EINECS 202-974-4 , Epicure DDM , NCI-C54604 , NSC 4709 , Sumicure M , p,p'-Diaminodifenylmethan [Czech] "], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.732639"], ["updated_at", "2022-12-24 23:25:21.732639"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 10], ["reactive_substances", "Coumarin [NF X] , Tonka bean camphor , 2-Propenoic acid, 3-(2-hydroxyphenyl)-, delta-lactone , 2-Propenoic acid, 3-(2-hydroxyphenyl)-delta-lactone , 3-(2-Hydroxyphenyl)-2-propenoic delta-lactone , 5-17-10-00143 (Beilstein Handbook Reference) , Alpha-hexylcinnamic aldehyde , CCRIS 181 , Caswell No. 259C , Cinnamic acid, o-hydroxy-, delta-lactone , Citral , Coumarin , Coumarinic anhydride , Coumarinic lactone , Cumarin , EINECS 202-086-7 , EPA Pesticide Chemical Code 127301 , Tonka bean camphor , cis-o-Coumaric acid anhydride , cis-o-Coumarinic acid lactone , o-Coumaric acid lactone , o-Hydroxycinnamic acid lactone , o-Hydroxycinnamic lactone , 4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , EINECS 250-863-4 , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 4-(4-Hydroxy-4-methylpentyl)cyclohex-3-enecarbaldehyde , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 2,6-Dimethyl-2-octen-8-ol , 3,7-Dimethyl-6-octen-1-ol , 4-01-00-02188 (Beilstein Handbook Reference) , CCRIS 7452 , Cephrol , Citronellol (ex. Java citronella oil) (natural) , Citronellol (natural) , EINECS 203-375-0 , NSC 8779 , 2,6,10-Dodecatrien-1-ol, 3,7,11-trimethyl- , 3,7,11-Trimethyl-2,6,10-dodecatrienol , 3,7,11-Trimethyl-2,6,10-dodecatrien-1-ol , Trimethyl dodecatrienol"], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.733993"], ["updated_at", "2022-12-24 23:25:21.733993"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 10], ["product_id", 10], ["reactive_substances", "EINECS 211-984-8 "], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.735257"], ["updated_at", "2022-12-24 23:25:21.735257"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 11], ["product_id", 10], ["reactive_substances", "4-13-00-00246 (Beilstein Handbook Reference) , C.I. 76042 , CCRIS 7693 , CI 76042 , EINECS 202-442-1 "], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.736534"], ["updated_at", "2022-12-24 23:25:21.736534"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 10], ["reactive_substances", "chloromethylisothiazolinone , octylisothiazolinone"], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.739100"], ["updated_at", "2022-12-24 23:25:21.739100"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 13], ["product_id", 10], ["reactive_substances", "4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , EINECS 250-863-4 "], ["reactive_ingredient", "C"], ["created_at", "2022-12-24 23:25:21.742309"], ["updated_at", "2022-12-24 23:25:21.742309"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/10
Completed 302 Found in 132ms (ActiveRecord: 21.4ms | Allocations: 86520)


Started GET "/products/10" for ::1 at 2022-12-24 18:25:21 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"10"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 10], ["LIMIT", 1]]
  â†³ app/models/product.rb:29:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 10) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a' OR reactive_substances ILIKE 'a') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'a' OR reactive_substances ILIKE 'a')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [13 times] (Duration: 20.2ms | Allocations: 37755)
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'b' OR reactive_substances ILIKE 'b') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'b' OR reactive_substances ILIKE 'b')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 11], ["id", 12], ["id", 13]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [12 times] (Duration: 4.6ms | Allocations: 10718)
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'c' OR reactive_substances ILIKE 'c') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.4ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'c' OR reactive_substances ILIKE 'c')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11)[0m  [["id", 1], ["id", 3], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [11 times] (Duration: 6.8ms | Allocations: 16833)
  Rendered products/show.html.erb within layouts/application (Duration: 42.7ms | Allocations: 73676)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 44.8ms | Allocations: 77843)
Completed 200 OK in 46ms (Views: 41.8ms | ActiveRecord: 3.4ms | Allocations: 79313)


Started GET "/" for ::1 at 2022-12-25 12:03:50 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 21.5ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 31.9ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 59.5ms | Allocations: 76832)
Completed 200 OK in 90ms (Views: 54.6ms | ActiveRecord: 6.3ms | Allocations: 82126)


Started GET "/products/new" for ::1 at 2022-12-25 12:04:36 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.2ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 6.0ms | Allocations: 3104)
  Rendered products/new.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3725)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 7722)
Completed 200 OK in 66ms (Views: 15.5ms | ActiveRecord: 10.9ms | Allocations: 12356)


Started POST "/products" for ::1 at 2022-12-25 12:04:41 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone.\n\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 10]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.7ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 6]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 7]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 8]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 9]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 10]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 11]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 12]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 13]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 14]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 15]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 16]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 17]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 18]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 19]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 20]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 21]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 22]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 23]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 24]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 25]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 26]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 27]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 28]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 29]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 30]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 31]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 32]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 33]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 34]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 35]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 36]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 37]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 38]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 39]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 40]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 41]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 10]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone.\n\n"], ["created_at", "2022-12-25 17:04:41.458037"], ["updated_at", "2022-12-25 17:04:41.458037"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/11
Completed 302 Found in 106ms (ActiveRecord: 17.1ms | Allocations: 81170)


Started GET "/products/11" for ::1 at 2022-12-25 12:04:41 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"11"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone.' OR reactive_substances ILIKE 'Methylisothiazolinone.') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 8.5ms | Allocations: 10028)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 14232)
Completed 200 OK in 14ms (Views: 9.1ms | ActiveRecord: 2.2ms | Allocations: 15791)


Started GET "/products/11/edit" for ::1 at 2022-12-25 12:04:52 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.9ms | Allocations: 1131)
  Rendered products/edit.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1280)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 5056)
Completed 200 OK in 17ms (Views: 12.8ms | ActiveRecord: 0.5ms | Allocations: 5893)


Started PATCH "/products/11" for ::1 at 2022-12-25 12:04:58 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone\n\n"}, "commit"=>"Submit", "id"=>"11"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone\n\n"], ["updated_at", "2022-12-25 17:04:58.583033"], ["id", 11]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 11], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-25 17:04:58.626837"], ["updated_at", "2022-12-25 17:04:58.626837"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/11
Completed 302 Found in 51ms (ActiveRecord: 5.9ms | Allocations: 44225)


Started GET "/products/11" for ::1 at 2022-12-25 12:04:58 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"11"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 11) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.1ms | Allocations: 605)
  Rendered products/show.html.erb within layouts/application (Duration: 21.2ms | Allocations: 11943)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 23.8ms | Allocations: 15969)
Completed 200 OK in 26ms (Views: 20.8ms | ActiveRecord: 3.7ms | Allocations: 16736)


Started GET "/products/11/edit" for ::1 at 2022-12-25 12:09:43 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 5.0ms | Allocations: 3479)
  Rendered products/edit.html.erb within layouts/application (Duration: 5.7ms | Allocations: 3960)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 29.1ms | Allocations: 31178)
Completed 200 OK in 63ms (Views: 30.6ms | ActiveRecord: 5.9ms | Allocations: 42561)


Started PATCH "/products/11" for ::1 at 2022-12-25 12:09:49 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone.\n\n"}, "commit"=>"Submit", "id"=>"11"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone.\n\n"], ["updated_at", "2022-12-25 17:09:49.453992"], ["id", 11]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.7ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 42]]
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/11
Completed 302 Found in 64ms (ActiveRecord: 10.9ms | Allocations: 51868)


Started GET "/products/11" for ::1 at 2022-12-25 12:09:49 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"11"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone.' OR reactive_substances ILIKE 'Methylisothiazolinone.') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 10052)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 14199)
Completed 200 OK in 16ms (Views: 11.1ms | ActiveRecord: 2.6ms | Allocations: 15149)


Started GET "/products/11/edit" for ::1 at 2022-12-25 12:14:03 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.5ms | Allocations: 1124)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1184)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 4960)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 0.5ms | Allocations: 5743)


Started PATCH "/products/11" for ::1 at 2022-12-25 12:21:07 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"a-b-c, \n"}, "commit"=>"Submit", "id"=>"11"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "a-b-c, \n"], ["updated_at", "2022-12-25 17:21:07.932431"], ["id", 11]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.8ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (1.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 11], ["reactive_substances", "4-10-00-02006 (Beilstein Handbook Reference) , BRN 2701981 , Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , CCRIS 5568 , Dodecyl 3,4,5-trihydroxybenzoate , Dodecyl gallate , Dodecylester kyseliny gallove , Dodecylester kyseliny gallove [Czech] , EINECS 214-620-6 , Gallic acid, dodecyl ester , Gallic acid, lauryl ester , Lauryl 3,4,5-trihydroxybenzoate , Lauryl gallate , NSC 133463 , Nipagallin LA , Progallin LA"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:07.978594"], ["updated_at", "2022-12-25 17:21:07.978594"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 11], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin , Santolite MS , Santolite MHP"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:07.981622"], ["updated_at", "2022-12-25 17:21:07.981622"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 3], ["product_id", 11], ["reactive_substances", "1,3,5-Tris(2-hydroxyethyl)hexahydro- 1,3,5-triazine , 1,3,5-Tris(2-hydroxyethyl)hexahydro-striazine , 4-26-00-00010 (Beilstein Handbook Reference) , Actane , BRN 0124982 , Busan 1060 , CCRIS 6246 , Caswell No. 481C , EINECS 225-208-0 , EPA Pesticide Chemical Code 083301 , ETA 75 , Grotan , Grotan B , Grotan BK , Grotan HD , Hexahydro-1,3,5-triazine-1,3,5-triethanol , Hexahydro-1,3,5-tris(2-hydroxyethyl)-striazine , Hexahydro-1,3,5-tris(hydroxyethyl)triazine , KM 200 (alcohol) , Kalpur TE , NSC 516387 , Onyxide 200 , Ottaform 204 , Rancidity control agent , Roksol T 1-7"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:07.983891"], ["updated_at", "2022-12-25 17:21:07.983891"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 11], ["reactive_substances", "Formaldehyde, urea polymer , Gabrite , HSDB 7203 , Hygromull , KM 2 (Polymer) , Karbamol , Karbamol B/M , Kauresin K244 , Kaurit 285 FL , Kaurit 420 , PR 703-78 , Pianizol , Piatherm , Piatherm D , Plastopal BT , Plyamine HD 1129A , Plyamine P 364BL , Poly(methi(bis(hydroxymethyl))ureylene) amer , Polynoxylin , Ponoxylan , Resamin 155F , Resamin HW 505 , Resina X , S-Resin AER 20 , Uformite 700 , Uformite F 240N , Uloid 100 , Uloid 22 , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:07.986378"], ["updated_at", "2022-12-25 17:21:07.986378"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 11], ["reactive_substances", "Formaldehyde , Formalin , Formic aldehyde , Methaldehyde , Methyl aldehyde , Methylene oxide , Methanal , Oxymethylene, Quaternium-15, Diazolidinyl urea (GermallÂ® II),  dimethyl-dimethyl DMDM hydantoin (Glydant), Imidazolidinyl urea (GermallÂ®), 2-bromo-2-nitropropane-1,3-diol (Bronopol), Tris nitromethane (Tris Nitro)(industrial biocide) , sodium hydroxymethylglycinate , 2-bromo-2-nitropropane-1,3-diol (bromopol)"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:07.989783"], ["updated_at", "2022-12-25 17:21:07.989783"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 11], ["reactive_substances", "1,3,5,7-Tetraazaadamantane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 37))decane , AI3-09611 , Aceto HMT , Aminoform , Aminoformaldehyde , Ammoform , Ammonioformaldehyde , Antihydral , CCRIS 2297 , Caswell No. 482 , Cystamin , Cystogen , Duirexol , EINECS 202-905-8 , EPA Pesticide Chemical Code 45501 , Ekagom H , Esametilentetramina , Esametilentetramina [Italian] , Formamine , Formin , Formin (heterocycle) , HMT , HSDB 563 , Herax UTS , Heterin , Hexa (vulcanization accelerator) , Hexa-Flo-Pulver , Hexaform , Hexaloids , Hexamethylenamine , Hexamethyleneamine , Hexamethylenetetraamine , Hexamethylenetetramine , Hexamethylenetetraminum , Hexamethylentetramin , Hexamethylentetramin [German] , Hexamethylentetramine , Hexamethylentetraminum , Hexamine , Hexamine (heterocycle) , Hexaminum , Hexasan , Hexasan (VAN) , Hexilmethylenamine , Metenamina , Metenamina [INN-Spanish] , Methenamin , Methenamine , Methenaminum , Methenaminum [INN-Latin] , Metramine , NSC 26346 , NSC 403347 , Nocceler H , Preparation AF , Resotropin , S 4 (heterocycle) , Sanceler H , Uramin , Uratrine , Uritone , Urodeine , Urotropin , Urotropine , Vulkacit H 30 , Xametrin"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:07.992875"], ["updated_at", "2022-12-25 17:21:07.992875"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 7], ["product_id", 11], ["reactive_substances", "1,3-Propanediamine, N,N-dimethyl- , 1-(Dimethylamino)-3-aminopropane , 1-Amino-3-dimethylaminopropane , 3-(Dimethylamino)-1-propanamine , 3-(Dimethylamino)-1-propylamine , 3-(Dimethylamino)propylamine , 3-Amino-1-(dimethylamino)propane , 4-04-00-01259 (Beilstein Handbook Reference) , AI3-25441 , BRN 0605293 , CCRIS 4799 , EINECS 203-680-9 , HSDB 5391 , N,N-Dimethyl-1,3-diaminopropane , N,N-Dimethyl-1,3-propanediamine , N,N-Dimethyl-1,3-propylenediamine , N,N-Dimethyl-N-(3-aminopropyl)amine , N,N-Dimethylpropylenediamine , N,N-Dimethyltrimethylenediamine , N-Dimethyltrimethylenediamine , NSC 1067 , Propylamine, 3-(N,N-dimethylamino)- , gamma-(Dimethylamino)propylamin"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:07.995319"], ["updated_at", "2022-12-25 17:21:07.995319"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 8], ["product_id", 11], ["reactive_substances", "4,4'-Diaminodiphenylmethan , 4,4'-Diaminodiphenylmethan [German] , 4,4'-Diaminodiphenylmethane , 4,4'-Dimethylenediamine , 4,4'-Diphenylmethanediamine , 4,4'-Methylenebis(benzeneamine) , 4,4'-Methylenebisaniline , 4,4'-Methylenedianiline , 4-(4-Aminobenzyl)aniline , 4-13-00-00390 (Beilstein Handbook Reference) , AI3-02615 , Ancamine TL , Aniline, 4,4'-methylenedi- , Araldite hardener 972 , Avaldite HT 972 , BRN 0474706 , Benzenamine, 4,4'-methylenebis- , Bis(4-aminophenyl)methane , Bis(p-aminophenyl)methane , Bis-p-aminofenylmethan , Bis-p-aminofenylmethan [Czech] , CCRIS 1010 , Curithane , Dadpm , Di-(4-aminophenyl)methane , Diaminodiphenylmethane , Dianilinemethane , Dianilinomethane , EINECS 202-974-4 , Epicure DDM , Epikure DDM , HSDB 2541 , HT 972 , Jeffamine AP-20 , MDA , Methylenebis(aniline) , Methylenedianiline , Methylenedianiline (VAN) , NCI-C54604 , NSC 4709 , Sumicure M , Tonox , p,p'-Diaminodifenylmethan , p,p'-Diaminodifenylmethan [Czech] , p,p'-Diaminodiphenylmethane , p,p'-Methylenedianiline , p-Toluidine, alpha-(p-aminophenyl)-"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:07.998302"], ["updated_at", "2022-12-25 17:21:07.998302"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 11], ["reactive_substances", "2H-1-Benzopyran-2-one , Coumarin [NF X] , Tonka bean camphor , 1,2-Benzopyrone , 2-Oxo-1,2-benzopyran , 2-Propenoic acid, 3-(2-hydroxyphenyl)-, delta-lactone , 2-Propenoic acid, 3-(2-hydroxyphenyl)-delta-lactone , 2H-1-Benzopyran, 2-oxo- , 2H-1-Benzopyran-2-one , 2H-Benzo(b)pyran-2-one , 3-(2-Hydroxyphenyl)-2-propenoic delta-lactone , 5,6-Benzo-alpha-pyrone , 5-17-10-00143 (Beilstein Handbook Reference) , AI3-00753 , Alpha-hexylcinnamic aldehyde , BRN 0383644 , Benzo-alpha-pyrone , CCRIS 181 , Caswell No. 259C , Cinnamic acid, o-hydroxy-, delta-lactone , Citral , Coumarin , Coumarinic anhydride , Coumarinic lactone , Cumarin , EINECS 202-086-7 , EPA Pesticide Chemical Code 127301 , Farnesol , Lyral , Rattex , Tonka bean camphor , cis-o-Coumaric acid anhydride , cis-o-Coumarinic acid lactone , o-Coumaric acid lactone , o-Hydroxycinnamic acid lactone , o-Hydroxycinnamic lactone , 4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , BRN 2046455 , EINECS 250-863-4 , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 4-(4-Hydroxy-4-methylpentyl)cyclohex-3-enecarbaldehyde , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 2,6-Dimethyl-2-octen-8-ol , 3,7-Dimethyl-6-octen-1-ol , 4-01-00-02188 (Beilstein Handbook Reference) , AI3-25080 , BRN 1721507 , CCRIS 7452 , Cephrol , Citronellol (ex. Java citronella oil) (natural) , Citronellol (natural) , EINECS 203-375-0 , Elenol , FEMA No. 2309 , NSC 8779 , Rhodinol , Rodinol , 2,6,10-Dodecatrien-1-ol, 3,7,11-trimethyl- , 3,7,11-Trimethyl-2,6,10-dodecatrienol , 3,7,11-Trimethyl-2,6,10-dodecatrien-1-ol , Trimethyl dodecatrienol"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:08.001769"], ["updated_at", "2022-12-25 17:21:08.001769"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 10], ["product_id", 11], ["reactive_substances", "EINECS 211-984-8 , Orange 3"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:08.005236"], ["updated_at", "2022-12-25 17:21:08.005236"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 11], ["product_id", 11], ["reactive_substances", "1,4-Benzenediamine, 2-methyl- , 2,5-Diaminotoluene , 2-Methyl-1,4-benzenediamine , 2-Methyl-p-phenylenediamine , 2-Methyl-para-phenylenediamine , 4-13-00-00246 (Beilstein Handbook Reference) , 4-Amino-2-methylaniline , BRN 0774521 , C.I. 76042 , CCRIS 7693 , CI 76042 , EINECS 202-442-1 , HSDB 6251 , Toluene-2,5-diamine , Toluylene-2,5-diamine , p,m-Tolylenediamine , p-Toluenediamine , p-Toluylendiamine , para-Toluenediamine , para-Toluylenediamine , para-Tolylenediamine"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:08.016979"], ["updated_at", "2022-12-25 17:21:08.016979"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 11], ["reactive_substances", "benzoisothiazolinone , isothiazolinone , chloromethylisothiazolinone , methylisothiazolinone , benzisothiazolinone , octylisothiazolinone"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:08.019224"], ["updated_at", "2022-12-25 17:21:08.019224"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 13], ["product_id", 11], ["reactive_substances", "4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , BRN 2046455 , EINECS 250-863-4 , Lyral"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 17:21:08.021964"], ["updated_at", "2022-12-25 17:21:08.021964"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/11
Completed 302 Found in 113ms (ActiveRecord: 18.7ms | Allocations: 39453)


Started GET "/products/11" for ::1 at 2022-12-25 12:21:08 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"11"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 11) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a-b-c' OR reactive_substances ILIKE 'a-b-c') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '' OR reactive_substances ILIKE '') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '' OR reactive_substances ILIKE '')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [13 times] (Duration: 26.5ms | Allocations: 42142)
  Rendered products/show.html.erb within layouts/application (Duration: 31.9ms | Allocations: 46369)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 34.6ms | Allocations: 50550)
Completed 200 OK in 36ms (Views: 33.9ms | ActiveRecord: 1.4ms | Allocations: 51378)


Started GET "/products/11" for ::1 at 2022-12-25 12:22:03 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 11], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 11) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a-b-c' OR reactive_substances ILIKE 'a-b-c') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '' OR reactive_substances ILIKE '') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '' OR reactive_substances ILIKE '')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.7ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [13 times] (Duration: 16.6ms | Allocations: 42158)
  Rendered products/show.html.erb within layouts/application (Duration: 31.1ms | Allocations: 52705)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 56.7ms | Allocations: 80541)
Completed 200 OK in 74ms (Views: 51.1ms | ActiveRecord: 13.5ms | Allocations: 92075)


Started GET "/" for ::1 at 2022-12-25 12:22:21 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (1.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 49.1ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.6ms | Allocations: 49177)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 82.8ms | Allocations: 76283)
Completed 200 OK in 88ms (Views: 77.4ms | ActiveRecord: 6.8ms | Allocations: 81578)


Started GET "/products/new" for ::1 at 2022-12-25 12:22:23 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.1ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 12.2ms | Allocations: 3104)
  Rendered products/new.html.erb within layouts/application (Duration: 15.6ms | Allocations: 3725)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 20.6ms | Allocations: 7722)
Completed 200 OK in 37ms (Views: 22.3ms | ActiveRecord: 3.1ms | Allocations: 12236)


Started POST "/products" for ::1 at 2022-12-25 12:22:33 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"a-b-c, "}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 11]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 43]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 44]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 45]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 46]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 47]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 48]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 49]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 50]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 51]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 52]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 53]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 54]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 55]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 11]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "a-b-c, "], ["created_at", "2022-12-25 17:22:33.923382"], ["updated_at", "2022-12-25 17:22:33.923382"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/12
Completed 302 Found in 39ms (ActiveRecord: 8.6ms | Allocations: 28637)


Started GET "/products/12" for ::1 at 2022-12-25 12:22:33 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"12"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a-b-c' OR reactive_substances ILIKE 'a-b-c') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1941)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 6112)
Completed 200 OK in 7ms (Views: 4.5ms | ActiveRecord: 1.0ms | Allocations: 7670)


Started GET "/products/12" for ::1 at 2022-12-25 12:26:16 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 12], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a-b-c' OR reactive_substances ILIKE 'a-b-c') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 23.3ms | Allocations: 3858)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 174)
  Rendered layout layouts/application.html.erb (Duration: 47.2ms | Allocations: 31619)
Completed 200 OK in 74ms (Views: 58.1ms | ActiveRecord: 8.5ms | Allocations: 43153)


Started GET "/" for ::1 at 2022-12-25 12:32:43 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 20.5ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.3ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 59.0ms | Allocations: 77044)
Completed 200 OK in 65ms (Views: 53.8ms | ActiveRecord: 6.4ms | Allocations: 82339)


Started GET "/products/new" for ::1 at 2022-12-25 12:32:46 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 8.7ms | Allocations: 3092)
  Rendered products/new.html.erb within layouts/application (Duration: 10.6ms | Allocations: 3713)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 7710)
Completed 200 OK in 31ms (Views: 16.8ms | ActiveRecord: 3.1ms | Allocations: 12356)


Started POST "/products" for ::1 at 2022-12-25 12:32:59 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone."}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 12]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 12]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone."], ["created_at", "2022-12-25 17:32:59.706610"], ["updated_at", "2022-12-25 17:32:59.706610"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/13
Completed 302 Found in 72ms (ActiveRecord: 10.6ms | Allocations: 50125)


Started GET "/products/13" for ::1 at 2022-12-25 12:32:59 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"13"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone.' OR reactive_substances ILIKE 'Methylisothiazolinone.') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 34.9ms | Allocations: 10023)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 38.0ms | Allocations: 14172)
Completed 200 OK in 43ms (Views: 34.6ms | ActiveRecord: 3.9ms | Allocations: 15720)


Started GET "/products/13" for ::1 at 2022-12-25 12:33:31 -0500
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 13], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 10841)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 32)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 15078)
Completed 200 OK in 21ms (Views: 7.9ms | ActiveRecord: 9.6ms | Allocations: 20196)


Started GET "/products/new" for ::1 at 2022-12-25 12:33:38 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 17)
  Rendered products/_form.html.erb (Duration: 3.5ms | Allocations: 1131)
  Rendered products/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1267)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 5052)
Completed 200 OK in 12ms (Views: 10.8ms | ActiveRecord: 0.0ms | Allocations: 5374)


Started POST "/products" for ::1 at 2022-12-25 12:33:42 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone."}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 13]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 13]]
  â†³ app/models/product.rb:56:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone."], ["created_at", "2022-12-25 17:33:42.066594"], ["updated_at", "2022-12-25 17:33:42.066594"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:62:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:40:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 14], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-25 17:33:42.127584"], ["updated_at", "2022-12-25 17:33:42.127584"]]
  â†³ app/models/product.rb:45:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/14
Completed 302 Found in 65ms (ActiveRecord: 12.1ms | Allocations: 54027)


Started GET "/products/14" for ::1 at 2022-12-25 12:33:42 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"14"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 14], ["LIMIT", 1]]
  â†³ app/models/product.rb:27:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 14) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.0ms | Allocations: 635)
  Rendered products/show.html.erb within layouts/application (Duration: 19.3ms | Allocations: 12041)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 21.8ms | Allocations: 16195)
Completed 200 OK in 24ms (Views: 18.6ms | ActiveRecord: 3.8ms | Allocations: 17022)


Started GET "/products/14/edit" for ::1 at 2022-12-25 12:36:05 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.2ms | Allocations: 3487)
  Rendered products/edit.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3968)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 23.6ms | Allocations: 30902)
Completed 200 OK in 39ms (Views: 24.7ms | ActiveRecord: 7.0ms | Allocations: 42449)


Started PATCH "/products/14" for ::1 at 2022-12-25 12:36:09 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone."}, "commit"=>"Submit", "id"=>"14"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 56]]
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.7ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 14], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-25 17:36:10.014746"], ["updated_at", "2022-12-25 17:36:10.014746"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/14
Completed 302 Found in 81ms (ActiveRecord: 13.6ms | Allocations: 55591)


Started GET "/products/14" for ::1 at 2022-12-25 12:36:10 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"14"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 14], ["LIMIT", 1]]
  â†³ app/models/product.rb:29:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 14) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.7ms | Allocations: 717)
  Rendered products/show.html.erb within layouts/application (Duration: 12.5ms | Allocations: 12789)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 16949)
Completed 200 OK in 17ms (Views: 11.7ms | ActiveRecord: 3.8ms | Allocations: 17895)


Started GET "/products/14/edit" for ::1 at 2022-12-25 12:36:15 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.8ms | Allocations: 1112)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1172)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 4950)
Completed 200 OK in 14ms (Views: 11.4ms | ActiveRecord: 0.3ms | Allocations: 5733)


Started PATCH "/products/14" for ::1 at 2022-12-25 12:36:32 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone., abc/def"}, "commit"=>"Submit", "id"=>"14"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone., abc/def"], ["updated_at", "2022-12-25 17:36:32.064156"], ["id", 14]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 57]]
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 14], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-25 17:36:32.111899"], ["updated_at", "2022-12-25 17:36:32.111899"]]
  â†³ app/models/product.rb:47:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:42:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/14
Completed 302 Found in 56ms (ActiveRecord: 6.1ms | Allocations: 46075)


Started GET "/products/14" for ::1 at 2022-12-25 12:36:32 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"14"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 14], ["LIMIT", 1]]
  â†³ app/models/product.rb:29:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 14) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (2.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 332)
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abc/def' OR reactive_substances ILIKE 'abc/def') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 46.8ms | Allocations: 12128)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 61.7ms | Allocations: 16121)
Completed 200 OK in 63ms (Views: 55.8ms | ActiveRecord: 6.4ms | Allocations: 16890)


Started GET "/" for ::1 at 2022-12-25 12:55:13 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 50.7ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 60.0ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 87.3ms | Allocations: 76871)
Completed 200 OK in 94ms (Views: 83.6ms | ActiveRecord: 5.0ms | Allocations: 82167)


Started GET "/products/new" for ::1 at 2022-12-25 12:55:18 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 10.9ms | Allocations: 3080)
  Rendered products/new.html.erb within layouts/application (Duration: 13.2ms | Allocations: 3701)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 7698)
Completed 200 OK in 38ms (Views: 21.9ms | ActiveRecord: 6.1ms | Allocations: 12392)


Started POST "/products" for ::1 at 2022-12-25 12:55:28 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone."}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 14]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 58]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 14]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone."], ["created_at", "2022-12-25 17:55:29.013762"], ["updated_at", "2022-12-25 17:55:29.013762"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/15
Completed 302 Found in 67ms (ActiveRecord: 13.1ms | Allocations: 54822)


Started GET "/products/15" for ::1 at 2022-12-25 12:55:29 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"15"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone.' OR reactive_substances ILIKE 'Methylisothiazolinone.') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 10.3ms | Allocations: 10022)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 14186)
Completed 200 OK in 15ms (Views: 10.3ms | ActiveRecord: 3.2ms | Allocations: 15744)


Started GET "/products/15" for ::1 at 2022-12-25 12:55:53 -0500
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 9.3ms | Allocations: 10841)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 32)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 15137)
Completed 200 OK in 21ms (Views: 8.0ms | ActiveRecord: 9.3ms | Allocations: 20207)


Started GET "/products/15/edit" for ::1 at 2022-12-25 12:55:58 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.4ms | Allocations: 1217)
  Rendered products/edit.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1392)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 5168)
Completed 200 OK in 18ms (Views: 13.7ms | ActiveRecord: 0.4ms | Allocations: 6065)


Started PATCH "/products/15" for ::1 at 2022-12-25 12:56:01 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone."}, "commit"=>"Submit", "id"=>"15"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 15], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-25 17:56:01.609510"], ["updated_at", "2022-12-25 17:56:01.609510"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/15
Completed 302 Found in 60ms (ActiveRecord: 9.7ms | Allocations: 48803)


Started GET "/products/15" for ::1 at 2022-12-25 12:56:01 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"15"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 15) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.1ms | Allocations: 628)
  Rendered products/show.html.erb within layouts/application (Duration: 14.0ms | Allocations: 12023)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 16119)
Completed 200 OK in 20ms (Views: 14.6ms | ActiveRecord: 3.1ms | Allocations: 16945)


Started GET "/products/15/edit" for ::1 at 2022-12-25 12:56:12 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 1131)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1191)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 4966)
Completed 200 OK in 13ms (Views: 9.7ms | ActiveRecord: 0.2ms | Allocations: 5729)


Started PATCH "/products/15" for ::1 at 2022-12-25 12:56:22 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone., abc/def"}, "commit"=>"Submit", "id"=>"15"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone., abc/def"], ["updated_at", "2022-12-25 17:56:22.052772"], ["id", 15]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 59]]
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 15], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-25 17:56:22.100746"], ["updated_at", "2022-12-25 17:56:22.100746"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/15
Completed 302 Found in 55ms (ActiveRecord: 6.2ms | Allocations: 46061)


Started GET "/products/15" for ::1 at 2022-12-25 12:56:22 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"15"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 15) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 333)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abcdef' OR reactive_substances ILIKE 'abcdef') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 15.6ms | Allocations: 12126)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 16135)
Completed 200 OK in 20ms (Views: 14.9ms | ActiveRecord: 3.8ms | Allocations: 16903)


Started GET "/products/15/edit" for ::1 at 2022-12-25 12:57:10 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 18.8ms | Allocations: 3460)
  Rendered products/edit.html.erb within layouts/application (Duration: 24.8ms | Allocations: 3941)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 164)
  Rendered layout layouts/application.html.erb (Duration: 46.3ms | Allocations: 31371)
Completed 200 OK in 72ms (Views: 56.7ms | ActiveRecord: 6.7ms | Allocations: 42909)


Started PATCH "/products/15" for ::1 at 2022-12-25 12:57:14 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone., abc/def"}, "commit"=>"Submit", "id"=>"15"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 60]]
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (1.0ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 15], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-25 17:57:14.389107"], ["updated_at", "2022-12-25 17:57:14.389107"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/15
Completed 302 Found in 74ms (ActiveRecord: 13.5ms | Allocations: 58202)


Started GET "/products/15" for ::1 at 2022-12-25 12:57:14 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"15"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 15], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 15) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.9ms | Allocations: 716)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abc/def' OR reactive_substances ILIKE 'abc/def') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 12.6ms | Allocations: 13358)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 17472)
Completed 200 OK in 17ms (Views: 12.8ms | ActiveRecord: 3.1ms | Allocations: 18417)


Started GET "/" for ::1 at 2022-12-25 15:10:49 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 50.1ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 60.6ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 85.0ms | Allocations: 76755)
Completed 200 OK in 93ms (Views: 81.0ms | ActiveRecord: 5.6ms | Allocations: 82050)


Started GET "/products/new" for ::1 at 2022-12-25 15:10:51 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.9ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 10.3ms | Allocations: 3099)
  Rendered products/new.html.erb within layouts/application (Duration: 14.3ms | Allocations: 3721)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 20.3ms | Allocations: 7718)
Completed 200 OK in 37ms (Views: 21.9ms | ActiveRecord: 2.8ms | Allocations: 12376)


Started POST "/products" for ::1 at 2022-12-25 15:11:09 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone., abc/def"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 15]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 61]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 15]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water, Stearyl Alcohol, Behentrimonium Methosulfate, Bis-aminopropyl Dimethicone, Cetyl Alcohol, Fragrance, Benzyl Alcohol, Dicetyldimonium Chloride, Disodium Edta, Histidine, Panthenol, Panthenyl Ethyl Ether, Citric Acid, Methylchloroisothiazolinone, Methylisothiazolinone., abc/def"], ["created_at", "2022-12-25 20:11:09.975852"], ["updated_at", "2022-12-25 20:11:09.975852"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 16], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-25 20:11:10.033776"], ["updated_at", "2022-12-25 20:11:10.033776"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/16
Completed 302 Found in 65ms (ActiveRecord: 11.0ms | Allocations: 62643)


Started GET "/products/16" for ::1 at 2022-12-25 15:11:10 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"16"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 16], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 16) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearyl Alcohol' OR reactive_substances ILIKE 'Stearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Methosulfate' OR reactive_substances ILIKE 'Behentrimonium Methosulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Bis-aminopropyl Dimethicone' OR reactive_substances ILIKE 'Bis-aminopropyl Dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Alcohol' OR reactive_substances ILIKE 'Cetyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dicetyldimonium Chloride' OR reactive_substances ILIKE 'Dicetyldimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Edta' OR reactive_substances ILIKE 'Disodium Edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Histidine' OR reactive_substances ILIKE 'Histidine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenyl Ethyl Ether' OR reactive_substances ILIKE 'Panthenyl Ethyl Ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylchloroisothiazolinone' OR reactive_substances ILIKE 'Methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Methylisothiazolinone' OR reactive_substances ILIKE 'Methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.9ms | Allocations: 602)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'abc' OR reactive_substances ILIKE 'abc') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'def' OR reactive_substances ILIKE 'def') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 13.0ms | Allocations: 13786)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 15.9ms | Allocations: 17929)
Completed 200 OK in 18ms (Views: 13.0ms | ActiveRecord: 3.3ms | Allocations: 19443)


Started GET "/" for ::1 at 2022-12-25 15:20:12 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 48.9ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 58.4ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 80.7ms | Allocations: 76365)
Completed 200 OK in 87ms (Views: 76.4ms | ActiveRecord: 5.6ms | Allocations: 81660)


Started GET "/products/new" for ::1 at 2022-12-25 15:20:14 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 9.9ms | Allocations: 3105)
  Rendered products/new.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3727)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 7724)
Completed 200 OK in 34ms (Views: 21.4ms | ActiveRecord: 2.6ms | Allocations: 12373)


Started POST "/products" for ::1 at 2022-12-25 15:21:10 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Amylase Enzyme, \nAqua (Water), \nC12-15 Pareth, \nC12-16 Pareth, \nC14-15 Pareth, \nDisodium Distyrylbiphenyl Disulfonate, \nGlycerin, \nHydrogenated Castor Oil, \nMEA Laureth Sulfate, \nMEA Salt of Palm Kernel Fatty Acid, \nMEA-citrate, \nMEA-Fatty-Acid, \nMEA-LAS, \nPEG-136 polyvinyl alcohol, \nPolyethyleneimine Alkoxylated, \nPropylene Glycol, \nSodium Bisulfite, \nStyrene/Acrylates Copolymer, \nSubtilisin, \nTetrasodium Glutamate Diacetate"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 16]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (10.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 62]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (10.9ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 16]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Amylase Enzyme, \nAqua (Water), \nC12-15 Pareth, \nC12-16 Pareth, \nC14-15 Pareth, \nDisodium Distyrylbiphenyl Disulfonate, \nGlycerin, \nHydrogenated Castor Oil, \nMEA Laureth Sulfate, \nMEA Salt of Palm Kernel Fatty Acid, \nMEA-citrate, \nMEA-Fatty-Acid, \nMEA-LAS, \nPEG-136 polyvinyl alcohol, \nPolyethyleneimine Alkoxylated, \nPropylene Glycol, \nSodium Bisulfite, \nStyrene/Acrylates Copolymer, \nSubtilisin, \nTetrasodium Glutamate Diacetate"], ["created_at", "2022-12-25 20:21:10.461589"], ["updated_at", "2022-12-25 20:21:10.461589"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/17
Completed 302 Found in 70ms (ActiveRecord: 28.5ms | Allocations: 69947)


Started GET "/products/17" for ::1 at 2022-12-25 15:21:10 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"17"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 17], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Amylase Enzyme' OR reactive_substances ILIKE 'Amylase Enzyme') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Aqua (Water)' OR reactive_substances ILIKE 'Aqua (Water)') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'C12-15 Pareth' OR reactive_substances ILIKE 'C12-15 Pareth') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'C12-16 Pareth' OR reactive_substances ILIKE 'C12-16 Pareth') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'C14-15 Pareth' OR reactive_substances ILIKE 'C14-15 Pareth') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium Distyrylbiphenyl Disulfonate' OR reactive_substances ILIKE 'Disodium Distyrylbiphenyl Disulfonate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Glycerin' OR reactive_substances ILIKE 'Glycerin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrogenated Castor Oil' OR reactive_substances ILIKE 'Hydrogenated Castor Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'MEA Laureth Sulfate' OR reactive_substances ILIKE 'MEA Laureth Sulfate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'MEA Salt of Palm Kernel Fatty Acid' OR reactive_substances ILIKE 'MEA Salt of Palm Kernel Fatty Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'MEA-citrate' OR reactive_substances ILIKE 'MEA-citrate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'MEA-Fatty-Acid' OR reactive_substances ILIKE 'MEA-Fatty-Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'MEA-LAS' OR reactive_substances ILIKE 'MEA-LAS') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG-136 polyvinyl alcohol' OR reactive_substances ILIKE 'PEG-136 polyvinyl alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Polyethyleneimine Alkoxylated' OR reactive_substances ILIKE 'Polyethyleneimine Alkoxylated') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Propylene Glycol' OR reactive_substances ILIKE 'Propylene Glycol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Sodium Bisulfite' OR reactive_substances ILIKE 'Sodium Bisulfite') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Styrene' OR reactive_substances ILIKE 'Styrene') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Acrylates Copolymer' OR reactive_substances ILIKE 'Acrylates Copolymer') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Subtilisin' OR reactive_substances ILIKE 'Subtilisin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Tetrasodium Glutamate Diacetate' OR reactive_substances ILIKE 'Tetrasodium Glutamate Diacetate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 10.9ms | Allocations: 13487)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 17683)
Completed 200 OK in 16ms (Views: 11.4ms | ActiveRecord: 2.9ms | Allocations: 19241)


Started GET "/products/new" for ::1 at 2022-12-25 15:22:44 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 4.5ms | Allocations: 3354)
  Rendered products/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4216)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 56.1ms | Allocations: 31388)
Completed 200 OK in 68ms (Views: 57.3ms | ActiveRecord: 4.1ms | Allocations: 40226)


Started POST "/products" for ::1 at 2022-12-25 15:22:49 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"1101502 FS9 AQUA/WATER/EAU, SODIUM LAURETH SULFATE, COCO-BETAINE, SODIUM CHLORIDE, LAURETH-5 CARBOXYLIC ACID, COCAMIDE MIPA, AMODIMETHICONE, PARFUM/FRAGRANCE, SODIUM BENZOATE, HEXYLENE GLYCOL, POLYQUATERNIUM-7, PYRUS MALUS FRUIT EXTRACT/APPLE FRUIT EXTRACT, PEG-55 PROPYLENE GLYCOL OLEATE, PROPYLENE GLYCOL, SALICYLIC ACID, PEG-60 HYDROGENATED CASTOR OIL, NIACINAMIDE, PYRIDOXINE HCl, HEXYL CINNAMAL, CITRIC ACID, SACCHARUM OFFICINARUM EXTRACT/SUGAR CANE EXTRACT/EXTRAIT DE CANNE A SUCRE, BENZYL ALCOHOL, LINALOOL, AMYL CINNAMAL, ARGANIA SPINOSA KERNEL OIL, HYDROXYPROPYLTRIMONIUM LEMON PROTEIN, TOCOPHEROL, PHENOXYETHANOL, CITRUS LIMON PEEL EXTRACT/LEMON PEEL EXTRACT, LEUCONOSTOC/RADISH ROOT FERMENT FILTRATE, CAMELLIA SINENSIS LEAF EXTRACT, CI 19140/YELLOW 5, CI 14700/RED 4, SODIUM HYDROXIDE. F.I.L.# D191727/1 US PATENTS: 7,514,091; 8,246,941; 8,470,754 Conditioner: 1067659FS21 AQUA/WATER/EAU, CETEARYL ALCOHOL, BEHENTRIMONIUM CHLORIDE, AMODIMETHICONE, PARFUM/FRAGRANCE, ISOPROPYL ALCOHOL, PHENOXYETHANOL, PYRUS MALUS FRUIT EXTRACT/APPLE FRUIT EXTRACT, BENZOIC ACID, TRIDECETH-6, POTASSIUM HYDROXIDE, ARGANIA SPINOSA KERNEL OIL, NIACINAMIDE, PYRIDOXINE HCl, HEXYL CINNAMAL, CETRIMONIUM CHLORIDE, CITRIC ACID, SACCHARUM OFFICINARUM EXTRACT/SUGAR CANE EXTRACT/EXTRAIT DE CANNE A SUCRE, BENZYL ALCOHOL, LINALOOL, AMYL CINNAMAL, TOCOPHEROL, HYDROXYPROPYLTRIMONIUM LEMON PROTEIN, CI 19140/YELLOW 5, CI 15985/YELLOW 6, CITRUS LIMON PEEL EXTRACT/LEMON PEEL EXTRACT, LEUCONOSTOC/RADISH ROOT FERMENT FILTRATE, CAMELLIA SINENSIS LEAF EXTRACT."}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.9ms | Allocations: 380)
  Rendered products/_form.html.erb (Duration: 1.5ms | Allocations: 1240)
  Rendered products/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1789)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 5673)
Completed 422 Unprocessable Entity in 10ms (Views: 7.5ms | ActiveRecord: 0.0ms | Allocations: 7306)


Started POST "/products" for ::1 at 2022-12-25 15:23:20 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"1101502 FS9 AQUA/WATER/EAU, SODIUM LAURETH SULFATE, COCO-BETAINE, SODIUM CHLORIDE, LAURETH-5 CARBOXYLIC ACID, COCAMIDE MIPA, AMODIMETHICONE, PARFUM/FRAGRANCE, SODIUM BENZOATE, HEXYLENE GLYCOL, POLYQUATERNIUM-7, PYRUS MALUS FRUIT EXTRACT/APPLE FRUIT EXTRACT, PEG-55 PROPYLENE GLYCOL OLEATE, PROPYLENE GLYCOL, SALICYLIC ACID, PEG-60 HYDROGENATED CASTOR OIL, NIACINAMIDE, PYRIDOXINE HCl, HEXYL CINNAMAL, CITRIC ACID, SACCHARUM OFFICINARUM EXTRACT/SUGAR CANE EXTRACT/EXTRAIT DE CANNE A SUCRE, BENZYL ALCOHOL, LINALOOL, AMYL CINNAMAL, ARGANIA SPINOSA KERNEL OIL, HYDROXYPROPYLTRIMONIUM LEMON PROTEIN, TOCOPHEROL, PHENOXYETHANOL, CITRUS LIMON PEEL EXTRACT/LEMON PEEL EXTRACT, LEUCONOSTOC/RADISH ROOT FERMENT FILTRATE, CAMELLIA SINENSIS LEAF EXTRACT, CI 19140/YELLOW 5, CI 14700/RED 4, SODIUM HYDROXIDE, AQUA/WATER/EAU, CETEARYL ALCOHOL, BEHENTRIMONIUM CHLORIDE, AMODIMETHICONE, PARFUM/FRAGRANCE, ISOPROPYL ALCOHOL, PHENOXYETHANOL, PYRUS MALUS FRUIT EXTRACT/APPLE FRUIT EXTRACT, BENZOIC ACID, TRIDECETH-6, POTASSIUM HYDROXIDE, ARGANIA SPINOSA KERNEL OIL, NIACINAMIDE, PYRIDOXINE HCl, HEXYL CINNAMAL, CETRIMONIUM CHLORIDE, CITRIC ACID, SACCHARUM OFFICINARUM EXTRACT/SUGAR CANE EXTRACT/EXTRAIT DE CANNE A SUCRE, BENZYL ALCOHOL, LINALOOL, AMYL CINNAMAL, TOCOPHEROL, HYDROXYPROPYLTRIMONIUM LEMON PROTEIN, CI 19140/YELLOW 5, CI 15985/YELLOW 6, CITRUS LIMON PEEL EXTRACT/LEMON PEEL EXTRACT, LEUCONOSTOC/RADISH ROOT FERMENT FILTRATE, CAMELLIA SINENSIS LEAF EXTRACT."}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 17]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 17]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (1.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "1101502 FS9 AQUA/WATER/EAU, SODIUM LAURETH SULFATE, COCO-BETAINE, SODIUM CHLORIDE, LAURETH-5 CARBOXYLIC ACID, COCAMIDE MIPA, AMODIMETHICONE, PARFUM/FRAGRANCE, SODIUM BENZOATE, HEXYLENE GLYCOL, POLYQUATERNIUM-7, PYRUS MALUS FRUIT EXTRACT/APPLE FRUIT EXTRACT, PEG-55 PROPYLENE GLYCOL OLEATE, PROPYLENE GLYCOL, SALICYLIC ACID, PEG-60 HYDROGENATED CASTOR OIL, NIACINAMIDE, PYRIDOXINE HCl, HEXYL CINNAMAL, CITRIC ACID, SACCHARUM OFFICINARUM EXTRACT/SUGAR CANE EXTRACT/EXTRAIT DE CANNE A SUCRE, BENZYL ALCOHOL, LINALOOL, AMYL CINNAMAL, ARGANIA SPINOSA KERNEL OIL, HYDROXYPROPYLTRIMONIUM LEMON PROTEIN, TOCOPHEROL, PHENOXYETHANOL, CITRUS LIMON PEEL EXTRACT/LEMON PEEL EXTRACT, LEUCONOSTOC/RADISH ROOT FERMENT FILTRATE, CAMELLIA SINENSIS LEAF EXTRACT, CI 19140/YELLOW 5, CI 14700/RED 4, SODIUM HYDROXIDE, AQUA/WATER/EAU, CETEARYL ALCOHOL, BEHENTRIMONIUM CHLORIDE, AMODIMETHICONE, PARFUM/FRAGRANCE, ISOPROPYL ALCOHOL, PHENOXYETHANOL, PYRUS MALUS FRUIT EXTRACT/APPLE FRUIT EXTRACT, BENZOIC ACID, TRIDECETH-6, POTASSIUM HYDROXIDE, ARGANIA SPINOSA KERNEL OIL, NIACINAMIDE, PYRIDOXINE HCl, HEXYL CINNAMAL, CETRIMONIUM CHLORIDE, CITRIC ACID, SACCHARUM OFFICINARUM EXTRACT/SUGAR CANE EXTRACT/EXTRAIT DE CANNE A SUCRE, BENZYL ALCOHOL, LINALOOL, AMYL CINNAMAL, TOCOPHEROL, HYDROXYPROPYLTRIMONIUM LEMON PROTEIN, CI 19140/YELLOW 5, CI 15985/YELLOW 6, CITRUS LIMON PEEL EXTRACT/LEMON PEEL EXTRACT, LEUCONOSTOC/RADISH ROOT FERMENT FILTRATE, CAMELLIA SINENSIS LEAF EXTRACT."], ["created_at", "2022-12-25 20:23:20.324097"], ["updated_at", "2022-12-25 20:23:20.324097"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (1.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 18], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "BENZOIC ACID"], ["created_at", "2022-12-25 20:23:20.415075"], ["updated_at", "2022-12-25 20:23:20.415075"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/18
Completed 302 Found in 119ms (ActiveRecord: 16.6ms | Allocations: 213953)


Started GET "/products/18" for ::1 at 2022-12-25 15:23:20 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"18"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 18], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 18) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '1101502 FS9 AQUA' OR reactive_substances ILIKE '1101502 FS9 AQUA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'WATER' OR reactive_substances ILIKE 'WATER') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EAU' OR reactive_substances ILIKE 'EAU') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM LAURETH SULFATE' OR reactive_substances ILIKE 'SODIUM LAURETH SULFATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'COCO-BETAINE' OR reactive_substances ILIKE 'COCO-BETAINE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM CHLORIDE' OR reactive_substances ILIKE 'SODIUM CHLORIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LAURETH-5 CARBOXYLIC ACID' OR reactive_substances ILIKE 'LAURETH-5 CARBOXYLIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'COCAMIDE MIPA' OR reactive_substances ILIKE 'COCAMIDE MIPA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMODIMETHICONE' OR reactive_substances ILIKE 'AMODIMETHICONE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PARFUM' OR reactive_substances ILIKE 'PARFUM') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'FRAGRANCE' OR reactive_substances ILIKE 'FRAGRANCE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM BENZOATE' OR reactive_substances ILIKE 'SODIUM BENZOATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HEXYLENE GLYCOL' OR reactive_substances ILIKE 'HEXYLENE GLYCOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'POLYQUATERNIUM-7' OR reactive_substances ILIKE 'POLYQUATERNIUM-7') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PYRUS MALUS FRUIT EXTRACT' OR reactive_substances ILIKE 'PYRUS MALUS FRUIT EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'APPLE FRUIT EXTRACT' OR reactive_substances ILIKE 'APPLE FRUIT EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG-55 PROPYLENE GLYCOL OLEATE' OR reactive_substances ILIKE 'PEG-55 PROPYLENE GLYCOL OLEATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PROPYLENE GLYCOL' OR reactive_substances ILIKE 'PROPYLENE GLYCOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SALICYLIC ACID' OR reactive_substances ILIKE 'SALICYLIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG-60 HYDROGENATED CASTOR OIL' OR reactive_substances ILIKE 'PEG-60 HYDROGENATED CASTOR OIL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'NIACINAMIDE' OR reactive_substances ILIKE 'NIACINAMIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PYRIDOXINE HCl' OR reactive_substances ILIKE 'PYRIDOXINE HCl') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HEXYL CINNAMAL' OR reactive_substances ILIKE 'HEXYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRIC ACID' OR reactive_substances ILIKE 'CITRIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SACCHARUM OFFICINARUM EXTRACT' OR reactive_substances ILIKE 'SACCHARUM OFFICINARUM EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SUGAR CANE EXTRACT' OR reactive_substances ILIKE 'SUGAR CANE EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EXTRAIT DE CANNE A SUCRE' OR reactive_substances ILIKE 'EXTRAIT DE CANNE A SUCRE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZYL ALCOHOL' OR reactive_substances ILIKE 'BENZYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LINALOOL' OR reactive_substances ILIKE 'LINALOOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMYL CINNAMAL' OR reactive_substances ILIKE 'AMYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'ARGANIA SPINOSA KERNEL OIL' OR reactive_substances ILIKE 'ARGANIA SPINOSA KERNEL OIL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HYDROXYPROPYLTRIMONIUM LEMON PROTEIN' OR reactive_substances ILIKE 'HYDROXYPROPYLTRIMONIUM LEMON PROTEIN') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'TOCOPHEROL' OR reactive_substances ILIKE 'TOCOPHEROL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PHENOXYETHANOL' OR reactive_substances ILIKE 'PHENOXYETHANOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRUS LIMON PEEL EXTRACT' OR reactive_substances ILIKE 'CITRUS LIMON PEEL EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LEMON PEEL EXTRACT' OR reactive_substances ILIKE 'LEMON PEEL EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LEUCONOSTOC' OR reactive_substances ILIKE 'LEUCONOSTOC') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'RADISH ROOT FERMENT FILTRATE' OR reactive_substances ILIKE 'RADISH ROOT FERMENT FILTRATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CAMELLIA SINENSIS LEAF EXTRACT' OR reactive_substances ILIKE 'CAMELLIA SINENSIS LEAF EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CI 19140' OR reactive_substances ILIKE 'CI 19140') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'YELLOW 5' OR reactive_substances ILIKE 'YELLOW 5') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CI 14700' OR reactive_substances ILIKE 'CI 14700') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'RED 4' OR reactive_substances ILIKE 'RED 4') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM HYDROXIDE' OR reactive_substances ILIKE 'SODIUM HYDROXIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AQUA' OR reactive_substances ILIKE 'AQUA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'WATER' OR reactive_substances ILIKE 'WATER') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EAU' OR reactive_substances ILIKE 'EAU') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CETEARYL ALCOHOL' OR reactive_substances ILIKE 'CETEARYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BEHENTRIMONIUM CHLORIDE' OR reactive_substances ILIKE 'BEHENTRIMONIUM CHLORIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMODIMETHICONE' OR reactive_substances ILIKE 'AMODIMETHICONE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PARFUM' OR reactive_substances ILIKE 'PARFUM') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'FRAGRANCE' OR reactive_substances ILIKE 'FRAGRANCE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'ISOPROPYL ALCOHOL' OR reactive_substances ILIKE 'ISOPROPYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PHENOXYETHANOL' OR reactive_substances ILIKE 'PHENOXYETHANOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PYRUS MALUS FRUIT EXTRACT' OR reactive_substances ILIKE 'PYRUS MALUS FRUIT EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'APPLE FRUIT EXTRACT' OR reactive_substances ILIKE 'APPLE FRUIT EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZOIC ACID' OR reactive_substances ILIKE 'BENZOIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZOIC ACID' OR reactive_substances ILIKE 'BENZOIC ACID')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.1ms | Allocations: 490)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'TRIDECETH-6' OR reactive_substances ILIKE 'TRIDECETH-6') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'POTASSIUM HYDROXIDE' OR reactive_substances ILIKE 'POTASSIUM HYDROXIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'ARGANIA SPINOSA KERNEL OIL' OR reactive_substances ILIKE 'ARGANIA SPINOSA KERNEL OIL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'NIACINAMIDE' OR reactive_substances ILIKE 'NIACINAMIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PYRIDOXINE HCl' OR reactive_substances ILIKE 'PYRIDOXINE HCl') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HEXYL CINNAMAL' OR reactive_substances ILIKE 'HEXYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CETRIMONIUM CHLORIDE' OR reactive_substances ILIKE 'CETRIMONIUM CHLORIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRIC ACID' OR reactive_substances ILIKE 'CITRIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SACCHARUM OFFICINARUM EXTRACT' OR reactive_substances ILIKE 'SACCHARUM OFFICINARUM EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SUGAR CANE EXTRACT' OR reactive_substances ILIKE 'SUGAR CANE EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EXTRAIT DE CANNE A SUCRE' OR reactive_substances ILIKE 'EXTRAIT DE CANNE A SUCRE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZYL ALCOHOL' OR reactive_substances ILIKE 'BENZYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LINALOOL' OR reactive_substances ILIKE 'LINALOOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMYL CINNAMAL' OR reactive_substances ILIKE 'AMYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'TOCOPHEROL' OR reactive_substances ILIKE 'TOCOPHEROL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HYDROXYPROPYLTRIMONIUM LEMON PROTEIN' OR reactive_substances ILIKE 'HYDROXYPROPYLTRIMONIUM LEMON PROTEIN') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CI 19140' OR reactive_substances ILIKE 'CI 19140') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'YELLOW 5' OR reactive_substances ILIKE 'YELLOW 5') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CI 15985' OR reactive_substances ILIKE 'CI 15985') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'YELLOW 6' OR reactive_substances ILIKE 'YELLOW 6') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRUS LIMON PEEL EXTRACT' OR reactive_substances ILIKE 'CITRUS LIMON PEEL EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LEMON PEEL EXTRACT' OR reactive_substances ILIKE 'LEMON PEEL EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LEUCONOSTOC' OR reactive_substances ILIKE 'LEUCONOSTOC') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'RADISH ROOT FERMENT FILTRATE' OR reactive_substances ILIKE 'RADISH ROOT FERMENT FILTRATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CAMELLIA SINENSIS LEAF EXTRACT' OR reactive_substances ILIKE 'CAMELLIA SINENSIS LEAF EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 34.0ms | Allocations: 49113)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 53096)
Completed 200 OK in 37ms (Views: 26.7ms | ActiveRecord: 9.7ms | Allocations: 53865)


Started GET "/products/new" for ::1 at 2022-12-25 15:25:58 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 2.2ms | Allocations: 989)
  Rendered products/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1120)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 4904)
Completed 200 OK in 12ms (Views: 11.3ms | ActiveRecord: 0.0ms | Allocations: 5186)


Started POST "/products" for ::1 at 2022-12-25 15:26:02 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"AQUA / WATER / EAU CETEARYL ALCOHOL AMODIMETHICONE BEHENTRIMONIUM METHOSULFATE BEHENTRIMONIUM CHLORIDE PARFUM / FRAGRANCE DIPROPYLENE GLYCOL PHENOXYETHANOL BENZOIC ACID TRIDECETH-6 PRUNUS AMYGDALUS DULCIS OIL / SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA / MAGNESIUM ALUMINUM SILICATE PRUNUS AMYGDALUS DULCIS FRUIT EXTRACT / SWEET ALMOND FRUIT EXTRACT CI 19140 / YELLOW 5 CI 15985 / YELLOW 6 XANTHAN GUM CITRIC ACID SORBIC ACID\n\n"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 278)
  Rendered products/_form.html.erb (Duration: 1.8ms | Allocations: 1152)
  Rendered products/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1550)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 5326)
Completed 422 Unprocessable Entity in 13ms (Views: 10.9ms | ActiveRecord: 0.0ms | Allocations: 6387)


Started GET "/products/18" for ::1 at 2022-12-25 15:26:14 -0500
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 18], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 18) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '1101502 FS9 AQUA' OR reactive_substances ILIKE '1101502 FS9 AQUA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'WATER' OR reactive_substances ILIKE 'WATER') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EAU' OR reactive_substances ILIKE 'EAU') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM LAURETH SULFATE' OR reactive_substances ILIKE 'SODIUM LAURETH SULFATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'COCO-BETAINE' OR reactive_substances ILIKE 'COCO-BETAINE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM CHLORIDE' OR reactive_substances ILIKE 'SODIUM CHLORIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LAURETH-5 CARBOXYLIC ACID' OR reactive_substances ILIKE 'LAURETH-5 CARBOXYLIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'COCAMIDE MIPA' OR reactive_substances ILIKE 'COCAMIDE MIPA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMODIMETHICONE' OR reactive_substances ILIKE 'AMODIMETHICONE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PARFUM' OR reactive_substances ILIKE 'PARFUM') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'FRAGRANCE' OR reactive_substances ILIKE 'FRAGRANCE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM BENZOATE' OR reactive_substances ILIKE 'SODIUM BENZOATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HEXYLENE GLYCOL' OR reactive_substances ILIKE 'HEXYLENE GLYCOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'POLYQUATERNIUM-7' OR reactive_substances ILIKE 'POLYQUATERNIUM-7') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PYRUS MALUS FRUIT EXTRACT' OR reactive_substances ILIKE 'PYRUS MALUS FRUIT EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'APPLE FRUIT EXTRACT' OR reactive_substances ILIKE 'APPLE FRUIT EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG-55 PROPYLENE GLYCOL OLEATE' OR reactive_substances ILIKE 'PEG-55 PROPYLENE GLYCOL OLEATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PROPYLENE GLYCOL' OR reactive_substances ILIKE 'PROPYLENE GLYCOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SALICYLIC ACID' OR reactive_substances ILIKE 'SALICYLIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PEG-60 HYDROGENATED CASTOR OIL' OR reactive_substances ILIKE 'PEG-60 HYDROGENATED CASTOR OIL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'NIACINAMIDE' OR reactive_substances ILIKE 'NIACINAMIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PYRIDOXINE HCl' OR reactive_substances ILIKE 'PYRIDOXINE HCl') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HEXYL CINNAMAL' OR reactive_substances ILIKE 'HEXYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRIC ACID' OR reactive_substances ILIKE 'CITRIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SACCHARUM OFFICINARUM EXTRACT' OR reactive_substances ILIKE 'SACCHARUM OFFICINARUM EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SUGAR CANE EXTRACT' OR reactive_substances ILIKE 'SUGAR CANE EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EXTRAIT DE CANNE A SUCRE' OR reactive_substances ILIKE 'EXTRAIT DE CANNE A SUCRE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZYL ALCOHOL' OR reactive_substances ILIKE 'BENZYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LINALOOL' OR reactive_substances ILIKE 'LINALOOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMYL CINNAMAL' OR reactive_substances ILIKE 'AMYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'ARGANIA SPINOSA KERNEL OIL' OR reactive_substances ILIKE 'ARGANIA SPINOSA KERNEL OIL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HYDROXYPROPYLTRIMONIUM LEMON PROTEIN' OR reactive_substances ILIKE 'HYDROXYPROPYLTRIMONIUM LEMON PROTEIN') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'TOCOPHEROL' OR reactive_substances ILIKE 'TOCOPHEROL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PHENOXYETHANOL' OR reactive_substances ILIKE 'PHENOXYETHANOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRUS LIMON PEEL EXTRACT' OR reactive_substances ILIKE 'CITRUS LIMON PEEL EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LEMON PEEL EXTRACT' OR reactive_substances ILIKE 'LEMON PEEL EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LEUCONOSTOC' OR reactive_substances ILIKE 'LEUCONOSTOC') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'RADISH ROOT FERMENT FILTRATE' OR reactive_substances ILIKE 'RADISH ROOT FERMENT FILTRATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CAMELLIA SINENSIS LEAF EXTRACT' OR reactive_substances ILIKE 'CAMELLIA SINENSIS LEAF EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CI 19140' OR reactive_substances ILIKE 'CI 19140') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'YELLOW 5' OR reactive_substances ILIKE 'YELLOW 5') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CI 14700' OR reactive_substances ILIKE 'CI 14700') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'RED 4' OR reactive_substances ILIKE 'RED 4') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM HYDROXIDE' OR reactive_substances ILIKE 'SODIUM HYDROXIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AQUA' OR reactive_substances ILIKE 'AQUA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'WATER' OR reactive_substances ILIKE 'WATER') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EAU' OR reactive_substances ILIKE 'EAU') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CETEARYL ALCOHOL' OR reactive_substances ILIKE 'CETEARYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BEHENTRIMONIUM CHLORIDE' OR reactive_substances ILIKE 'BEHENTRIMONIUM CHLORIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMODIMETHICONE' OR reactive_substances ILIKE 'AMODIMETHICONE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PARFUM' OR reactive_substances ILIKE 'PARFUM') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'FRAGRANCE' OR reactive_substances ILIKE 'FRAGRANCE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'ISOPROPYL ALCOHOL' OR reactive_substances ILIKE 'ISOPROPYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PHENOXYETHANOL' OR reactive_substances ILIKE 'PHENOXYETHANOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PYRUS MALUS FRUIT EXTRACT' OR reactive_substances ILIKE 'PYRUS MALUS FRUIT EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'APPLE FRUIT EXTRACT' OR reactive_substances ILIKE 'APPLE FRUIT EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZOIC ACID' OR reactive_substances ILIKE 'BENZOIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZOIC ACID' OR reactive_substances ILIKE 'BENZOIC ACID')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.9ms | Allocations: 638)
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'TRIDECETH-6' OR reactive_substances ILIKE 'TRIDECETH-6') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'POTASSIUM HYDROXIDE' OR reactive_substances ILIKE 'POTASSIUM HYDROXIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'ARGANIA SPINOSA KERNEL OIL' OR reactive_substances ILIKE 'ARGANIA SPINOSA KERNEL OIL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'NIACINAMIDE' OR reactive_substances ILIKE 'NIACINAMIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PYRIDOXINE HCl' OR reactive_substances ILIKE 'PYRIDOXINE HCl') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HEXYL CINNAMAL' OR reactive_substances ILIKE 'HEXYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CETRIMONIUM CHLORIDE' OR reactive_substances ILIKE 'CETRIMONIUM CHLORIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRIC ACID' OR reactive_substances ILIKE 'CITRIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SACCHARUM OFFICINARUM EXTRACT' OR reactive_substances ILIKE 'SACCHARUM OFFICINARUM EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SUGAR CANE EXTRACT' OR reactive_substances ILIKE 'SUGAR CANE EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EXTRAIT DE CANNE A SUCRE' OR reactive_substances ILIKE 'EXTRAIT DE CANNE A SUCRE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZYL ALCOHOL' OR reactive_substances ILIKE 'BENZYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LINALOOL' OR reactive_substances ILIKE 'LINALOOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMYL CINNAMAL' OR reactive_substances ILIKE 'AMYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'TOCOPHEROL' OR reactive_substances ILIKE 'TOCOPHEROL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HYDROXYPROPYLTRIMONIUM LEMON PROTEIN' OR reactive_substances ILIKE 'HYDROXYPROPYLTRIMONIUM LEMON PROTEIN') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CI 19140' OR reactive_substances ILIKE 'CI 19140') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'YELLOW 5' OR reactive_substances ILIKE 'YELLOW 5') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CI 15985' OR reactive_substances ILIKE 'CI 15985') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'YELLOW 6' OR reactive_substances ILIKE 'YELLOW 6') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRUS LIMON PEEL EXTRACT' OR reactive_substances ILIKE 'CITRUS LIMON PEEL EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LEMON PEEL EXTRACT' OR reactive_substances ILIKE 'LEMON PEEL EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LEUCONOSTOC' OR reactive_substances ILIKE 'LEUCONOSTOC') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'RADISH ROOT FERMENT FILTRATE' OR reactive_substances ILIKE 'RADISH ROOT FERMENT FILTRATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CAMELLIA SINENSIS LEAF EXTRACT' OR reactive_substances ILIKE 'CAMELLIA SINENSIS LEAF EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 49.3ms | Allocations: 55469)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 27)
  Rendered layout layouts/application.html.erb (Duration: 52.6ms | Allocations: 59623)
Completed 200 OK in 72ms (Views: 40.7ms | ActiveRecord: 13.0ms | Allocations: 65502)


Started GET "/products/new" for ::1 at 2022-12-25 15:26:22 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered products/_form.html.erb (Duration: 1.8ms | Allocations: 1074)
  Rendered products/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1206)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 4991)
Completed 200 OK in 10ms (Views: 9.3ms | ActiveRecord: 0.0ms | Allocations: 5301)


Started POST "/products" for ::1 at 2022-12-25 15:27:07 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>" AQUA / WATER / EAU, CETEARYL ALCOHOL, AMODIMETHICONE, BEHENTRIMONIUM, METHOSULFATE, BEHENTRIMONIUM, CHLORIDE PARFUM / FRAGRANCE DIPROPYLENE GLYCOL PHENOXYETHANOL BENZOIC ACID TRIDECETH-6 PRUNUS AMYGDALUS DULCIS OIL / SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA / MAGNESIUM ALUMINUM SILICATE PRUNUS AMYGDALUS DULCIS FRUIT EXTRACT / SWEET ALMOND FRUIT EXTRACT CI 19140 / YELLOW 5 CI 15985 / YELLOW 6 XANTHAN GUM CITRIC ACID SORBIC ACID, \n\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 18]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 63]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 18]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", " AQUA / WATER / EAU, CETEARYL ALCOHOL, AMODIMETHICONE, BEHENTRIMONIUM, METHOSULFATE, BEHENTRIMONIUM, CHLORIDE PARFUM / FRAGRANCE DIPROPYLENE GLYCOL PHENOXYETHANOL BENZOIC ACID TRIDECETH-6 PRUNUS AMYGDALUS DULCIS OIL / SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA / MAGNESIUM ALUMINUM SILICATE PRUNUS AMYGDALUS DULCIS FRUIT EXTRACT / SWEET ALMOND FRUIT EXTRACT CI 19140 / YELLOW 5 CI 15985 / YELLOW 6 XANTHAN GUM CITRIC ACID SORBIC ACID, \n\n"], ["created_at", "2022-12-25 20:27:07.684452"], ["updated_at", "2022-12-25 20:27:07.684452"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 19], ["reactive_substances", "Coumarin "], ["reactive_ingredient", "SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA"], ["created_at", "2022-12-25 20:27:07.738086"], ["updated_at", "2022-12-25 20:27:07.738086"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 19], ["reactive_substances", "4-10-00-02006 (Beilstein Handbook Reference) , BRN 2701981 , Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , CCRIS 5568 , Dodecyl 3,4,5-trihydroxybenzoate , Dodecyl gallate , Dodecylester kyseliny gallove , Dodecylester kyseliny gallove [Czech] , EINECS 214-620-6 , Gallic acid, dodecyl ester , Gallic acid, lauryl ester , Lauryl 3,4,5-trihydroxybenzoate , Lauryl gallate , NSC 133463 , Nipagallin LA , Progallin LA"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.745684"], ["updated_at", "2022-12-25 20:27:07.745684"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 19], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin , Santolite MS , Santolite MHP"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.747189"], ["updated_at", "2022-12-25 20:27:07.747189"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 3], ["product_id", 19], ["reactive_substances", "1,3,5-Tris(2-hydroxyethyl)hexahydro- 1,3,5-triazine , 1,3,5-Tris(2-hydroxyethyl)hexahydro-striazine , 4-26-00-00010 (Beilstein Handbook Reference) , Actane , BRN 0124982 , Busan 1060 , CCRIS 6246 , Caswell No. 481C , EINECS 225-208-0 , EPA Pesticide Chemical Code 083301 , ETA 75 , Grotan , Grotan B , Grotan BK , Grotan HD , Hexahydro-1,3,5-triazine-1,3,5-triethanol , Hexahydro-1,3,5-tris(2-hydroxyethyl)-striazine , Hexahydro-1,3,5-tris(hydroxyethyl)triazine , KM 200 (alcohol) , Kalpur TE , NSC 516387 , Onyxide 200 , Ottaform 204 , Rancidity control agent , Roksol T 1-7"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.748462"], ["updated_at", "2022-12-25 20:27:07.748462"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 19], ["reactive_substances", "Formaldehyde, urea polymer , Gabrite , HSDB 7203 , Hygromull , KM 2 (Polymer) , Karbamol , Karbamol B/M , Kauresin K244 , Kaurit 285 FL , Kaurit 420 , PR 703-78 , Pianizol , Piatherm , Piatherm D , Plastopal BT , Plyamine HD 1129A , Plyamine P 364BL , Poly(methi(bis(hydroxymethyl))ureylene) amer , Polynoxylin , Ponoxylan , Resamin 155F , Resamin HW 505 , Resina X , S-Resin AER 20 , Uformite 700 , Uformite F 240N , Uloid 100 , Uloid 22 , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.749675"], ["updated_at", "2022-12-25 20:27:07.749675"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 19], ["reactive_substances", "Formaldehyde , Formalin , Formic aldehyde , Methaldehyde , Methyl aldehyde , Methylene oxide , Methanal , Oxymethylene, Quaternium-15, Diazolidinyl urea (GermallÂ® II),  dimethyl-dimethyl DMDM hydantoin (Glydant), Imidazolidinyl urea (GermallÂ®), 2-bromo-2-nitropropane-1,3-diol (Bronopol), Tris nitromethane (Tris Nitro)(industrial biocide) , sodium hydroxymethylglycinate , 2-bromo-2-nitropropane-1,3-diol (bromopol)"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.751011"], ["updated_at", "2022-12-25 20:27:07.751011"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 19], ["reactive_substances", "1,3,5,7-Tetraazaadamantane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 37))decane , AI3-09611 , Aceto HMT , Aminoform , Aminoformaldehyde , Ammoform , Ammonioformaldehyde , Antihydral , CCRIS 2297 , Caswell No. 482 , Cystamin , Cystogen , Duirexol , EINECS 202-905-8 , EPA Pesticide Chemical Code 45501 , Ekagom H , Esametilentetramina , Esametilentetramina [Italian] , Formamine , Formin , Formin (heterocycle) , HMT , HSDB 563 , Herax UTS , Heterin , Hexa (vulcanization accelerator) , Hexa-Flo-Pulver , Hexaform , Hexaloids , Hexamethylenamine , Hexamethyleneamine , Hexamethylenetetraamine , Hexamethylenetetramine , Hexamethylenetetraminum , Hexamethylentetramin , Hexamethylentetramin [German] , Hexamethylentetramine , Hexamethylentetraminum , Hexamine , Hexamine (heterocycle) , Hexaminum , Hexasan , Hexasan (VAN) , Hexilmethylenamine , Metenamina , Metenamina [INN-Spanish] , Methenamin , Methenamine , Methenaminum , Methenaminum [INN-Latin] , Metramine , NSC 26346 , NSC 403347 , Nocceler H , Preparation AF , Resotropin , S 4 (heterocycle) , Sanceler H , Uramin , Uratrine , Uritone , Urodeine , Urotropin , Urotropine , Vulkacit H 30 , Xametrin"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.753747"], ["updated_at", "2022-12-25 20:27:07.753747"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.9ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 7], ["product_id", 19], ["reactive_substances", "1,3-Propanediamine, N,N-dimethyl- , 1-(Dimethylamino)-3-aminopropane , 1-Amino-3-dimethylaminopropane , 3-(Dimethylamino)-1-propanamine , 3-(Dimethylamino)-1-propylamine , 3-(Dimethylamino)propylamine , 3-Amino-1-(dimethylamino)propane , 4-04-00-01259 (Beilstein Handbook Reference) , AI3-25441 , BRN 0605293 , CCRIS 4799 , EINECS 203-680-9 , HSDB 5391 , N,N-Dimethyl-1,3-diaminopropane , N,N-Dimethyl-1,3-propanediamine , N,N-Dimethyl-1,3-propylenediamine , N,N-Dimethyl-N-(3-aminopropyl)amine , N,N-Dimethylpropylenediamine , N,N-Dimethyltrimethylenediamine , N-Dimethyltrimethylenediamine , NSC 1067 , Propylamine, 3-(N,N-dimethylamino)- , gamma-(Dimethylamino)propylamin"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.756728"], ["updated_at", "2022-12-25 20:27:07.756728"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 8], ["product_id", 19], ["reactive_substances", "4,4'-Diaminodiphenylmethan , 4,4'-Diaminodiphenylmethan [German] , 4,4'-Diaminodiphenylmethane , 4,4'-Dimethylenediamine , 4,4'-Diphenylmethanediamine , 4,4'-Methylenebis(benzeneamine) , 4,4'-Methylenebisaniline , 4,4'-Methylenedianiline , 4-(4-Aminobenzyl)aniline , 4-13-00-00390 (Beilstein Handbook Reference) , AI3-02615 , Ancamine TL , Aniline, 4,4'-methylenedi- , Araldite hardener 972 , Avaldite HT 972 , BRN 0474706 , Benzenamine, 4,4'-methylenebis- , Bis(4-aminophenyl)methane , Bis(p-aminophenyl)methane , Bis-p-aminofenylmethan , Bis-p-aminofenylmethan [Czech] , CCRIS 1010 , Curithane , Dadpm , Di-(4-aminophenyl)methane , Diaminodiphenylmethane , Dianilinemethane , Dianilinomethane , EINECS 202-974-4 , Epicure DDM , Epikure DDM , HSDB 2541 , HT 972 , Jeffamine AP-20 , MDA , Methylenebis(aniline) , Methylenedianiline , Methylenedianiline (VAN) , NCI-C54604 , NSC 4709 , Sumicure M , Tonox , p,p'-Diaminodifenylmethan , p,p'-Diaminodifenylmethan [Czech] , p,p'-Diaminodiphenylmethane , p,p'-Methylenedianiline , p-Toluidine, alpha-(p-aminophenyl)-"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.759652"], ["updated_at", "2022-12-25 20:27:07.759652"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 19], ["reactive_substances", "2H-1-Benzopyran-2-one , Coumarin [NF X] , Tonka bean camphor , 1,2-Benzopyrone , 2-Oxo-1,2-benzopyran , 2-Propenoic acid, 3-(2-hydroxyphenyl)-, delta-lactone , 2-Propenoic acid, 3-(2-hydroxyphenyl)-delta-lactone , 2H-1-Benzopyran, 2-oxo- , 2H-1-Benzopyran-2-one , 2H-Benzo(b)pyran-2-one , 3-(2-Hydroxyphenyl)-2-propenoic delta-lactone , 5,6-Benzo-alpha-pyrone , 5-17-10-00143 (Beilstein Handbook Reference) , AI3-00753 , Alpha-hexylcinnamic aldehyde , BRN 0383644 , Benzo-alpha-pyrone , CCRIS 181 , Caswell No. 259C , Cinnamic acid, o-hydroxy-, delta-lactone , Citral , Coumarin , Coumarinic anhydride , Coumarinic lactone , Cumarin , EINECS 202-086-7 , EPA Pesticide Chemical Code 127301 , Farnesol , Lyral , Rattex , Tonka bean camphor , cis-o-Coumaric acid anhydride , cis-o-Coumarinic acid lactone , o-Coumaric acid lactone , o-Hydroxycinnamic acid lactone , o-Hydroxycinnamic lactone , 4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , BRN 2046455 , EINECS 250-863-4 , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 4-(4-Hydroxy-4-methylpentyl)cyclohex-3-enecarbaldehyde , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 2,6-Dimethyl-2-octen-8-ol , 3,7-Dimethyl-6-octen-1-ol , 4-01-00-02188 (Beilstein Handbook Reference) , AI3-25080 , BRN 1721507 , CCRIS 7452 , Cephrol , Citronellol (ex. Java citronella oil) (natural) , Citronellol (natural) , EINECS 203-375-0 , Elenol , FEMA No. 2309 , NSC 8779 , Rhodinol , Rodinol , 2,6,10-Dodecatrien-1-ol, 3,7,11-trimethyl- , 3,7,11-Trimethyl-2,6,10-dodecatrienol , 3,7,11-Trimethyl-2,6,10-dodecatrien-1-ol , Trimethyl dodecatrienol"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.761145"], ["updated_at", "2022-12-25 20:27:07.761145"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 10], ["product_id", 19], ["reactive_substances", "EINECS 211-984-8 , Orange 3"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.762666"], ["updated_at", "2022-12-25 20:27:07.762666"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 11], ["product_id", 19], ["reactive_substances", "1,4-Benzenediamine, 2-methyl- , 2,5-Diaminotoluene , 2-Methyl-1,4-benzenediamine , 2-Methyl-p-phenylenediamine , 2-Methyl-para-phenylenediamine , 4-13-00-00246 (Beilstein Handbook Reference) , 4-Amino-2-methylaniline , BRN 0774521 , C.I. 76042 , CCRIS 7693 , CI 76042 , EINECS 202-442-1 , HSDB 6251 , Toluene-2,5-diamine , Toluylene-2,5-diamine , p,m-Tolylenediamine , p-Toluenediamine , p-Toluylendiamine , para-Toluenediamine , para-Toluylenediamine , para-Tolylenediamine"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.763899"], ["updated_at", "2022-12-25 20:27:07.763899"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 19], ["reactive_substances", "benzoisothiazolinone , isothiazolinone , chloromethylisothiazolinone , methylisothiazolinone , benzisothiazolinone , octylisothiazolinone"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.765141"], ["updated_at", "2022-12-25 20:27:07.765141"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 13], ["product_id", 19], ["reactive_substances", "4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , BRN 2046455 , EINECS 250-863-4 , Lyral"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:07.766183"], ["updated_at", "2022-12-25 20:27:07.766183"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/19
Completed 302 Found in 85ms (ActiveRecord: 11.5ms | Allocations: 81102)


Started GET "/products/19" for ::1 at 2022-12-25 15:27:07 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"19"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 19], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 19) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AQUA' OR reactive_substances ILIKE 'AQUA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'WATER' OR reactive_substances ILIKE 'WATER') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EAU' OR reactive_substances ILIKE 'EAU') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CETEARYL ALCOHOL' OR reactive_substances ILIKE 'CETEARYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMODIMETHICONE' OR reactive_substances ILIKE 'AMODIMETHICONE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BEHENTRIMONIUM' OR reactive_substances ILIKE 'BEHENTRIMONIUM') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'METHOSULFATE' OR reactive_substances ILIKE 'METHOSULFATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mCACHE Reaction Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BEHENTRIMONIUM' OR reactive_substances ILIKE 'BEHENTRIMONIUM') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CHLORIDE PARFUM' OR reactive_substances ILIKE 'CHLORIDE PARFUM') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'FRAGRANCE DIPROPYLENE GLYCOL PHENOXYETHANOL BENZOIC ACID TRIDECETH-6 PRUNUS AMYGDALUS DULCIS OIL' OR reactive_substances ILIKE 'FRAGRANCE DIPROPYLENE GLYCOL PHENOXYETHANOL BENZOIC ACID TRIDECETH-6 PRUNUS AMYGDALUS DULCIS OIL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA' OR reactive_substances ILIKE 'SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA' OR reactive_substances ILIKE 'SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 209)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'MAGNESIUM ALUMINUM SILICATE PRUNUS AMYGDALUS DULCIS FRUIT EXTRACT' OR reactive_substances ILIKE 'MAGNESIUM ALUMINUM SILICATE PRUNUS AMYGDALUS DULCIS FRUIT EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SWEET ALMOND FRUIT EXTRACT CI 19140' OR reactive_substances ILIKE 'SWEET ALMOND FRUIT EXTRACT CI 19140') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'YELLOW 5 CI 15985' OR reactive_substances ILIKE 'YELLOW 5 CI 15985') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'YELLOW 6 XANTHAN GUM CITRIC ACID SORBIC ACID' OR reactive_substances ILIKE 'YELLOW 6 XANTHAN GUM CITRIC ACID SORBIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '' OR reactive_substances ILIKE '') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '' OR reactive_substances ILIKE '')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [13 times] (Duration: 22.9ms | Allocations: 41785)
  Rendered products/show.html.erb within layouts/application (Duration: 35.1ms | Allocations: 55388)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 37.2ms | Allocations: 59545)
Completed 200 OK in 38ms (Views: 33.2ms | ActiveRecord: 4.3ms | Allocations: 60373)


Started GET "/products/new" for ::1 at 2022-12-25 15:27:40 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 4.5ms | Allocations: 3363)
  Rendered products/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 4225)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 168)
  Rendered layout layouts/application.html.erb (Duration: 54.6ms | Allocations: 31254)
Completed 200 OK in 66ms (Views: 55.8ms | ActiveRecord: 3.1ms | Allocations: 40092)


Started POST "/products" for ::1 at 2022-12-25 15:27:51 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>" AQUA / WATER / EAU CETEARYL ALCOHOL AMODIMETHICONE BEHENTRIMONIUM METHOSULFATE BEHENTRIMONIUM CHLORIDE PARFUM / FRAGRANCE DIPROPYLENE GLYCOL PHENOXYETHANOL BENZOIC ACID TRIDECETH-6 PRUNUS AMYGDALUS DULCIS OIL / SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA / MAGNESIUM ALUMINUM SILICATE PRUNUS AMYGDALUS DULCIS FRUIT EXTRACT / SWEET ALMOND FRUIT EXTRACT CI 19140 / YELLOW 5 CI 15985 / YELLOW 6 XANTHAN GUM CITRIC ACID SORBIC ACID, \n\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 19]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 64]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 65]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 66]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 67]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 68]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 69]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 70]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 71]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 72]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 73]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 74]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 75]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 76]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 77]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 19]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", " AQUA / WATER / EAU CETEARYL ALCOHOL AMODIMETHICONE BEHENTRIMONIUM METHOSULFATE BEHENTRIMONIUM CHLORIDE PARFUM / FRAGRANCE DIPROPYLENE GLYCOL PHENOXYETHANOL BENZOIC ACID TRIDECETH-6 PRUNUS AMYGDALUS DULCIS OIL / SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA / MAGNESIUM ALUMINUM SILICATE PRUNUS AMYGDALUS DULCIS FRUIT EXTRACT / SWEET ALMOND FRUIT EXTRACT CI 19140 / YELLOW 5 CI 15985 / YELLOW 6 XANTHAN GUM CITRIC ACID SORBIC ACID, \n\n"], ["created_at", "2022-12-25 20:27:51.128793"], ["updated_at", "2022-12-25 20:27:51.128793"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 20], ["reactive_substances", "Coumarin "], ["reactive_ingredient", "SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA"], ["created_at", "2022-12-25 20:27:51.188995"], ["updated_at", "2022-12-25 20:27:51.188995"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 20], ["reactive_substances", "4-10-00-02006 (Beilstein Handbook Reference) , BRN 2701981 , Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , CCRIS 5568 , Dodecyl 3,4,5-trihydroxybenzoate , Dodecyl gallate , Dodecylester kyseliny gallove , Dodecylester kyseliny gallove [Czech] , EINECS 214-620-6 , Gallic acid, dodecyl ester , Gallic acid, lauryl ester , Lauryl 3,4,5-trihydroxybenzoate , Lauryl gallate , NSC 133463 , Nipagallin LA , Progallin LA"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.199319"], ["updated_at", "2022-12-25 20:27:51.199319"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 20], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin , Santolite MS , Santolite MHP"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.201514"], ["updated_at", "2022-12-25 20:27:51.201514"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 3], ["product_id", 20], ["reactive_substances", "1,3,5-Tris(2-hydroxyethyl)hexahydro- 1,3,5-triazine , 1,3,5-Tris(2-hydroxyethyl)hexahydro-striazine , 4-26-00-00010 (Beilstein Handbook Reference) , Actane , BRN 0124982 , Busan 1060 , CCRIS 6246 , Caswell No. 481C , EINECS 225-208-0 , EPA Pesticide Chemical Code 083301 , ETA 75 , Grotan , Grotan B , Grotan BK , Grotan HD , Hexahydro-1,3,5-triazine-1,3,5-triethanol , Hexahydro-1,3,5-tris(2-hydroxyethyl)-striazine , Hexahydro-1,3,5-tris(hydroxyethyl)triazine , KM 200 (alcohol) , Kalpur TE , NSC 516387 , Onyxide 200 , Ottaform 204 , Rancidity control agent , Roksol T 1-7"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.203391"], ["updated_at", "2022-12-25 20:27:51.203391"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 20], ["reactive_substances", "Formaldehyde, urea polymer , Gabrite , HSDB 7203 , Hygromull , KM 2 (Polymer) , Karbamol , Karbamol B/M , Kauresin K244 , Kaurit 285 FL , Kaurit 420 , PR 703-78 , Pianizol , Piatherm , Piatherm D , Plastopal BT , Plyamine HD 1129A , Plyamine P 364BL , Poly(methi(bis(hydroxymethyl))ureylene) amer , Polynoxylin , Ponoxylan , Resamin 155F , Resamin HW 505 , Resina X , S-Resin AER 20 , Uformite 700 , Uformite F 240N , Uloid 100 , Uloid 22 , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.204952"], ["updated_at", "2022-12-25 20:27:51.204952"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 20], ["reactive_substances", "Formaldehyde , Formalin , Formic aldehyde , Methaldehyde , Methyl aldehyde , Methylene oxide , Methanal , Oxymethylene, Quaternium-15, Diazolidinyl urea (GermallÂ® II),  dimethyl-dimethyl DMDM hydantoin (Glydant), Imidazolidinyl urea (GermallÂ®), 2-bromo-2-nitropropane-1,3-diol (Bronopol), Tris nitromethane (Tris Nitro)(industrial biocide) , sodium hydroxymethylglycinate , 2-bromo-2-nitropropane-1,3-diol (bromopol)"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.206658"], ["updated_at", "2022-12-25 20:27:51.206658"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 20], ["reactive_substances", "1,3,5,7-Tetraazaadamantane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 37))decane , AI3-09611 , Aceto HMT , Aminoform , Aminoformaldehyde , Ammoform , Ammonioformaldehyde , Antihydral , CCRIS 2297 , Caswell No. 482 , Cystamin , Cystogen , Duirexol , EINECS 202-905-8 , EPA Pesticide Chemical Code 45501 , Ekagom H , Esametilentetramina , Esametilentetramina [Italian] , Formamine , Formin , Formin (heterocycle) , HMT , HSDB 563 , Herax UTS , Heterin , Hexa (vulcanization accelerator) , Hexa-Flo-Pulver , Hexaform , Hexaloids , Hexamethylenamine , Hexamethyleneamine , Hexamethylenetetraamine , Hexamethylenetetramine , Hexamethylenetetraminum , Hexamethylentetramin , Hexamethylentetramin [German] , Hexamethylentetramine , Hexamethylentetraminum , Hexamine , Hexamine (heterocycle) , Hexaminum , Hexasan , Hexasan (VAN) , Hexilmethylenamine , Metenamina , Metenamina [INN-Spanish] , Methenamin , Methenamine , Methenaminum , Methenaminum [INN-Latin] , Metramine , NSC 26346 , NSC 403347 , Nocceler H , Preparation AF , Resotropin , S 4 (heterocycle) , Sanceler H , Uramin , Uratrine , Uritone , Urodeine , Urotropin , Urotropine , Vulkacit H 30 , Xametrin"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.208376"], ["updated_at", "2022-12-25 20:27:51.208376"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 7], ["product_id", 20], ["reactive_substances", "1,3-Propanediamine, N,N-dimethyl- , 1-(Dimethylamino)-3-aminopropane , 1-Amino-3-dimethylaminopropane , 3-(Dimethylamino)-1-propanamine , 3-(Dimethylamino)-1-propylamine , 3-(Dimethylamino)propylamine , 3-Amino-1-(dimethylamino)propane , 4-04-00-01259 (Beilstein Handbook Reference) , AI3-25441 , BRN 0605293 , CCRIS 4799 , EINECS 203-680-9 , HSDB 5391 , N,N-Dimethyl-1,3-diaminopropane , N,N-Dimethyl-1,3-propanediamine , N,N-Dimethyl-1,3-propylenediamine , N,N-Dimethyl-N-(3-aminopropyl)amine , N,N-Dimethylpropylenediamine , N,N-Dimethyltrimethylenediamine , N-Dimethyltrimethylenediamine , NSC 1067 , Propylamine, 3-(N,N-dimethylamino)- , gamma-(Dimethylamino)propylamin"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.210239"], ["updated_at", "2022-12-25 20:27:51.210239"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (1.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 8], ["product_id", 20], ["reactive_substances", "4,4'-Diaminodiphenylmethan , 4,4'-Diaminodiphenylmethan [German] , 4,4'-Diaminodiphenylmethane , 4,4'-Dimethylenediamine , 4,4'-Diphenylmethanediamine , 4,4'-Methylenebis(benzeneamine) , 4,4'-Methylenebisaniline , 4,4'-Methylenedianiline , 4-(4-Aminobenzyl)aniline , 4-13-00-00390 (Beilstein Handbook Reference) , AI3-02615 , Ancamine TL , Aniline, 4,4'-methylenedi- , Araldite hardener 972 , Avaldite HT 972 , BRN 0474706 , Benzenamine, 4,4'-methylenebis- , Bis(4-aminophenyl)methane , Bis(p-aminophenyl)methane , Bis-p-aminofenylmethan , Bis-p-aminofenylmethan [Czech] , CCRIS 1010 , Curithane , Dadpm , Di-(4-aminophenyl)methane , Diaminodiphenylmethane , Dianilinemethane , Dianilinomethane , EINECS 202-974-4 , Epicure DDM , Epikure DDM , HSDB 2541 , HT 972 , Jeffamine AP-20 , MDA , Methylenebis(aniline) , Methylenedianiline , Methylenedianiline (VAN) , NCI-C54604 , NSC 4709 , Sumicure M , Tonox , p,p'-Diaminodifenylmethan , p,p'-Diaminodifenylmethan [Czech] , p,p'-Diaminodiphenylmethane , p,p'-Methylenedianiline , p-Toluidine, alpha-(p-aminophenyl)-"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.212017"], ["updated_at", "2022-12-25 20:27:51.212017"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 20], ["reactive_substances", "2H-1-Benzopyran-2-one , Coumarin [NF X] , Tonka bean camphor , 1,2-Benzopyrone , 2-Oxo-1,2-benzopyran , 2-Propenoic acid, 3-(2-hydroxyphenyl)-, delta-lactone , 2-Propenoic acid, 3-(2-hydroxyphenyl)-delta-lactone , 2H-1-Benzopyran, 2-oxo- , 2H-1-Benzopyran-2-one , 2H-Benzo(b)pyran-2-one , 3-(2-Hydroxyphenyl)-2-propenoic delta-lactone , 5,6-Benzo-alpha-pyrone , 5-17-10-00143 (Beilstein Handbook Reference) , AI3-00753 , Alpha-hexylcinnamic aldehyde , BRN 0383644 , Benzo-alpha-pyrone , CCRIS 181 , Caswell No. 259C , Cinnamic acid, o-hydroxy-, delta-lactone , Citral , Coumarin , Coumarinic anhydride , Coumarinic lactone , Cumarin , EINECS 202-086-7 , EPA Pesticide Chemical Code 127301 , Farnesol , Lyral , Rattex , Tonka bean camphor , cis-o-Coumaric acid anhydride , cis-o-Coumarinic acid lactone , o-Coumaric acid lactone , o-Hydroxycinnamic acid lactone , o-Hydroxycinnamic lactone , 4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , BRN 2046455 , EINECS 250-863-4 , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 4-(4-Hydroxy-4-methylpentyl)cyclohex-3-enecarbaldehyde , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 2,6-Dimethyl-2-octen-8-ol , 3,7-Dimethyl-6-octen-1-ol , 4-01-00-02188 (Beilstein Handbook Reference) , AI3-25080 , BRN 1721507 , CCRIS 7452 , Cephrol , Citronellol (ex. Java citronella oil) (natural) , Citronellol (natural) , EINECS 203-375-0 , Elenol , FEMA No. 2309 , NSC 8779 , Rhodinol , Rodinol , 2,6,10-Dodecatrien-1-ol, 3,7,11-trimethyl- , 3,7,11-Trimethyl-2,6,10-dodecatrienol , 3,7,11-Trimethyl-2,6,10-dodecatrien-1-ol , Trimethyl dodecatrienol"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.214774"], ["updated_at", "2022-12-25 20:27:51.214774"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 10], ["product_id", 20], ["reactive_substances", "EINECS 211-984-8 , Orange 3"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.216414"], ["updated_at", "2022-12-25 20:27:51.216414"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 11], ["product_id", 20], ["reactive_substances", "1,4-Benzenediamine, 2-methyl- , 2,5-Diaminotoluene , 2-Methyl-1,4-benzenediamine , 2-Methyl-p-phenylenediamine , 2-Methyl-para-phenylenediamine , 4-13-00-00246 (Beilstein Handbook Reference) , 4-Amino-2-methylaniline , BRN 0774521 , C.I. 76042 , CCRIS 7693 , CI 76042 , EINECS 202-442-1 , HSDB 6251 , Toluene-2,5-diamine , Toluylene-2,5-diamine , p,m-Tolylenediamine , p-Toluenediamine , p-Toluylendiamine , para-Toluenediamine , para-Toluylenediamine , para-Tolylenediamine"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.217950"], ["updated_at", "2022-12-25 20:27:51.217950"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 20], ["reactive_substances", "benzoisothiazolinone , isothiazolinone , chloromethylisothiazolinone , methylisothiazolinone , benzisothiazolinone , octylisothiazolinone"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.219372"], ["updated_at", "2022-12-25 20:27:51.219372"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 13], ["product_id", 20], ["reactive_substances", "4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , BRN 2046455 , EINECS 250-863-4 , Lyral"], ["reactive_ingredient", ""], ["created_at", "2022-12-25 20:27:51.220780"], ["updated_at", "2022-12-25 20:27:51.220780"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/20
Completed 302 Found in 96ms (ActiveRecord: 22.0ms | Allocations: 79915)


Started GET "/products/20" for ::1 at 2022-12-25 15:27:51 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"20"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 20], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 20) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AQUA' OR reactive_substances ILIKE 'AQUA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'WATER' OR reactive_substances ILIKE 'WATER') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EAU CETEARYL ALCOHOL AMODIMETHICONE BEHENTRIMONIUM METHOSULFATE BEHENTRIMONIUM CHLORIDE PARFUM' OR reactive_substances ILIKE 'EAU CETEARYL ALCOHOL AMODIMETHICONE BEHENTRIMONIUM METHOSULFATE BEHENTRIMONIUM CHLORIDE PARFUM') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'FRAGRANCE DIPROPYLENE GLYCOL PHENOXYETHANOL BENZOIC ACID TRIDECETH-6 PRUNUS AMYGDALUS DULCIS OIL' OR reactive_substances ILIKE 'FRAGRANCE DIPROPYLENE GLYCOL PHENOXYETHANOL BENZOIC ACID TRIDECETH-6 PRUNUS AMYGDALUS DULCIS OIL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA' OR reactive_substances ILIKE 'SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA' OR reactive_substances ILIKE 'SWEET ALMOND OIL HYDROXYPROPYL GUAR LINALOOL POTASSIUM HYDROXIDE GLYCERIN BENZYL SALICYLATE BENZYL ALCOHOL CETRIMONIUM CHLORIDE LIMONENE HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN AMYL CINNAMAL COUMARIN CITRONELLOL 2-OLEAMIDO-1,3-OCTADECANEDIOL ALPHA-ISOMETHYL IONONE ARGILLA')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 425)
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'MAGNESIUM ALUMINUM SILICATE PRUNUS AMYGDALUS DULCIS FRUIT EXTRACT' OR reactive_substances ILIKE 'MAGNESIUM ALUMINUM SILICATE PRUNUS AMYGDALUS DULCIS FRUIT EXTRACT') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SWEET ALMOND FRUIT EXTRACT CI 19140' OR reactive_substances ILIKE 'SWEET ALMOND FRUIT EXTRACT CI 19140') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'YELLOW 5 CI 15985' OR reactive_substances ILIKE 'YELLOW 5 CI 15985') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'YELLOW 6 XANTHAN GUM CITRIC ACID SORBIC ACID' OR reactive_substances ILIKE 'YELLOW 6 XANTHAN GUM CITRIC ACID SORBIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '' OR reactive_substances ILIKE '') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '' OR reactive_substances ILIKE '')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [13 times] (Duration: 22.7ms | Allocations: 41892)
  Rendered products/show.html.erb within layouts/application (Duration: 36.7ms | Allocations: 53068)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 57223)
Completed 200 OK in 40ms (Views: 35.1ms | ActiveRecord: 4.2ms | Allocations: 58734)


Started GET "/products/new" for ::1 at 2022-12-25 15:28:53 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1060)
  Rendered products/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1191)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.7ms | Allocations: 4974)
Completed 200 OK in 10ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 5247)


Started POST "/products" for ::1 at 2022-12-25 15:30:37 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"AQUA / WATER / EAU, \nSODIUM LAURETH SULFATE, \nSODIUM LAURYL SULFATE, \nCOCAMIDE MEA, \nGLYCOL DISTEARATE, \nSODIUM CHLORIDE, \nDIMETHICONE, \nPARFUM / FRAGRANCE, \nPPG-5-CETETH-20, \nSODIUM BENZOATE, \nSALICYLIC ACID, \nGUAR HYDROXYPROPYLTRIMONIUM CHLORIDE, \nCARBOMER, \nARGININE, \nGLUTAMIC ACID, \nLINALOOL, \nBENZYL SALICYLATE, \nBENZYL ALCOHOL, \nSERINE, \nHYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN, \nLIMONENE, \nAMYL CINNAMAL, \nCOUMARIN, \nCITRONELLOL, \n2-OLEAMIDO-1,3-OCTADECANEDIOL, \nALPHA-ISOMETHYL IONONE, \nFUMARIC ACID, \nPHENOXYETHANOL, \nSODIUM HYDROXIDE, \nCITRIC ACID"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 20]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 78]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 79]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 80]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 81]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 82]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 83]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 84]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 85]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 86]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 87]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 88]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 89]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 90]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 91]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 20]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "AQUA / WATER / EAU, \nSODIUM LAURETH SULFATE, \nSODIUM LAURYL SULFATE, \nCOCAMIDE MEA, \nGLYCOL DISTEARATE, \nSODIUM CHLORIDE, \nDIMETHICONE, \nPARFUM / FRAGRANCE, \nPPG-5-CETETH-20, \nSODIUM BENZOATE, \nSALICYLIC ACID, \nGUAR HYDROXYPROPYLTRIMONIUM CHLORIDE, \nCARBOMER, \nARGININE, \nGLUTAMIC ACID, \nLINALOOL, \nBENZYL SALICYLATE, \nBENZYL ALCOHOL, \nSERINE, \nHYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN, \nLIMONENE, \nAMYL CINNAMAL, \nCOUMARIN, \nCITRONELLOL, \n2-OLEAMIDO-1,3-OCTADECANEDIOL, \nALPHA-ISOMETHYL IONONE, \nFUMARIC ACID, \nPHENOXYETHANOL, \nSODIUM HYDROXIDE, \nCITRIC ACID"], ["created_at", "2022-12-25 20:30:37.438609"], ["updated_at", "2022-12-25 20:30:37.438609"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 21], ["reactive_substances", "Coumarin [NF X] , Coumarin , Coumarinic anhydride , Coumarinic lactone , cis-o-Coumarinic acid lactone "], ["reactive_ingredient", "COUMARIN"], ["created_at", "2022-12-25 20:30:37.517415"], ["updated_at", "2022-12-25 20:30:37.517415"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 21], ["reactive_substances", "Citronellol (ex. Java citronella oil) (natural) , Citronellol (natural) "], ["reactive_ingredient", "CITRONELLOL"], ["created_at", "2022-12-25 20:30:37.519823"], ["updated_at", "2022-12-25 20:30:37.519823"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/21
Completed 302 Found in 98ms (ActiveRecord: 19.8ms | Allocations: 125410)


Started GET "/products/21" for ::1 at 2022-12-25 15:30:37 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"21"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 21], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 21) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AQUA' OR reactive_substances ILIKE 'AQUA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'WATER' OR reactive_substances ILIKE 'WATER') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EAU' OR reactive_substances ILIKE 'EAU') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM LAURETH SULFATE' OR reactive_substances ILIKE 'SODIUM LAURETH SULFATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM LAURYL SULFATE' OR reactive_substances ILIKE 'SODIUM LAURYL SULFATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'COCAMIDE MEA' OR reactive_substances ILIKE 'COCAMIDE MEA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'GLYCOL DISTEARATE' OR reactive_substances ILIKE 'GLYCOL DISTEARATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM CHLORIDE' OR reactive_substances ILIKE 'SODIUM CHLORIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'DIMETHICONE' OR reactive_substances ILIKE 'DIMETHICONE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PARFUM' OR reactive_substances ILIKE 'PARFUM') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'FRAGRANCE' OR reactive_substances ILIKE 'FRAGRANCE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PPG-5-CETETH-20' OR reactive_substances ILIKE 'PPG-5-CETETH-20') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM BENZOATE' OR reactive_substances ILIKE 'SODIUM BENZOATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SALICYLIC ACID' OR reactive_substances ILIKE 'SALICYLIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'GUAR HYDROXYPROPYLTRIMONIUM CHLORIDE' OR reactive_substances ILIKE 'GUAR HYDROXYPROPYLTRIMONIUM CHLORIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CARBOMER' OR reactive_substances ILIKE 'CARBOMER') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'ARGININE' OR reactive_substances ILIKE 'ARGININE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'GLUTAMIC ACID' OR reactive_substances ILIKE 'GLUTAMIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LINALOOL' OR reactive_substances ILIKE 'LINALOOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZYL SALICYLATE' OR reactive_substances ILIKE 'BENZYL SALICYLATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZYL ALCOHOL' OR reactive_substances ILIKE 'BENZYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SERINE' OR reactive_substances ILIKE 'SERINE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN' OR reactive_substances ILIKE 'HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LIMONENE' OR reactive_substances ILIKE 'LIMONENE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMYL CINNAMAL' OR reactive_substances ILIKE 'AMYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'COUMARIN' OR reactive_substances ILIKE 'COUMARIN') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'COUMARIN' OR reactive_substances ILIKE 'COUMARIN')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.0ms | Allocations: 1318)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRONELLOL' OR reactive_substances ILIKE 'CITRONELLOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRONELLOL' OR reactive_substances ILIKE 'CITRONELLOL')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 497)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '2-OLEAMIDO-1,3-OCTADECANEDIOL' OR reactive_substances ILIKE '2-OLEAMIDO-1,3-OCTADECANEDIOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'ALPHA-ISOMETHYL IONONE' OR reactive_substances ILIKE 'ALPHA-ISOMETHYL IONONE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'FUMARIC ACID' OR reactive_substances ILIKE 'FUMARIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PHENOXYETHANOL' OR reactive_substances ILIKE 'PHENOXYETHANOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SODIUM HYDROXIDE' OR reactive_substances ILIKE 'SODIUM HYDROXIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRIC ACID' OR reactive_substances ILIKE 'CITRIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 18.6ms | Allocations: 25932)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 160)
  Rendered layout layouts/application.html.erb (Duration: 43.6ms | Allocations: 53527)
Completed 200 OK in 47ms (Views: 38.8ms | ActiveRecord: 6.4ms | Allocations: 56704)


Started GET "/products/new" for ::1 at 2022-12-25 15:35:18 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 3.8ms | Allocations: 1070)
  Rendered products/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1201)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 4992)
Completed 200 OK in 15ms (Views: 13.4ms | Allocations: 5273)


Started POST "/products" for ::1 at 2022-12-25 15:36:02 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"AQUA / WATER / EAU, \nAMODIMETHICONE, \nBEHENTRIMONIUM METHOSULFATE ,\nBEHENTRIMONIUM CHLORIDE, \nPARFUM / FRAGRANCE, \nDIPROPYLENE GLYCOL, \nPHENOXYETHANOL, \nBENZOIC ACID, \nTRIDECETH-6, \nHYDROXYPROPYL GUAR, \nPOTASSIUM HYDROXIDE, \nLINALOOLâ€¢ HEXYL CINNAMAL, \nARGININE, \nGLUTAMIC ACID, \nBENZYL SALICYLATE, \nSERINE, \nCETRIMONIUM CHLORIDE, \nBENZYL ALCOHOL, \nLIMONENE, \nHYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN, \nAMYL CINNAMAL, \nCITRONELLOL, \n2-OLEAMIDO-1,3-OCTADECANEDIOL, \nALPHA-ISOMETHYL IONONE\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (0.8ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 21]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.7ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 92]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 93]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 21]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "AQUA / WATER / EAU, \nAMODIMETHICONE, \nBEHENTRIMONIUM METHOSULFATE ,\nBEHENTRIMONIUM CHLORIDE, \nPARFUM / FRAGRANCE, \nDIPROPYLENE GLYCOL, \nPHENOXYETHANOL, \nBENZOIC ACID, \nTRIDECETH-6, \nHYDROXYPROPYL GUAR, \nPOTASSIUM HYDROXIDE, \nLINALOOLâ€¢ HEXYL CINNAMAL, \nARGININE, \nGLUTAMIC ACID, \nBENZYL SALICYLATE, \nSERINE, \nCETRIMONIUM CHLORIDE, \nBENZYL ALCOHOL, \nLIMONENE, \nHYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN, \nAMYL CINNAMAL, \nCITRONELLOL, \n2-OLEAMIDO-1,3-OCTADECANEDIOL, \nALPHA-ISOMETHYL IONONE\n"], ["created_at", "2022-12-25 20:36:02.410091"], ["updated_at", "2022-12-25 20:36:02.410091"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 22], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "BENZOIC ACID"], ["created_at", "2022-12-25 20:36:02.454635"], ["updated_at", "2022-12-25 20:36:02.454635"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 22], ["reactive_substances", "Citronellol (ex. Java citronella oil) (natural) , Citronellol (natural) "], ["reactive_ingredient", "CITRONELLOL"], ["created_at", "2022-12-25 20:36:02.483851"], ["updated_at", "2022-12-25 20:36:02.483851"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/22
Completed 302 Found in 100ms (ActiveRecord: 19.9ms | Allocations: 77977)


Started GET "/products/22" for ::1 at 2022-12-25 15:36:02 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"22"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 22], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 22) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AQUA' OR reactive_substances ILIKE 'AQUA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'WATER' OR reactive_substances ILIKE 'WATER') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'EAU' OR reactive_substances ILIKE 'EAU') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMODIMETHICONE' OR reactive_substances ILIKE 'AMODIMETHICONE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BEHENTRIMONIUM METHOSULFATE ,
BEHENTRIMONIUM CHLORIDE' OR reactive_substances ILIKE 'BEHENTRIMONIUM METHOSULFATE ,
BEHENTRIMONIUM CHLORIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PARFUM' OR reactive_substances ILIKE 'PARFUM') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'FRAGRANCE' OR reactive_substances ILIKE 'FRAGRANCE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'DIPROPYLENE GLYCOL' OR reactive_substances ILIKE 'DIPROPYLENE GLYCOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'PHENOXYETHANOL' OR reactive_substances ILIKE 'PHENOXYETHANOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZOIC ACID' OR reactive_substances ILIKE 'BENZOIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZOIC ACID' OR reactive_substances ILIKE 'BENZOIC ACID')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 223)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'TRIDECETH-6' OR reactive_substances ILIKE 'TRIDECETH-6') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HYDROXYPROPYL GUAR' OR reactive_substances ILIKE 'HYDROXYPROPYL GUAR') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'POTASSIUM HYDROXIDE' OR reactive_substances ILIKE 'POTASSIUM HYDROXIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LINALOOL HEXYL CINNAMAL' OR reactive_substances ILIKE 'LINALOOL HEXYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'ARGININE' OR reactive_substances ILIKE 'ARGININE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'GLUTAMIC ACID' OR reactive_substances ILIKE 'GLUTAMIC ACID') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZYL SALICYLATE' OR reactive_substances ILIKE 'BENZYL SALICYLATE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'SERINE' OR reactive_substances ILIKE 'SERINE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CETRIMONIUM CHLORIDE' OR reactive_substances ILIKE 'CETRIMONIUM CHLORIDE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'BENZYL ALCOHOL' OR reactive_substances ILIKE 'BENZYL ALCOHOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'LIMONENE' OR reactive_substances ILIKE 'LIMONENE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN' OR reactive_substances ILIKE 'HYDROXYPROPYLTRIMONIUM HYDROLYZED WHEAT PROTEIN') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'AMYL CINNAMAL' OR reactive_substances ILIKE 'AMYL CINNAMAL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRONELLOL' OR reactive_substances ILIKE 'CITRONELLOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'CITRONELLOL' OR reactive_substances ILIKE 'CITRONELLOL')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 498)
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '2-OLEAMIDO-1,3-OCTADECANEDIOL' OR reactive_substances ILIKE '2-OLEAMIDO-1,3-OCTADECANEDIOL') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'ALPHA-ISOMETHYL IONONE' OR reactive_substances ILIKE 'ALPHA-ISOMETHYL IONONE') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 26.3ms | Allocations: 19566)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 23521)
Completed 200 OK in 31ms (Views: 22.6ms | ActiveRecord: 7.1ms | Allocations: 24290)


Started GET "/products/new" for ::1 at 2022-12-25 15:40:59 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 3.2ms | Allocations: 980)
  Rendered products/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1111)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4895)
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 5175)


Started POST "/products" for ::1 at 2022-12-25 15:41:03 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Aqua/â€‹Water/â€‹Eau, Cetearyl Alcohol, Amodimethicone, Behentrimonium Chloride, Cetyl Esters, Isopropyl Alcohol, Mentha Arvensis Leaf Oil, Phenoxyethanol, Parfum/â€‹Fragrance, Trideceth-6, Helianthus Annuus Seed Oil/â€‹Sunflower Seed Oil, Glycine Soja Oil /â€‹ Soybean Oil, Tocopherol, Panthenol, Butyrospermum Parkii Butter/â€‹Shea Butter, Cetrimonium Chloride, Butylene Glycol, Menthol, Simmondsia Chinensis Butter/â€‹Jojoba Butter, Limonene, Helianthus Annuus Seed Extract/â€‹Sunflower Seed Extract, Hydrolyzed Vegetable Protein Pg-Propyl Silanetriol, Chlorhexidine Dihydrochloride, Camellia Sinensis Leaf Extract, Rosmarinus Officinalis Leaf Extract/â€‹Rosemary Leaf Extract, Salvia Officinalis Leaf Extract/â€‹Sage Leaf Extract, Hydrolyzed Soy Protein, Benzophenone-4, Linalool, Pentylene Glycol, Wheat Amino Acids, Sodium Chloride, Mentha Piperita Extract/â€‹Peppermint Extract, Ascorbic Acid, Potassium Sorbate, Disodium EDTA\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (0.8ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 22]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 94]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 95]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 22]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Aqua/â€‹Water/â€‹Eau, Cetearyl Alcohol, Amodimethicone, Behentrimonium Chloride, Cetyl Esters, Isopropyl Alcohol, Mentha Arvensis Leaf Oil, Phenoxyethanol, Parfum/â€‹Fragrance, Trideceth-6, Helianthus Annuus Seed Oil/â€‹Sunflower Seed Oil, Glycine Soja Oil /â€‹ Soybean Oil, Tocopherol, Panthenol, Butyrospermum Parkii Butter/â€‹Shea Butter, Cetrimonium Chloride, Butylene Glycol, Menthol, Simmondsia Chinensis Butter/â€‹Jojoba Butter, Limonene, Helianthus Annuus Seed Extract/â€‹Sunflower Seed Extract, Hydrolyzed Vegetable Protein Pg-Propyl Silanetriol, Chlorhexidine Dihydrochloride, Camellia Sinensis Leaf Extract, Rosmarinus Officinalis Leaf Extract/â€‹Rosemary Leaf Extract, Salvia Officinalis Leaf Extract/â€‹Sage Leaf Extract, Hydrolyzed Soy Protein, Benzophenone-4, Linalool, Pentylene Glycol, Wheat Amino Acids, Sodium Chloride, Mentha Piperita Extract/â€‹Peppermint Extract, Ascorbic Acid, Potassium Sorbate, Disodium EDTA\n"], ["created_at", "2022-12-25 20:41:03.941100"], ["updated_at", "2022-12-25 20:41:03.941100"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/23
Completed 302 Found in 99ms (ActiveRecord: 13.1ms | Allocations: 124506)


Started GET "/products/23" for ::1 at 2022-12-25 15:41:04 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"23"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 23], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Aqua' OR reactive_substances ILIKE 'Aqua') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Eau' OR reactive_substances ILIKE 'Eau') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetearyl Alcohol' OR reactive_substances ILIKE 'Cetearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Amodimethicone' OR reactive_substances ILIKE 'Amodimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Chloride' OR reactive_substances ILIKE 'Behentrimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetyl Esters' OR reactive_substances ILIKE 'Cetyl Esters') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Isopropyl Alcohol' OR reactive_substances ILIKE 'Isopropyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Mentha Arvensis Leaf Oil' OR reactive_substances ILIKE 'Mentha Arvensis Leaf Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Phenoxyethanol' OR reactive_substances ILIKE 'Phenoxyethanol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Parfum' OR reactive_substances ILIKE 'Parfum') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Trideceth-6' OR reactive_substances ILIKE 'Trideceth-6') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Helianthus Annuus Seed Oil' OR reactive_substances ILIKE 'Helianthus Annuus Seed Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Sunflower Seed Oil' OR reactive_substances ILIKE 'Sunflower Seed Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Glycine Soja Oil' OR reactive_substances ILIKE 'Glycine Soja Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Soybean Oil' OR reactive_substances ILIKE 'Soybean Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Tocopherol' OR reactive_substances ILIKE 'Tocopherol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Panthenol' OR reactive_substances ILIKE 'Panthenol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Butyrospermum Parkii Butter' OR reactive_substances ILIKE 'Butyrospermum Parkii Butter') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Shea Butter' OR reactive_substances ILIKE 'Shea Butter') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetrimonium Chloride' OR reactive_substances ILIKE 'Cetrimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Butylene Glycol' OR reactive_substances ILIKE 'Butylene Glycol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Menthol' OR reactive_substances ILIKE 'Menthol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Simmondsia Chinensis Butter' OR reactive_substances ILIKE 'Simmondsia Chinensis Butter') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Jojoba Butter' OR reactive_substances ILIKE 'Jojoba Butter') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Limonene' OR reactive_substances ILIKE 'Limonene') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Helianthus Annuus Seed Extract' OR reactive_substances ILIKE 'Helianthus Annuus Seed Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Sunflower Seed Extract' OR reactive_substances ILIKE 'Sunflower Seed Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Vegetable Protein Pg-Propyl Silanetriol' OR reactive_substances ILIKE 'Hydrolyzed Vegetable Protein Pg-Propyl Silanetriol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Chlorhexidine Dihydrochloride' OR reactive_substances ILIKE 'Chlorhexidine Dihydrochloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Camellia Sinensis Leaf Extract' OR reactive_substances ILIKE 'Camellia Sinensis Leaf Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Rosmarinus Officinalis Leaf Extract' OR reactive_substances ILIKE 'Rosmarinus Officinalis Leaf Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Rosemary Leaf Extract' OR reactive_substances ILIKE 'Rosemary Leaf Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Salvia Officinalis Leaf Extract' OR reactive_substances ILIKE 'Salvia Officinalis Leaf Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Sage Leaf Extract' OR reactive_substances ILIKE 'Sage Leaf Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydrolyzed Soy Protein' OR reactive_substances ILIKE 'Hydrolyzed Soy Protein') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzophenone-4' OR reactive_substances ILIKE 'Benzophenone-4') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Linalool' OR reactive_substances ILIKE 'Linalool') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Pentylene Glycol' OR reactive_substances ILIKE 'Pentylene Glycol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Wheat Amino Acids' OR reactive_substances ILIKE 'Wheat Amino Acids') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Sodium Chloride' OR reactive_substances ILIKE 'Sodium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Mentha Piperita Extract' OR reactive_substances ILIKE 'Mentha Piperita Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Peppermint Extract' OR reactive_substances ILIKE 'Peppermint Extract') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Ascorbic Acid' OR reactive_substances ILIKE 'Ascorbic Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Potassium Sorbate' OR reactive_substances ILIKE 'Potassium Sorbate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Disodium EDTA' OR reactive_substances ILIKE 'Disodium EDTA') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 24.1ms | Allocations: 27873)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 26.1ms | Allocations: 31889)
Completed 200 OK in 27ms (Views: 17.7ms | ActiveRecord: 8.8ms | Allocations: 32658)


Started GET "/products/new" for ::1 at 2022-12-25 15:46:13 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 15.2ms | Allocations: 1079)
  Rendered products/new.html.erb within layouts/application (Duration: 15.9ms | Allocations: 1210)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 22.7ms | Allocations: 5004)
Completed 200 OK in 27ms (Views: 23.7ms | Allocations: 5283)


Started POST "/products" for ::1 at 2022-12-25 15:46:18 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Water, cetearyl alcohol, glycerin, dimethicone, behentrimonium chloride, dipropylene glycol, hydrolyzed hyaluronic acid, cetyl palmitate, fragrance, amodimethicone, gluconolactone, disodium edta, peg-7 propylheptyl ether, cetrimonium chloride, lactic acid, methylchloroisothiazolinone, methylisothiazolinone, benzyl salicylate, hexyl cinnamal, limonene, linalool.\n\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (1.0ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 23]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 23]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Water, cetearyl alcohol, glycerin, dimethicone, behentrimonium chloride, dipropylene glycol, hydrolyzed hyaluronic acid, cetyl palmitate, fragrance, amodimethicone, gluconolactone, disodium edta, peg-7 propylheptyl ether, cetrimonium chloride, lactic acid, methylchloroisothiazolinone, methylisothiazolinone, benzyl salicylate, hexyl cinnamal, limonene, linalool.\n\n"], ["created_at", "2022-12-25 20:46:18.509263"], ["updated_at", "2022-12-25 20:46:18.509263"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 24], ["reactive_substances", "chloromethylisothiazolinone , methylisothiazolinone "], ["reactive_ingredient", "METHYLISOTHIAZOLINONE"], ["created_at", "2022-12-25 20:46:18.564854"], ["updated_at", "2022-12-25 20:46:18.564854"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/24
Completed 302 Found in 83ms (ActiveRecord: 17.4ms | Allocations: 62196)


Started GET "/products/24" for ::1 at 2022-12-25 15:46:18 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"24"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 24], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 24) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'cetearyl alcohol' OR reactive_substances ILIKE 'cetearyl alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'glycerin' OR reactive_substances ILIKE 'glycerin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'dimethicone' OR reactive_substances ILIKE 'dimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'behentrimonium chloride' OR reactive_substances ILIKE 'behentrimonium chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'dipropylene glycol' OR reactive_substances ILIKE 'dipropylene glycol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'hydrolyzed hyaluronic acid' OR reactive_substances ILIKE 'hydrolyzed hyaluronic acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'cetyl palmitate' OR reactive_substances ILIKE 'cetyl palmitate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'fragrance' OR reactive_substances ILIKE 'fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'amodimethicone' OR reactive_substances ILIKE 'amodimethicone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'gluconolactone' OR reactive_substances ILIKE 'gluconolactone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'disodium edta' OR reactive_substances ILIKE 'disodium edta') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'peg-7 propylheptyl ether' OR reactive_substances ILIKE 'peg-7 propylheptyl ether') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'cetrimonium chloride' OR reactive_substances ILIKE 'cetrimonium chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'lactic acid' OR reactive_substances ILIKE 'lactic acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'methylchloroisothiazolinone' OR reactive_substances ILIKE 'methylchloroisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'methylisothiazolinone' OR reactive_substances ILIKE 'methylisothiazolinone') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'methylisothiazolinone' OR reactive_substances ILIKE 'methylisothiazolinone')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.8ms | Allocations: 333)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'benzyl salicylate' OR reactive_substances ILIKE 'benzyl salicylate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'hexyl cinnamal' OR reactive_substances ILIKE 'hexyl cinnamal') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'limonene' OR reactive_substances ILIKE 'limonene') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'linalool' OR reactive_substances ILIKE 'linalool') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 16.6ms | Allocations: 15015)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 18993)
Completed 200 OK in 22ms (Views: 16.1ms | ActiveRecord: 4.6ms | Allocations: 19759)


Started GET "/" for ::1 at 2022-12-25 15:48:16 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 30.8ms | Allocations: 43632)
  Rendered allergens/index.html.erb within layouts/application (Duration: 45.5ms | Allocations: 47994)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 49.8ms | Allocations: 52254)
Completed 200 OK in 52ms (Views: 50.9ms | ActiveRecord: 7.0ms | Allocations: 53058)


Started GET "/products/new" for ::1 at 2022-12-25 15:48:18 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered products/_form.html.erb (Duration: 2.2ms | Allocations: 1066)
  Rendered products/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1198)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 4981)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 5281)


Started POST "/products" for ::1 at 2022-12-25 15:48:23 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Aqua / Water / Eau, Cetearyl Alcohol, Elaeis Guineensis Oil / Palm Oil, Behentrimonium Chloride, Glycerin, Parfum / Fragrance, Isopropyl Alcohol, Stearamidopropyl Dimethylamine, Aloe Barbadensis / Aloe Barbadensis Leaf Juice, Prunus Armeniaca Kernel Oil / Apricot Kernel Oil, Theobroma Grandiflorum / Theobroma Grandiflorum Seed Butter, Limonene, Citric Acid, Chlorhexidine Dihydrochloride, Hexyl Cinnamal, Coumarin, Linalool, Butylphenyl Methylpropional, Benzyl Alcohol, Hydroxycitronellal, Amyl Cinnamal."}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 24]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 96]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 24]]
  â†³ app/models/product.rb:59:in `block in <class:Product>'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Aqua / Water / Eau, Cetearyl Alcohol, Elaeis Guineensis Oil / Palm Oil, Behentrimonium Chloride, Glycerin, Parfum / Fragrance, Isopropyl Alcohol, Stearamidopropyl Dimethylamine, Aloe Barbadensis / Aloe Barbadensis Leaf Juice, Prunus Armeniaca Kernel Oil / Apricot Kernel Oil, Theobroma Grandiflorum / Theobroma Grandiflorum Seed Butter, Limonene, Citric Acid, Chlorhexidine Dihydrochloride, Hexyl Cinnamal, Coumarin, Linalool, Butylphenyl Methylpropional, Benzyl Alcohol, Hydroxycitronellal, Amyl Cinnamal."], ["created_at", "2022-12-25 20:48:23.759298"], ["updated_at", "2022-12-25 20:48:23.759298"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:65:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 25], ["reactive_substances", "Coumarin [NF X] , Coumarin , Coumarinic anhydride , Coumarinic lactone , cis-o-Coumarinic acid lactone "], ["reactive_ingredient", "COUMARIN"], ["created_at", "2022-12-25 20:48:23.846172"], ["updated_at", "2022-12-25 20:48:23.846172"]]
  â†³ app/models/product.rb:48:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:43:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/25
Completed 302 Found in 98ms (ActiveRecord: 10.8ms | Allocations: 77800)


Started GET "/products/25" for ::1 at 2022-12-25 15:48:23 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"25"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 25], ["LIMIT", 1]]
  â†³ app/models/product.rb:30:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 25) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Aqua' OR reactive_substances ILIKE 'Aqua') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Water' OR reactive_substances ILIKE 'Water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Eau' OR reactive_substances ILIKE 'Eau') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Cetearyl Alcohol' OR reactive_substances ILIKE 'Cetearyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Elaeis Guineensis Oil' OR reactive_substances ILIKE 'Elaeis Guineensis Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Palm Oil' OR reactive_substances ILIKE 'Palm Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Behentrimonium Chloride' OR reactive_substances ILIKE 'Behentrimonium Chloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Glycerin' OR reactive_substances ILIKE 'Glycerin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Parfum' OR reactive_substances ILIKE 'Parfum') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Fragrance' OR reactive_substances ILIKE 'Fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Isopropyl Alcohol' OR reactive_substances ILIKE 'Isopropyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Stearamidopropyl Dimethylamine' OR reactive_substances ILIKE 'Stearamidopropyl Dimethylamine') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Aloe Barbadensis' OR reactive_substances ILIKE 'Aloe Barbadensis') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Aloe Barbadensis Leaf Juice' OR reactive_substances ILIKE 'Aloe Barbadensis Leaf Juice') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Prunus Armeniaca Kernel Oil' OR reactive_substances ILIKE 'Prunus Armeniaca Kernel Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Apricot Kernel Oil' OR reactive_substances ILIKE 'Apricot Kernel Oil') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Theobroma Grandiflorum' OR reactive_substances ILIKE 'Theobroma Grandiflorum') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Theobroma Grandiflorum Seed Butter' OR reactive_substances ILIKE 'Theobroma Grandiflorum Seed Butter') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Limonene' OR reactive_substances ILIKE 'Limonene') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Citric Acid' OR reactive_substances ILIKE 'Citric Acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Chlorhexidine Dihydrochloride' OR reactive_substances ILIKE 'Chlorhexidine Dihydrochloride') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hexyl Cinnamal' OR reactive_substances ILIKE 'Hexyl Cinnamal') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Coumarin' OR reactive_substances ILIKE 'Coumarin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Coumarin' OR reactive_substances ILIKE 'Coumarin')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.1ms | Allocations: 933)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Linalool' OR reactive_substances ILIKE 'Linalool') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Butylphenyl Methylpropional' OR reactive_substances ILIKE 'Butylphenyl Methylpropional') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzyl Alcohol' OR reactive_substances ILIKE 'Benzyl Alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Hydroxycitronellal' OR reactive_substances ILIKE 'Hydroxycitronellal') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Amyl Cinnamal' OR reactive_substances ILIKE 'Amyl Cinnamal') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 25.8ms | Allocations: 19698)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 29.2ms | Allocations: 23695)
Completed 200 OK in 30ms (Views: 23.2ms | ActiveRecord: 6.4ms | Allocations: 24471)


Started GET "/" for ::1 at 2022-12-25 17:59:14 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 50.4ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.6ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 91.8ms | Allocations: 76994)
Completed 200 OK in 99ms (Views: 88.0ms | ActiveRecord: 5.1ms | Allocations: 82288)


Started GET "/products/new" for ::1 at 2022-12-25 17:59:16 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.2ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 8.1ms | Allocations: 3117)
  Rendered products/new.html.erb within layouts/application (Duration: 10.4ms | Allocations: 3739)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 7736)
Completed 200 OK in 28ms (Views: 17.0ms | ActiveRecord: 2.4ms | Allocations: 12254)


Started POST "/products" for ::1 at 2022-12-25 17:59:37 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nformaldehyde\ncoumarin"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.8ms | Allocations: 1368)
  Rendered products/_form.html.erb (Duration: 2.1ms | Allocations: 2537)
  Rendered products/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 4585)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 58.3ms | Allocations: 31419)
Completed 422 Unprocessable Entity in 73ms (Views: 60.4ms | ActiveRecord: 4.6ms | Allocations: 41714)


Started GET "/" for ::1 at 2022-12-25 18:08:36 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 45.6ms | Allocations: 43851)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.6ms | Allocations: 49169)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 83.8ms | Allocations: 77028)
Completed 200 OK in 89ms (Views: 78.7ms | ActiveRecord: 6.2ms | Allocations: 82313)


Started GET "/products/new" for ::1 at 2022-12-25 18:08:38 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 5.8ms | Allocations: 3108)
  Rendered products/new.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3729)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 7726)
Completed 200 OK in 25ms (Views: 13.7ms | ActiveRecord: 2.2ms | Allocations: 12420)


Started POST "/products" for ::1 at 2022-12-25 18:08:56 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nformaldehyde\nfragrance"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.9ms | Allocations: 381)
  Rendered products/_form.html.erb (Duration: 3.2ms | Allocations: 1239)
  Rendered products/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1789)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 5672)
Completed 422 Unprocessable Entity in 17ms (Views: 13.6ms | ActiveRecord: 0.0ms | Allocations: 7308)


Started POST "/products" for ::1 at 2022-12-25 18:29:56 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"l", "ingredients"=>"water\nformaldehyde\nfragrance"}, "commit"=>"Submit"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 2607)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:12: syntax error, unexpected ':', expecting =>
...ormat:  {with: /\w+,\s/,/$\n/ :message => 
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
...perated by a ', ' or a return"}
...                              ^
):
  
app/models/product.rb:12: syntax error, unexpected ':', expecting =>
app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
app/models/product.rb:12: syntax error, unexpected ':', expecting =>
app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
app/models/product.rb:12: syntax error, unexpected ':', expecting =>
app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
app/controllers/products_controller.rb:47:in `create'
Started GET "/" for ::1 at 2022-12-25 18:30:35 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 49.7ms | Allocations: 43851)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.9ms | Allocations: 49169)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 83.9ms | Allocations: 77009)
Completed 200 OK in 90ms (Views: 78.8ms | ActiveRecord: 6.4ms | Allocations: 82295)


Started GET "/products/new" for ::1 at 2022-12-25 18:30:38 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1093)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:12: syntax error, unexpected ':', expecting '}'
... format:  {with: /\w+,\s,$\n/ :message => 
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
...perated by a ', ' or a return"}
...                              ^
):
  
app/models/product.rb:12: syntax error, unexpected ':', expecting '}'
app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
app/models/product.rb:12: syntax error, unexpected ':', expecting '}'
app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
app/models/product.rb:12: syntax error, unexpected ':', expecting '}'
app/models/product.rb:13: syntax error, unexpected '}', expecting `end'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 18:31:55 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (1.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 23.0ms | Allocations: 43741)
  Rendered allergens/index.html.erb within layouts/application (Duration: 33.7ms | Allocations: 48802)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 164)
  Rendered layout layouts/application.html.erb (Duration: 53.3ms | Allocations: 75788)
Completed 200 OK in 56ms (Views: 46.6ms | ActiveRecord: 7.3ms | Allocations: 79228)


Started GET "/products/new" for ::1 at 2022-12-25 18:31:57 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1075)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:12: syntax error, unexpected ',', expecting =>
...format:  {with: /\w+,\s/,/$\n/, :message => "must be seperat...
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:12: syntax error, unexpected '}', expecting `end'
...perated by a ', ' or a return"}
...                              ^
):
  
app/models/product.rb:12: syntax error, unexpected ',', expecting =>
app/models/product.rb:12: syntax error, unexpected '}', expecting `end'
app/models/product.rb:12: syntax error, unexpected ',', expecting =>
app/models/product.rb:12: syntax error, unexpected '}', expecting `end'
app/models/product.rb:12: syntax error, unexpected ',', expecting =>
app/models/product.rb:12: syntax error, unexpected '}', expecting `end'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 18:32:25 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 22.7ms | Allocations: 43344)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.0ms | Allocations: 46037)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 32.3ms | Allocations: 50327)
Completed 200 OK in 34ms (Views: 27.6ms | ActiveRecord: 5.0ms | Allocations: 52492)


Started GET "/products/new" for ::1 at 2022-12-25 18:32:28 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.3ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 9.7ms | Allocations: 3114)
  Rendered products/new.html.erb within layouts/application (Duration: 13.1ms | Allocations: 3738)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 7734)
Completed 200 OK in 33ms (Views: 19.1ms | ActiveRecord: 3.1ms | Allocations: 12346)


Started GET "/" for ::1 at 2022-12-25 18:39:44 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 51.4ms | Allocations: 43851)
  Rendered allergens/index.html.erb within layouts/application (Duration: 60.8ms | Allocations: 49169)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 93.7ms | Allocations: 76957)
Completed 200 OK in 99ms (Views: 88.8ms | ActiveRecord: 6.0ms | Allocations: 82242)


Started GET "/products/new" for ::1 at 2022-12-25 18:39:46 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1120)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:14: syntax error, unexpected ',', expecting `then' or ';' or '\n'
...must be seperated by a ', '"}],
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:81: syntax error, unexpected end-of-input, expecting `end'):
  
app/models/product.rb:14: syntax error, unexpected ',', expecting `then' or ';' or '\n'
app/models/product.rb:81: syntax error, unexpected end-of-input, expecting `end'
app/models/product.rb:14: syntax error, unexpected ',', expecting `then' or ';' or '\n'
app/models/product.rb:81: syntax error, unexpected end-of-input, expecting `end'
app/models/product.rb:14: syntax error, unexpected ',', expecting `then' or ';' or '\n'
app/models/product.rb:81: syntax error, unexpected end-of-input, expecting `end'
app/controllers/products_controller.rb:38:in `new'
Started GET "/products/new" for ::1 at 2022-12-25 18:40:11 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 2075)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:14: syntax error, unexpected ',', expecting `then' or ';' or '\n'
...must be seperated by a ', '"}],
...                              ^
):
  
app/models/product.rb:14: syntax error, unexpected ',', expecting `then' or ';' or '\n'
app/models/product.rb:14: syntax error, unexpected ',', expecting `then' or ';' or '\n'
app/models/product.rb:14: syntax error, unexpected ',', expecting `then' or ';' or '\n'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 18:42:05 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 30.3ms | Allocations: 43345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 42.1ms | Allocations: 48721)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 45.6ms | Allocations: 53013)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 6.2ms | Allocations: 55146)


Started GET "/products/new" for ::1 at 2022-12-25 18:42:07 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 19)
  Rendered products/_form.html.erb (Duration: 2.0ms | Allocations: 1269)
  Rendered products/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1420)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 5449)
Completed 200 OK in 16ms (Views: 9.0ms | ActiveRecord: 0.0ms | Allocations: 8807)


Started POST "/products" for ::1 at 2022-12-25 18:42:17 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nformaldehyde"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 349)
  Rendered products/_form.html.erb (Duration: 2.3ms | Allocations: 1167)
  Rendered products/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1679)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 5454)
Completed 422 Unprocessable Entity in 14ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 6970)


Started POST "/products" for ::1 at 2022-12-25 18:42:24 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, \nformaldehyde"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mReaction Load (1.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 25]]
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 97]]
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 25]]
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mProduct Create (1.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "water, \nformaldehyde"], ["created_at", "2022-12-25 23:42:24.479251"], ["updated_at", "2022-12-25 23:42:24.479251"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:69:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:47:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:47:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/models/product.rb:52:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 26], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-25 23:42:24.532681"], ["updated_at", "2022-12-25 23:42:24.532681"]]
  â†³ app/models/product.rb:52:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/models/product.rb:52:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 26], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-25 23:42:24.536693"], ["updated_at", "2022-12-25 23:42:24.536693"]]
  â†³ app/models/product.rb:52:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/models/product.rb:52:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 26], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-25 23:42:24.540411"], ["updated_at", "2022-12-25 23:42:24.540411"]]
  â†³ app/models/product.rb:52:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/models/product.rb:52:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (2.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 26], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-25 23:42:24.543179"], ["updated_at", "2022-12-25 23:42:24.543179"]]
  â†³ app/models/product.rb:52:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (3.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/26
Completed 302 Found in 76ms (ActiveRecord: 24.9ms | Allocations: 29317)


Started GET "/products/26" for ::1 at 2022-12-25 18:42:24 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"26"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 26], ["LIMIT", 1]]
  â†³ app/models/product.rb:34:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 26) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (9.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 3.2ms | Allocations: 2445)
  Rendered products/show.html.erb within layouts/application (Duration: 19.8ms | Allocations: 7021)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 24.4ms | Allocations: 11226)
Completed 200 OK in 27ms (Views: 14.2ms | ActiveRecord: 10.8ms | Allocations: 12696)


Started GET "/" for ::1 at 2022-12-25 18:42:58 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 20.1ms | Allocations: 43345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 26.9ms | Allocations: 46038)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 29.3ms | Allocations: 50284)
Completed 200 OK in 31ms (Views: 24.9ms | ActiveRecord: 4.8ms | Allocations: 52449)


Started GET "/products/new" for ::1 at 2022-12-25 18:43:01 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 6.3ms | Allocations: 3113)
  Rendered products/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3735)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 22.0ms | Allocations: 7742)
Completed 200 OK in 34ms (Views: 23.6ms | ActiveRecord: 3.1ms | Allocations: 12349)


Started POST "/products" for ::1 at 2022-12-25 18:43:09 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nformaldehyde"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mReaction Load (0.8ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 26]]
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 98]]
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 99]]
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 100]]
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 101]]
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 26]]
  â†³ app/models/product.rb:63:in `block in <class:Product>'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "water\nformaldehyde"], ["created_at", "2022-12-25 23:43:09.463726"], ["updated_at", "2022-12-25 23:43:09.463726"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:69:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:47:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/27
Completed 302 Found in 47ms (ActiveRecord: 9.6ms | Allocations: 21876)


Started GET "/products/27" for ::1 at 2022-12-25 18:43:09 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"27"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 27], ["LIMIT", 1]]
  â†³ app/models/product.rb:34:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water
formaldehyde' OR reactive_substances ILIKE 'water
formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1942)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 6124)
Completed 200 OK in 12ms (Views: 8.5ms | ActiveRecord: 1.0ms | Allocations: 7680)


Started GET "/" for ::1 at 2022-12-25 18:51:11 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 24.7ms | Allocations: 43741)
  Rendered allergens/index.html.erb within layouts/application (Duration: 75.0ms | Allocations: 51751)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 164)
  Rendered layout layouts/application.html.erb (Duration: 97.7ms | Allocations: 79420)
Completed 200 OK in 102ms (Views: 98.3ms | ActiveRecord: 28.0ms | Allocations: 82805)


Started GET "/products/new" for ::1 at 2022-12-25 18:51:13 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1091)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:16: syntax error, unexpected '\n', expecting =>
...st be seperated by a newline"}]
...                               ^
):
  
app/models/product.rb:16: syntax error, unexpected '\n', expecting =>
app/models/product.rb:16: syntax error, unexpected '\n', expecting =>
app/models/product.rb:16: syntax error, unexpected '\n', expecting =>
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 18:52:18 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 21.3ms | Allocations: 43347)
  Rendered allergens/index.html.erb within layouts/application (Duration: 33.0ms | Allocations: 48784)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 35.8ms | Allocations: 53070)
Completed 200 OK in 37ms (Views: 36.2ms | ActiveRecord: 4.6ms | Allocations: 55223)


Started GET "/products/new" for ::1 at 2022-12-25 18:52:21 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1070)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:17: syntax error, unexpected `end'
  end
  ^~~
):
  
app/models/product.rb:17: syntax error, unexpected `end'
app/models/product.rb:17: syntax error, unexpected `end'
app/models/product.rb:17: syntax error, unexpected `end'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 18:54:12 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 26.3ms | Allocations: 43345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 55.1ms | Allocations: 48787)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 58.2ms | Allocations: 53077)
Completed 200 OK in 60ms (Views: 58.6ms | ActiveRecord: 6.8ms | Allocations: 55232)


Started GET "/products/new" for ::1 at 2022-12-25 18:54:14 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1083)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:16: syntax error, unexpected '\n', expecting =>
    [format:  {with: /$\n/}]
                            ^
):
  
app/models/product.rb:16: syntax error, unexpected '\n', expecting =>
app/models/product.rb:16: syntax error, unexpected '\n', expecting =>
app/models/product.rb:16: syntax error, unexpected '\n', expecting =>
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 18:55:46 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 21.3ms | Allocations: 43345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 34.0ms | Allocations: 46042)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | Allocations: 50344)
Completed 200 OK in 40ms (Views: 27.3ms | ActiveRecord: 10.9ms | Allocations: 52505)


Started GET "/products/new" for ::1 at 2022-12-25 18:55:48 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1080)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:16: syntax error, unexpected ':', expecting '}'
    [format:  {with: /$\n/ :message => "newline"}]
                           ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:16: syntax error, unexpected '}', expecting `end'
...h: /$\n/ :message => "newline"}]
...                              ^
):
  
app/models/product.rb:16: syntax error, unexpected ':', expecting '}'
app/models/product.rb:16: syntax error, unexpected '}', expecting `end'
app/models/product.rb:16: syntax error, unexpected ':', expecting '}'
app/models/product.rb:16: syntax error, unexpected '}', expecting `end'
app/models/product.rb:16: syntax error, unexpected ':', expecting '}'
app/models/product.rb:16: syntax error, unexpected '}', expecting `end'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 18:56:22 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 19.7ms | Allocations: 43345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.5ms | Allocations: 46038)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 32.8ms | Allocations: 50325)
Completed 200 OK in 34ms (Views: 27.1ms | ActiveRecord: 6.0ms | Allocations: 52491)


Started GET "/products/new" for ::1 at 2022-12-25 18:56:25 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1083)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:15: syntax error, unexpected label, expecting ']'
    [format:  with: /\w+,\s/],
              ^~~~~
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:15: syntax error, unexpected ']', expecting `end'
    [format:  with: /\w+,\s/],
                            ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:16: syntax error, unexpected ']', expecting `end'
    [format:  with: /$\n/]
                         ^
):
  
app/models/product.rb:15: syntax error, unexpected label, expecting ']'
app/models/product.rb:15: syntax error, unexpected ']', expecting `end'
app/models/product.rb:16: syntax error, unexpected ']', expecting `end'
app/models/product.rb:15: syntax error, unexpected label, expecting ']'
app/models/product.rb:15: syntax error, unexpected ']', expecting `end'
app/models/product.rb:16: syntax error, unexpected ']', expecting `end'
app/models/product.rb:15: syntax error, unexpected label, expecting ']'
app/models/product.rb:15: syntax error, unexpected ']', expecting `end'
app/models/product.rb:16: syntax error, unexpected ']', expecting `end'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 19:11:43 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.7ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 26.7ms | Allocations: 43347)
  Rendered allergens/index.html.erb within layouts/application (Duration: 41.6ms | Allocations: 48732)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 45.3ms | Allocations: 52992)
Completed 200 OK in 48ms (Views: 45.8ms | ActiveRecord: 5.7ms | Allocations: 55136)


Started GET "/products/new" for ::1 at 2022-12-25 19:11:45 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.0ms | Allocations: 1721)


  
ArgumentError (You need to supply at least one validation):
  
app/models/product.rb:14:in `<class:Product>'
app/models/product.rb:2:in `<main>'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 19:13:34 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 20.8ms | Allocations: 43345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 32.7ms | Allocations: 46042)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 35.8ms | Allocations: 50288)
Completed 200 OK in 38ms (Views: 26.6ms | ActiveRecord: 9.9ms | Allocations: 52449)


Started GET "/products/new" for ::1 at 2022-12-25 19:13:36 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1070)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:15: syntax error, unexpected ':'
    if: -> record { record.includes?...
      ^
):
  
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:15: syntax error, unexpected ':'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 19:14:56 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 19.6ms | Allocations: 43345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 31.3ms | Allocations: 48773)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 34.8ms | Allocations: 53057)
Completed 200 OK in 37ms (Views: 35.2ms | ActiveRecord: 5.0ms | Allocations: 55208)


Started GET "/products/new" for ::1 at 2022-12-25 19:14:58 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1063)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:15: syntax error, unexpected ':'
    if: -> record.ingredients.includ...
      ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:17: syntax error, unexpected tLAMBEG, expecting `end'
...lidates :ingredients, format: { without: /;/, :message => 
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:17: syntax error, unexpected ',', expecting `end'
...dients, format: { without: /;/, :message => 
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:18: syntax error, unexpected '}', expecting `end'
...ich is not a valid character" }
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:32: syntax error, unexpected tLAMBEG
..._ingredients.split(', ').each { |ingredient| ingredient.stri...
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:32: syntax error, unexpected '}', expecting `end'
...ingredient| ingredient.strip! }
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:46: syntax error, unexpected `do' for lambda
...   self.get_ingredients.each do |ingredient|
...                             ^~
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:49: syntax error, unexpected `do' for block, expecting `end'
      allergens.find_each do |allergen|
                          ^~
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:75: syntax error, unexpected `end', expecting end-of-input):
  
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:17: syntax error, unexpected tLAMBEG, expecting `end'
app/models/product.rb:17: syntax error, unexpected ',', expecting `end'
app/models/product.rb:18: syntax error, unexpected '}', expecting `end'
app/models/product.rb:32: syntax error, unexpected tLAMBEG
app/models/product.rb:32: syntax error, unexpected '}', expecting `end'
app/models/product.rb:46: syntax error, unexpected `do' for lambda
app/models/product.rb:49: syntax error, unexpected `do' for block, expecting `end'
app/models/product.rb:75: syntax error, unexpected `end', expecting end-of-input
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:17: syntax error, unexpected tLAMBEG, expecting `end'
app/models/product.rb:17: syntax error, unexpected ',', expecting `end'
app/models/product.rb:18: syntax error, unexpected '}', expecting `end'
app/models/product.rb:32: syntax error, unexpected tLAMBEG
app/models/product.rb:32: syntax error, unexpected '}', expecting `end'
app/models/product.rb:46: syntax error, unexpected `do' for lambda
app/models/product.rb:49: syntax error, unexpected `do' for block, expecting `end'
app/models/product.rb:75: syntax error, unexpected `end', expecting end-of-input
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:17: syntax error, unexpected tLAMBEG, expecting `end'
app/models/product.rb:17: syntax error, unexpected ',', expecting `end'
app/models/product.rb:18: syntax error, unexpected '}', expecting `end'
app/models/product.rb:32: syntax error, unexpected tLAMBEG
app/models/product.rb:32: syntax error, unexpected '}', expecting `end'
app/models/product.rb:46: syntax error, unexpected `do' for lambda
app/models/product.rb:49: syntax error, unexpected `do' for block, expecting `end'
app/models/product.rb:75: syntax error, unexpected `end', expecting end-of-input
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 19:15:19 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 24.6ms | Allocations: 43345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 39.4ms | Allocations: 48782)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 43.6ms | Allocations: 53078)
Completed 200 OK in 46ms (Views: 44.0ms | ActiveRecord: 6.8ms | Allocations: 55232)


Started GET "/products/new" for ::1 at 2022-12-25 19:15:21 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1067)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:15: syntax error, unexpected ':'
    if: -> record.ingredients.includ...
      ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:15: syntax error, unexpected tLAMBEG
...> record.ingredients.includes?{(/\w+,\s/ || /$\n/)}
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:15: syntax error, unexpected '}', expecting `end'
....includes?{(/\w+,\s/ || /$\n/)}
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:17: syntax error, unexpected tLAMBEG, expecting `end'
...lidates :ingredients, format: { without: /;/, :message => 
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:17: syntax error, unexpected ',', expecting `end'
...dients, format: { without: /;/, :message => 
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:18: syntax error, unexpected '}', expecting `end'
...ich is not a valid character" }
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:32: syntax error, unexpected tLAMBEG
..._ingredients.split(', ').each { |ingredient| ingredient.stri...
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:32: syntax error, unexpected '}', expecting `end'
...ingredient| ingredient.strip! }
...                              ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:46: syntax error, unexpected `do' for lambda
...   self.get_ingredients.each do |ingredient|
...                             ^~
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:49: syntax error, unexpected `do' for block, expecting `end'
      allergens.find_each do |allergen|
                          ^~
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:75: syntax error, unexpected `end', expecting end-of-input):
  
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:15: syntax error, unexpected tLAMBEG
app/models/product.rb:15: syntax error, unexpected '}', expecting `end'
app/models/product.rb:17: syntax error, unexpected tLAMBEG, expecting `end'
app/models/product.rb:17: syntax error, unexpected ',', expecting `end'
app/models/product.rb:18: syntax error, unexpected '}', expecting `end'
app/models/product.rb:32: syntax error, unexpected tLAMBEG
app/models/product.rb:32: syntax error, unexpected '}', expecting `end'
app/models/product.rb:46: syntax error, unexpected `do' for lambda
app/models/product.rb:49: syntax error, unexpected `do' for block, expecting `end'
app/models/product.rb:75: syntax error, unexpected `end', expecting end-of-input
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:15: syntax error, unexpected tLAMBEG
app/models/product.rb:15: syntax error, unexpected '}', expecting `end'
app/models/product.rb:17: syntax error, unexpected tLAMBEG, expecting `end'
app/models/product.rb:17: syntax error, unexpected ',', expecting `end'
app/models/product.rb:18: syntax error, unexpected '}', expecting `end'
app/models/product.rb:32: syntax error, unexpected tLAMBEG
app/models/product.rb:32: syntax error, unexpected '}', expecting `end'
app/models/product.rb:46: syntax error, unexpected `do' for lambda
app/models/product.rb:49: syntax error, unexpected `do' for block, expecting `end'
app/models/product.rb:75: syntax error, unexpected `end', expecting end-of-input
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:15: syntax error, unexpected tLAMBEG
app/models/product.rb:15: syntax error, unexpected '}', expecting `end'
app/models/product.rb:17: syntax error, unexpected tLAMBEG, expecting `end'
app/models/product.rb:17: syntax error, unexpected ',', expecting `end'
app/models/product.rb:18: syntax error, unexpected '}', expecting `end'
app/models/product.rb:32: syntax error, unexpected tLAMBEG
app/models/product.rb:32: syntax error, unexpected '}', expecting `end'
app/models/product.rb:46: syntax error, unexpected `do' for lambda
app/models/product.rb:49: syntax error, unexpected `do' for block, expecting `end'
app/models/product.rb:75: syntax error, unexpected `end', expecting end-of-input
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 19:22:07 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 25.7ms | Allocations: 43345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 42.9ms | Allocations: 48773)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 46.6ms | Allocations: 53066)
Completed 200 OK in 49ms (Views: 47.1ms | ActiveRecord: 9.8ms | Allocations: 55218)


Started GET "/products/new" for ::1 at 2022-12-25 19:22:10 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1082)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:15: syntax error, unexpected ':'
    if: :record.proper_input?
      ^
):
  
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:15: syntax error, unexpected ':'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 19:22:25 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 18.3ms | Allocations: 43346)
  Rendered allergens/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 46053)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 29.3ms | Allocations: 50345)
Completed 200 OK in 31ms (Views: 23.3ms | ActiveRecord: 6.3ms | Allocations: 52506)


Started GET "/products/new" for ::1 at 2022-12-25 19:22:27 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1080)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:15: syntax error, unexpected ':'
    if: record.proper_input?
      ^
):
  
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:15: syntax error, unexpected ':'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 19:22:38 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 20.2ms | Allocations: 43344)
  Rendered allergens/index.html.erb within layouts/application (Duration: 26.7ms | Allocations: 46026)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 29.9ms | Allocations: 50309)
Completed 200 OK in 32ms (Views: 26.2ms | ActiveRecord: 4.0ms | Allocations: 52470)


Started GET "/products/new" for ::1 at 2022-12-25 19:22:41 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1078)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:15: syntax error, unexpected ':'
    if: record.proper_input? end
      ^
/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:78: syntax error, unexpected `end', expecting end-of-input):
  
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:78: syntax error, unexpected `end', expecting end-of-input
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:78: syntax error, unexpected `end', expecting end-of-input
app/models/product.rb:15: syntax error, unexpected ':'
app/models/product.rb:78: syntax error, unexpected `end', expecting end-of-input
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 19:23:23 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.7ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 19.0ms | Allocations: 43344)
  Rendered allergens/index.html.erb within layouts/application (Duration: 32.5ms | Allocations: 48772)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 36.0ms | Allocations: 53060)
Completed 200 OK in 38ms (Views: 36.5ms | ActiveRecord: 6.9ms | Allocations: 55211)


Started GET "/products/new" for ::1 at 2022-12-25 19:23:25 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 7.6ms | Allocations: 3128)
  Rendered products/new.html.erb within layouts/application (Duration: 9.3ms | Allocations: 3754)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 7802)
Completed 200 OK in 34ms (Views: 14.9ms | ActiveRecord: 8.6ms | Allocations: 12460)


Started POST "/products" for ::1 at 2022-12-25 19:23:42 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water formaldehyde\n"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 380)
  Rendered products/_form.html.erb (Duration: 2.0ms | Allocations: 1240)
  Rendered products/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1789)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 7.6ms | Allocations: 5671)
Completed 422 Unprocessable Entity in 12ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 7272)


Started POST "/products" for ::1 at 2022-12-25 19:23:53 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, formaldehyde\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:61:in `block in <class:Product>'
  [1m[36mProduct Load (2.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:61:in `block in <class:Product>'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 27]]
  â†³ app/models/product.rb:61:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 27]]
  â†³ app/models/product.rb:61:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "water, formaldehyde\n"], ["created_at", "2022-12-26 00:23:53.962410"], ["updated_at", "2022-12-26 00:23:53.962410"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:67:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:45:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:45:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/models/product.rb:50:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 28], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 00:23:54.009362"], ["updated_at", "2022-12-26 00:23:54.009362"]]
  â†³ app/models/product.rb:50:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/models/product.rb:50:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 28], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 00:23:54.012004"], ["updated_at", "2022-12-26 00:23:54.012004"]]
  â†³ app/models/product.rb:50:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/models/product.rb:50:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 28], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 00:23:54.013681"], ["updated_at", "2022-12-26 00:23:54.013681"]]
  â†³ app/models/product.rb:50:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/models/product.rb:50:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 28], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 00:23:54.015687"], ["updated_at", "2022-12-26 00:23:54.015687"]]
  â†³ app/models/product.rb:50:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/28
Completed 302 Found in 58ms (ActiveRecord: 9.7ms | Allocations: 32003)


Started GET "/products/28" for ::1 at 2022-12-25 19:23:54 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"28"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 28], ["LIMIT", 1]]
  â†³ app/models/product.rb:32:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 28) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (3.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 2.0ms | Allocations: 2444)
  Rendered products/show.html.erb within layouts/application (Duration: 11.9ms | Allocations: 7019)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 15.2ms | Allocations: 11172)
Completed 200 OK in 17ms (Views: 10.5ms | ActiveRecord: 5.1ms | Allocations: 12642)


Started GET "/" for ::1 at 2022-12-25 23:53:50 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 51.3ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 60.8ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 173)
  Rendered layout layouts/application.html.erb (Duration: 86.0ms | Allocations: 76718)
Completed 200 OK in 93ms (Views: 82.1ms | ActiveRecord: 5.7ms | Allocations: 82013)


Started GET "/products/new" for ::1 at 2022-12-25 23:54:05 -0500
Processing by ProductsController#new as HTML
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.0ms | Allocations: 1102)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/product.rb:78: syntax error, unexpected end-of-input, expecting `end'):
  
app/models/product.rb:78: syntax error, unexpected end-of-input, expecting `end'
app/models/product.rb:78: syntax error, unexpected end-of-input, expecting `end'
app/models/product.rb:78: syntax error, unexpected end-of-input, expecting `end'
app/controllers/products_controller.rb:38:in `new'
Started GET "/" for ::1 at 2022-12-25 23:54:26 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 49.0ms | Allocations: 43851)
  Rendered allergens/index.html.erb within layouts/application (Duration: 58.4ms | Allocations: 49169)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 89.4ms | Allocations: 77069)
Completed 200 OK in 95ms (Views: 84.6ms | ActiveRecord: 5.9ms | Allocations: 82354)


Started GET "/products/new" for ::1 at 2022-12-25 23:54:28 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 9.9ms | Allocations: 3108)
  Rendered products/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3729)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 16.7ms | Allocations: 7726)
Completed 200 OK in 32ms (Views: 18.4ms | ActiveRecord: 3.4ms | Allocations: 12426)


Started POST "/products" for ::1 at 2022-12-25 23:54:53 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nformaldehyde\ncoumarin"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 28]]
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 102]]
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 103]]
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 104]]
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 105]]
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 28]]
  â†³ app/models/product.rb:64:in `block in <class:Product>'
  [1m[36mProduct Create (1.1ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "water\nformaldehyde\ncoumarin"], ["created_at", "2022-12-26 04:54:54.086037"], ["updated_at", "2022-12-26 04:54:54.086037"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:48:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/29
Completed 302 Found in 56ms (ActiveRecord: 32.3ms | Allocations: 32859)


Started GET "/products/29" for ::1 at 2022-12-25 23:54:54 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"29"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 29], ["LIMIT", 1]]
  â†³ app/models/product.rb:35:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water
formaldehyde
coumarin' OR reactive_substances ILIKE 'water
formaldehyde
coumarin') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 2.2ms | Allocations: 2344)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 160)
  Rendered layout layouts/application.html.erb (Duration: 20.9ms | Allocations: 29930)
Completed 200 OK in 25ms (Views: 21.8ms | ActiveRecord: 0.8ms | Allocations: 33132)


Started GET "/" for ::1 at 2022-12-25 23:58:12 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 49.5ms | Allocations: 43851)
  Rendered allergens/index.html.erb within layouts/application (Duration: 57.7ms | Allocations: 49169)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 80.4ms | Allocations: 76985)
Completed 200 OK in 86ms (Views: 76.9ms | ActiveRecord: 4.7ms | Allocations: 82270)


Started GET "/products/new" for ::1 at 2022-12-25 23:58:16 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 9.2ms | Allocations: 3114)
  Rendered products/new.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3736)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 18.1ms | Allocations: 7733)
Completed 200 OK in 40ms (Views: 21.7ms | ActiveRecord: 5.1ms | Allocations: 12446)


Started POST "/products" for ::1 at 2022-12-25 23:58:35 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, formaldehdye\ntest\ncase"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:67:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:67:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 29]]
  â†³ app/models/product.rb:67:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 29]]
  â†³ app/models/product.rb:67:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "water, formaldehdye\ntest\ncase"], ["created_at", "2022-12-26 04:58:35.363033"], ["updated_at", "2022-12-26 04:58:35.363033"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:73:in `block in <class:Product>'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Completed 500 Internal Server Error in 38ms (ActiveRecord: 4.6ms | Allocations: 13760)


  
NoMethodError (undefined method `strip!' for ["water, formaldehdye\ntest\ncase"]:Array

    return clean_ingredients.split(', ').each { |ingredient| ingredient.strip! }
                                                                       ^^^^^^^):
  
app/models/product.rb:34:in `block in get_ingredients'
app/models/product.rb:34:in `each'
app/models/product.rb:34:in `get_ingredients'
app/models/product.rb:48:in `check_for_allergens'
app/models/product.rb:74:in `block in <class:Product>'
app/controllers/products_controller.rb:49:in `create'
Started GET "/" for ::1 at 2022-12-26 00:05:04 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.7ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 48.0ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 56.8ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 81.2ms | Allocations: 77086)
Completed 200 OK in 87ms (Views: 77.4ms | ActiveRecord: 4.9ms | Allocations: 82382)


Started GET "/products/new" for ::1 at 2022-12-26 00:05:06 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 11.3ms | Allocations: 3123)
  Rendered products/new.html.erb within layouts/application (Duration: 13.9ms | Allocations: 3744)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 21.3ms | Allocations: 7741)
Completed 200 OK in 39ms (Views: 23.0ms | ActiveRecord: 2.8ms | Allocations: 12452)


Started POST "/products" for ::1 at 2022-12-26 00:05:22 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nformaldehyde\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 29]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 29]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "water\nformaldehyde\n"], ["created_at", "2022-12-26 05:05:22.776129"], ["updated_at", "2022-12-26 05:05:22.776129"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/31
Completed 302 Found in 32ms (ActiveRecord: 5.5ms | Allocations: 14889)


Started GET "/products/31" for ::1 at 2022-12-26 00:05:22 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"31"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 31], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water
formaldehyde' OR reactive_substances ILIKE 'water
formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1939)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | Allocations: 6109)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 1.0ms | Allocations: 7657)


Started GET "/" for ::1 at 2022-12-26 00:06:07 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 21.7ms | Allocations: 43345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 28.2ms | Allocations: 45970)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 30.5ms | Allocations: 50260)
Completed 200 OK in 32ms (Views: 26.1ms | ActiveRecord: 4.7ms | Allocations: 52412)


Started GET "/products/new" for ::1 at 2022-12-26 00:06:09 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 19)
  Rendered products/_form.html.erb (Duration: 2.3ms | Allocations: 1290)
  Rendered products/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1441)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 5428)
Completed 200 OK in 23ms (Views: 10.9ms | ActiveRecord: 3.0ms | Allocations: 9028)


Started POST "/products" for ::1 at 2022-12-26 00:06:19 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nformaldehyde"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 31]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 31]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "water\nformaldehyde"], ["created_at", "2022-12-26 05:06:19.787827"], ["updated_at", "2022-12-26 05:06:19.787827"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.7ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 32], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 05:06:19.828035"], ["updated_at", "2022-12-26 05:06:19.828035"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 32], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 05:06:19.831613"], ["updated_at", "2022-12-26 05:06:19.831613"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 32], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 05:06:19.834279"], ["updated_at", "2022-12-26 05:06:19.834279"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 32], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 05:06:19.837332"], ["updated_at", "2022-12-26 05:06:19.837332"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/32
Completed 302 Found in 55ms (ActiveRecord: 9.6ms | Allocations: 24853)


Started GET "/products/32" for ::1 at 2022-12-26 00:06:19 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"32"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 32], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 32) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 2.8ms | Allocations: 2478)
  Rendered products/show.html.erb within layouts/application (Duration: 9.0ms | Allocations: 6568)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 13.0ms | Allocations: 10708)
Completed 200 OK in 16ms (Views: 12.2ms | ActiveRecord: 1.6ms | Allocations: 12091)


Started GET "/products/32/edit" for ::1 at 2022-12-26 00:06:30 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"32"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.5ms | Allocations: 1162)
  Rendered products/edit.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1311)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5086)
Completed 200 OK in 15ms (Views: 11.7ms | ActiveRecord: 0.3ms | Allocations: 5908)


Started PATCH "/products/32" for ::1 at 2022-12-26 00:06:50 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nformaldehyde\ntest, case, fragrance"}, "commit"=>"Submit", "id"=>"32"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "water\nformaldehyde\ntest, case, fragrance"], ["updated_at", "2022-12-26 05:06:50.432023"], ["id", 32]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 106]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 107]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 108]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 109]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 32], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 05:06:50.447545"], ["updated_at", "2022-12-26 05:06:50.447545"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 32], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 05:06:50.450096"], ["updated_at", "2022-12-26 05:06:50.450096"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 32], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 05:06:50.451840"], ["updated_at", "2022-12-26 05:06:50.451840"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 32], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-26 05:06:50.454167"], ["updated_at", "2022-12-26 05:06:50.454167"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/32
Completed 302 Found in 35ms (ActiveRecord: 4.3ms | Allocations: 24924)


Started GET "/products/32" for ::1 at 2022-12-26 00:06:50 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"32"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 32], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 32) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.6ms | Allocations: 2179)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test' OR reactive_substances ILIKE 'test') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'case' OR reactive_substances ILIKE 'case') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'fragrance' OR reactive_substances ILIKE 'fragrance') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 8.3ms | Allocations: 7694)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 11665)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 1.5ms | Allocations: 12431)


Started GET "/products/new" for ::1 at 2022-12-26 00:07:02 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 2.6ms | Allocations: 998)
  Rendered products/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1129)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 4912)
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 5185)


Started POST "/products" for ::1 at 2022-12-26 00:07:36 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water,formaldehyde"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.1ms | Allocations: 1367)
  Rendered products/_form.html.erb (Duration: 1.8ms | Allocations: 2535)
  Rendered products/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 4582)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 31621)
Completed 422 Unprocessable Entity in 35ms (Views: 22.6ms | ActiveRecord: 5.8ms | Allocations: 41896)


Started POST "/products" for ::1 at 2022-12-26 00:07:47 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water,formaldehyde\ntest\ncase"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 32]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 110]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 111]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 112]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 113]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 32]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "water,formaldehyde\ntest\ncase"], ["created_at", "2022-12-26 05:07:47.388345"], ["updated_at", "2022-12-26 05:07:47.388345"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/33
Completed 302 Found in 58ms (ActiveRecord: 13.1ms | Allocations: 30444)


Started GET "/products/33" for ::1 at 2022-12-26 00:07:47 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"33"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 33], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water,formaldehyde' OR reactive_substances ILIKE 'water,formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test' OR reactive_substances ILIKE 'test') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'case' OR reactive_substances ILIKE 'case') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 4.6ms | Allocations: 3279)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 149)
  Rendered layout layouts/application.html.erb (Duration: 8.8ms | Allocations: 8036)
Completed 200 OK in 13ms (Views: 9.1ms | ActiveRecord: 1.2ms | Allocations: 10178)


Started GET "/products/33/edit" for ::1 at 2022-12-26 00:08:12 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"33"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1069)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1129)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 4914)
Completed 200 OK in 19ms (Views: 16.3ms | ActiveRecord: 0.2ms | Allocations: 5678)


Started PATCH "/products/33" for ::1 at 2022-12-26 00:08:22 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water,formaldehyde\n"}, "commit"=>"Submit", "id"=>"33"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "water,formaldehyde\n"], ["updated_at", "2022-12-26 05:08:22.504067"], ["id", 33]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/33
Completed 302 Found in 18ms (ActiveRecord: 2.2ms | Allocations: 5883)


Started GET "/products/33" for ::1 at 2022-12-26 00:08:22 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"33"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 33], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water,formaldehyde' OR reactive_substances ILIKE 'water,formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1300)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 5270)
Completed 200 OK in 12ms (Views: 9.0ms | ActiveRecord: 0.9ms | Allocations: 6036)


Started GET "/products/33/edit" for ::1 at 2022-12-26 00:09:08 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"33"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 24.9ms | Allocations: 3506)
  Rendered products/edit.html.erb within layouts/application (Duration: 30.9ms | Allocations: 3987)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 52.4ms | Allocations: 31143)
Completed 200 OK in 70ms (Views: 57.8ms | ActiveRecord: 5.6ms | Allocations: 42518)


Started PATCH "/products/33" for ::1 at 2022-12-26 00:09:15 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water,formaldehyde  \n"}, "commit"=>"Submit", "id"=>"33"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "water,formaldehyde  \n"], ["updated_at", "2022-12-26 05:09:16.012505"], ["id", 33]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (1.0ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/33
Completed 302 Found in 32ms (ActiveRecord: 6.5ms | Allocations: 12604)


Started GET "/products/33" for ::1 at 2022-12-26 00:09:16 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"33"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 33], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water,formaldehyde' OR reactive_substances ILIKE 'water,formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2380)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 10.3ms | Allocations: 6561)
Completed 200 OK in 13ms (Views: 8.7ms | ActiveRecord: 2.5ms | Allocations: 7511)


Started GET "/" for ::1 at 2022-12-26 00:10:32 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 17.3ms | Allocations: 43346)
  Rendered allergens/index.html.erb within layouts/application (Duration: 24.1ms | Allocations: 46018)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 27.0ms | Allocations: 50264)
Completed 200 OK in 29ms (Views: 22.4ms | ActiveRecord: 4.9ms | Allocations: 52424)


Started GET "/products/new" for ::1 at 2022-12-26 00:10:35 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 19)
  Rendered products/_form.html.erb (Duration: 2.3ms | Allocations: 1265)
  Rendered products/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1416)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 5397)
Completed 200 OK in 22ms (Views: 10.4ms | ActiveRecord: 2.4ms | Allocations: 8965)


Started POST "/products" for ::1 at 2022-12-26 00:10:48 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water,formaldehyde"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 348)
  Rendered products/_form.html.erb (Duration: 2.4ms | Allocations: 1167)
  Rendered products/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1635)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 5410)
Completed 422 Unprocessable Entity in 14ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 6709)


Started POST "/products" for ::1 at 2022-12-26 00:10:54 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water,formaldehyde\n"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 281)
  Rendered products/_form.html.erb (Duration: 2.2ms | Allocations: 1152)
  Rendered products/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1553)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 5380)
Completed 422 Unprocessable Entity in 10ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 6401)


Started POST "/products" for ::1 at 2022-12-26 00:11:08 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nformaldehyde\n"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 277)
  Rendered products/_form.html.erb (Duration: 2.4ms | Allocations: 1152)
  Rendered products/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1549)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 5367)
Completed 422 Unprocessable Entity in 14ms (Views: 11.1ms | ActiveRecord: 0.0ms | Allocations: 6432)


Started POST "/products" for ::1 at 2022-12-26 00:11:11 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nformaldehyde\n"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 277)
  Rendered products/_form.html.erb (Duration: 2.8ms | Allocations: 1152)
  Rendered products/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1549)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 5333)
Completed 422 Unprocessable Entity in 15ms (Views: 11.6ms | ActiveRecord: 0.0ms | Allocations: 6378)


Started GET "/" for ::1 at 2022-12-26 00:12:50 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 17.9ms | Allocations: 43764)
  Rendered allergens/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 46675)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 27.3ms | Allocations: 50925)
Completed 200 OK in 29ms (Views: 23.6ms | ActiveRecord: 4.2ms | Allocations: 53195)


Started GET "/products/new" for ::1 at 2022-12-26 00:13:06 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 211)
  Rendered products/_form.html.erb (Duration: 1.4ms | Allocations: 1281)
  Rendered products/new.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1837)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 5819)
Completed 200 OK in 17ms (Views: 6.6ms | ActiveRecord: 2.4ms | Allocations: 9492)


Started POST "/products" for ::1 at 2022-12-26 00:13:15 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water\nBenzoic acid, 3,4,5-trihydroxy-, dodecyl ester\nCCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 33]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.5ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 33]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "water\nBenzoic acid, 3,4,5-trihydroxy-, dodecyl ester\nCCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"], ["created_at", "2022-12-26 05:13:15.173643"], ["updated_at", "2022-12-26 05:13:15.173643"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "BENZOIC ACID"], ["created_at", "2022-12-26 05:13:15.221097"], ["updated_at", "2022-12-26 05:13:15.221097"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "3,4,5-TRIHYDROXY-"], ["created_at", "2022-12-26 05:13:15.225430"], ["updated_at", "2022-12-26 05:13:15.225430"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , Gallic acid, dodecyl ester "], ["reactive_ingredient", "DODECYL ESTER"], ["created_at", "2022-12-26 05:13:15.229345"], ["updated_at", "2022-12-26 05:13:15.229345"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "CCRIS 5568 "], ["reactive_ingredient", "CCRIS 5568"], ["created_at", "2022-12-26 05:13:15.232742"], ["updated_at", "2022-12-26 05:13:15.232742"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Dodecyl 3,4,5-trihydroxybenzoate "], ["reactive_ingredient", "DODECYL 3,4,5-TRIHYDROXYBENZOATE"], ["created_at", "2022-12-26 05:13:15.236075"], ["updated_at", "2022-12-26 05:13:15.236075"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/34
Completed 302 Found in 68ms (ActiveRecord: 10.1ms | Allocations: 37772)


Started GET "/products/34" for ::1 at 2022-12-26 00:13:15 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"34"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 34) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.7ms | Allocations: 514)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 216)
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.3ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 362)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CCRIS 5568' OR reactive_substances ILIKE 'CCRIS 5568') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'CCRIS 5568' OR reactive_substances ILIKE 'CCRIS 5568')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 216)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate' OR reactive_substances ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate' OR reactive_substances ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 216)
  Rendered products/show.html.erb within layouts/application (Duration: 12.3ms | Allocations: 12651)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 14.8ms | Allocations: 16789)
Completed 200 OK in 17ms (Views: 12.3ms | ActiveRecord: 3.1ms | Allocations: 18171)


Started GET "/products/34/edit" for ::1 at 2022-12-26 00:13:25 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"34"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.6ms | Allocations: 1149)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1210)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4985)
Completed 200 OK in 13ms (Views: 10.3ms | ActiveRecord: 0.3ms | Allocations: 5748)


Started PATCH "/products/34" for ::1 at 2022-12-26 00:13:50 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester, CCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"}, "commit"=>"Submit", "id"=>"34"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "water, Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester, CCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"], ["updated_at", "2022-12-26 05:13:50.318325"], ["id", 34]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 114]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 115]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 116]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 117]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 118]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.7ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "BENZOIC ACID"], ["created_at", "2022-12-26 05:13:50.340227"], ["updated_at", "2022-12-26 05:13:50.340227"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "3,4,5-TRIHYDROXY-"], ["created_at", "2022-12-26 05:13:50.343665"], ["updated_at", "2022-12-26 05:13:50.343665"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , Gallic acid, dodecyl ester "], ["reactive_ingredient", "DODECYL ESTER"], ["created_at", "2022-12-26 05:13:50.346036"], ["updated_at", "2022-12-26 05:13:50.346036"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "CCRIS 5568 "], ["reactive_ingredient", "CCRIS 5568"], ["created_at", "2022-12-26 05:13:50.348028"], ["updated_at", "2022-12-26 05:13:50.348028"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Dodecyl 3,4,5-trihydroxybenzoate "], ["reactive_ingredient", "DODECYL 3,4,5-TRIHYDROXYBENZOATE"], ["created_at", "2022-12-26 05:13:50.349866"], ["updated_at", "2022-12-26 05:13:50.349866"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/34
Completed 302 Found in 49ms (ActiveRecord: 13.3ms | Allocations: 43704)


Started GET "/products/34" for ::1 at 2022-12-26 00:13:50 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"34"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 34) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.6ms | Allocations: 634)
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 216)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 363)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CCRIS 5568' OR reactive_substances ILIKE 'CCRIS 5568') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'CCRIS 5568' OR reactive_substances ILIKE 'CCRIS 5568')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 216)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate' OR reactive_substances ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate' OR reactive_substances ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 216)
  Rendered products/show.html.erb within layouts/application (Duration: 10.8ms | Allocations: 12998)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 34)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 17298)
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 3.5ms | Allocations: 18379)


Started GET "/products/34/edit" for ::1 at 2022-12-26 00:14:56 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"34"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1.3ms | Allocations: 1680)
  Rendered products/edit.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1942)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 5912)
Completed 200 OK in 18ms (Views: 4.1ms | ActiveRecord: 10.0ms | Allocations: 11098)


Started PATCH "/products/34" for ::1 at 2022-12-26 00:15:02 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester,\n CCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"}, "commit"=>"Submit", "id"=>"34"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "water, Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester,\n CCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"], ["updated_at", "2022-12-26 05:15:02.943427"], ["id", 34]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.8ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 119]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.7ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 120]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 121]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 122]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 123]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (1.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.7ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "BENZOIC ACID"], ["created_at", "2022-12-26 05:15:03.008956"], ["updated_at", "2022-12-26 05:15:03.008956"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "3,4,5-TRIHYDROXY-"], ["created_at", "2022-12-26 05:15:03.022563"], ["updated_at", "2022-12-26 05:15:03.022563"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "CCRIS 5568 "], ["reactive_ingredient", "CCRIS 5568"], ["created_at", "2022-12-26 05:15:03.046843"], ["updated_at", "2022-12-26 05:15:03.046843"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 34], ["reactive_substances", "Dodecyl 3,4,5-trihydroxybenzoate "], ["reactive_ingredient", "DODECYL 3,4,5-TRIHYDROXYBENZOATE"], ["created_at", "2022-12-26 05:15:03.049502"], ["updated_at", "2022-12-26 05:15:03.049502"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/34
Completed 302 Found in 113ms (ActiveRecord: 18.5ms | Allocations: 35859)


Started GET "/products/34" for ::1 at 2022-12-26 00:15:03 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"34"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 34], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 34) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 288)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 216)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester,' OR reactive_substances ILIKE 'dodecyl ester,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'CCRIS 5568' OR reactive_substances ILIKE 'CCRIS 5568') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'CCRIS 5568' OR reactive_substances ILIKE 'CCRIS 5568')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 216)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate' OR reactive_substances ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate' OR reactive_substances ILIKE 'Dodecyl 3,4,5-trihydroxybenzoate')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 216)
  Rendered products/show.html.erb within layouts/application (Duration: 8.2ms | Allocations: 10742)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 10.5ms | Allocations: 14909)
Completed 200 OK in 12ms (Views: 8.7ms | ActiveRecord: 2.2ms | Allocations: 15736)


Started GET "/products/34/edit" for ::1 at 2022-12-26 00:15:34 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"34"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 0.8ms | Allocations: 1365)
  Rendered products/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1439)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 5408)
Completed 200 OK in 13ms (Views: 4.4ms | ActiveRecord: 5.2ms | Allocations: 10366)


Started PATCH "/products/34" for ::1 at 2022-12-26 00:15:41 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester,\nCCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"}, "commit"=>"Submit", "id"=>"34"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.6ms | Allocations: 1229)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1292)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 5067)
Completed 422 Unprocessable Entity in 18ms (Views: 11.4ms | ActiveRecord: 0.2ms | Allocations: 7188)


Started PATCH "/products/34" for ::1 at 2022-12-26 00:15:43 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester,\nCCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"}, "commit"=>"Submit", "id"=>"34"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.0ms | Allocations: 1213)
  Rendered products/edit.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1276)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 5051)
Completed 422 Unprocessable Entity in 19ms (Views: 13.7ms | ActiveRecord: 0.3ms | Allocations: 6864)


Started PATCH "/products/34" for ::1 at 2022-12-26 00:15:49 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester,\nCCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"}, "commit"=>"Submit", "id"=>"34"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.1ms | Allocations: 1213)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1276)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 5051)
Completed 422 Unprocessable Entity in 18ms (Views: 11.5ms | ActiveRecord: 0.5ms | Allocations: 6885)


Started PATCH "/products/34" for ::1 at 2022-12-26 00:15:58 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester,\nCCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"}, "commit"=>"Submit", "id"=>"34"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.4ms | Allocations: 1213)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1276)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 5056)
Completed 422 Unprocessable Entity in 15ms (Views: 10.2ms | ActiveRecord: 0.3ms | Allocations: 6900)


Started PATCH "/products/34" for ::1 at 2022-12-26 00:16:06 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester,\nCCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"}, "commit"=>"Submit", "id"=>"34"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 1213)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1276)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 5051)
Completed 422 Unprocessable Entity in 14ms (Views: 9.5ms | ActiveRecord: 0.2ms | Allocations: 6896)


Started PATCH "/products/34" for ::1 at 2022-12-26 00:16:21 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester\n\nCCRIS 5568\nDodecyl 3,4,5-trihydroxybenzoate"}, "commit"=>"Submit", "id"=>"34"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 1213)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1276)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 5061)
Completed 422 Unprocessable Entity in 24ms (Views: 18.9ms | ActiveRecord: 0.3ms | Allocations: 6905)


Started GET "/allergens" for ::1 at 2022-12-26 00:16:26 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 29.4ms | Allocations: 43346)
  Rendered allergens/index.html.erb within layouts/application (Duration: 36.1ms | Allocations: 45930)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 38.9ms | Allocations: 50238)
Completed 200 OK in 43ms (Views: 37.4ms | ActiveRecord: 2.5ms | Allocations: 52161)


Started GET "/products/new" for ::1 at 2022-12-26 00:16:27 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered products/_form.html.erb (Duration: 3.5ms | Allocations: 1058)
  Rendered products/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1193)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 4976)
Completed 200 OK in 12ms (Views: 11.0ms | ActiveRecord: 0.0ms | Allocations: 5284)


Started GET "/allergens" for ::1 at 2022-12-26 00:16:38 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (1.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 41.5ms | Allocations: 43247)
  Rendered allergens/index.html.erb within layouts/application (Duration: 46.0ms | Allocations: 44172)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 50.2ms | Allocations: 48213)
Completed 200 OK in 51ms (Views: 48.9ms | ActiveRecord: 1.8ms | Allocations: 48485)


Started GET "/products/new" for ::1 at 2022-12-26 00:17:00 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 198)
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 1046)
  Rendered products/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1549)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5332)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms | Allocations: 5684)


Started POST "/products" for ::1 at 2022-12-26 00:17:12 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.2ms | Allocations: 299)
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1159)
  Rendered products/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1578)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 5354)
Completed 422 Unprocessable Entity in 16ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 6486)


Started POST "/products" for ::1 at 2022-12-26 00:17:30 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Benzoic acid\n3,4,5-trihydroxy-\ndodecyl ester"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 277)
  Rendered products/_form.html.erb (Duration: 2.2ms | Allocations: 1151)
  Rendered products/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1548)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 5323)
Completed 422 Unprocessable Entity in 15ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 6366)


Started POST "/products" for ::1 at 2022-12-26 00:17:31 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Benzoic acid\n3,4,5-trihydroxy-\ndodecyl ester"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 277)
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 1151)
  Rendered products/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1548)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 5323)
Completed 422 Unprocessable Entity in 15ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 6371)


Started GET "/products/new" for ::1 at 2022-12-26 00:17:48 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered products/_form.html.erb (Duration: 0.9ms | Allocations: 1284)
  Rendered products/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1435)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 2.9ms | Allocations: 5468)
Completed 200 OK in 11ms (Views: 3.3ms | ActiveRecord: 5.0ms | Allocations: 9379)


Started POST "/products" for ::1 at 2022-12-26 00:17:54 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 34]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 124]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 125]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 126]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 127]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 34]]
  â†³ app/models/product.rb:66:in `block in <class:Product>'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester"], ["created_at", "2022-12-26 05:17:54.500068"], ["updated_at", "2022-12-26 05:17:54.500068"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "BENZOIC ACID"], ["created_at", "2022-12-26 05:17:54.540746"], ["updated_at", "2022-12-26 05:17:54.540746"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "3,4,5-TRIHYDROXY-"], ["created_at", "2022-12-26 05:17:54.546738"], ["updated_at", "2022-12-26 05:17:54.546738"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , Gallic acid, dodecyl ester "], ["reactive_ingredient", "DODECYL ESTER"], ["created_at", "2022-12-26 05:17:54.559158"], ["updated_at", "2022-12-26 05:17:54.559158"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/35
Completed 302 Found in 65ms (ActiveRecord: 11.1ms | Allocations: 29844)


Started GET "/products/35" for ::1 at 2022-12-26 00:17:54 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"35"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 35) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 289)
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 216)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 362)
  Rendered products/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 7725)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 11883)
Completed 200 OK in 16ms (Views: 12.0ms | ActiveRecord: 2.1ms | Allocations: 13267)


Started GET "/products/35/edit" for ::1 at 2022-12-26 00:18:02 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"35"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.0ms | Allocations: 1146)
  Rendered products/edit.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1207)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5033)
Completed 200 OK in 15ms (Views: 11.8ms | ActiveRecord: 0.3ms | Allocations: 5797)


Started PATCH "/products/35" for ::1 at 2022-12-26 00:18:09 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Benzoic acid, 3,4,5-trihydroxy-, \ndodecyl ester"}, "commit"=>"Submit", "id"=>"35"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "Benzoic acid, 3,4,5-trihydroxy-, \ndodecyl ester"], ["updated_at", "2022-12-26 05:18:09.559023"], ["id", 35]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 128]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 129]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 130]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "BENZOIC ACID"], ["created_at", "2022-12-26 05:18:09.574207"], ["updated_at", "2022-12-26 05:18:09.574207"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "3,4,5-TRIHYDROXY-"], ["created_at", "2022-12-26 05:18:09.582250"], ["updated_at", "2022-12-26 05:18:09.582250"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "4-10-00-02006 (Beilstein Handbook Reference) , BRN 2701981 , Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , CCRIS 5568 , Dodecyl 3,4,5-trihydroxybenzoate , Dodecyl gallate , Dodecylester kyseliny gallove , Dodecylester kyseliny gallove [Czech] , EINECS 214-620-6 , Gallic acid, dodecyl ester , Gallic acid, lauryl ester , Lauryl 3,4,5-trihydroxybenzoate , Lauryl gallate , NSC 133463 , Nipagallin LA , Progallin LA"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.590238"], ["updated_at", "2022-12-26 05:18:09.590238"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 35], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin , Santolite MS , Santolite MHP"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.593531"], ["updated_at", "2022-12-26 05:18:09.593531"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 3], ["product_id", 35], ["reactive_substances", "1,3,5-Tris(2-hydroxyethyl)hexahydro- 1,3,5-triazine , 1,3,5-Tris(2-hydroxyethyl)hexahydro-striazine , 4-26-00-00010 (Beilstein Handbook Reference) , Actane , BRN 0124982 , Busan 1060 , CCRIS 6246 , Caswell No. 481C , EINECS 225-208-0 , EPA Pesticide Chemical Code 083301 , ETA 75 , Grotan , Grotan B , Grotan BK , Grotan HD , Hexahydro-1,3,5-triazine-1,3,5-triethanol , Hexahydro-1,3,5-tris(2-hydroxyethyl)-striazine , Hexahydro-1,3,5-tris(hydroxyethyl)triazine , KM 200 (alcohol) , Kalpur TE , NSC 516387 , Onyxide 200 , Ottaform 204 , Rancidity control agent , Roksol T 1-7"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.596060"], ["updated_at", "2022-12-26 05:18:09.596060"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 35], ["reactive_substances", "Formaldehyde, urea polymer , Gabrite , HSDB 7203 , Hygromull , KM 2 (Polymer) , Karbamol , Karbamol B/M , Kauresin K244 , Kaurit 285 FL , Kaurit 420 , PR 703-78 , Pianizol , Piatherm , Piatherm D , Plastopal BT , Plyamine HD 1129A , Plyamine P 364BL , Poly(methi(bis(hydroxymethyl))ureylene) amer , Polynoxylin , Ponoxylan , Resamin 155F , Resamin HW 505 , Resina X , S-Resin AER 20 , Uformite 700 , Uformite F 240N , Uloid 100 , Uloid 22 , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.598954"], ["updated_at", "2022-12-26 05:18:09.598954"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (1.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 35], ["reactive_substances", "Formaldehyde , Formalin , Formic aldehyde , Methaldehyde , Methyl aldehyde , Methylene oxide , Methanal , Oxymethylene, Quaternium-15, Diazolidinyl urea (GermallÂ® II),  dimethyl-dimethyl DMDM hydantoin (Glydant), Imidazolidinyl urea (GermallÂ®), 2-bromo-2-nitropropane-1,3-diol (Bronopol), Tris nitromethane (Tris Nitro)(industrial biocide) , sodium hydroxymethylglycinate , 2-bromo-2-nitropropane-1,3-diol (bromopol)"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.601956"], ["updated_at", "2022-12-26 05:18:09.601956"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 35], ["reactive_substances", "1,3,5,7-Tetraazaadamantane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 3,7))decane , 1,3,5,7-Tetraazatricyclo(3.3.1.1(sup 37))decane , AI3-09611 , Aceto HMT , Aminoform , Aminoformaldehyde , Ammoform , Ammonioformaldehyde , Antihydral , CCRIS 2297 , Caswell No. 482 , Cystamin , Cystogen , Duirexol , EINECS 202-905-8 , EPA Pesticide Chemical Code 45501 , Ekagom H , Esametilentetramina , Esametilentetramina [Italian] , Formamine , Formin , Formin (heterocycle) , HMT , HSDB 563 , Herax UTS , Heterin , Hexa (vulcanization accelerator) , Hexa-Flo-Pulver , Hexaform , Hexaloids , Hexamethylenamine , Hexamethyleneamine , Hexamethylenetetraamine , Hexamethylenetetramine , Hexamethylenetetraminum , Hexamethylentetramin , Hexamethylentetramin [German] , Hexamethylentetramine , Hexamethylentetraminum , Hexamine , Hexamine (heterocycle) , Hexaminum , Hexasan , Hexasan (VAN) , Hexilmethylenamine , Metenamina , Metenamina [INN-Spanish] , Methenamin , Methenamine , Methenaminum , Methenaminum [INN-Latin] , Metramine , NSC 26346 , NSC 403347 , Nocceler H , Preparation AF , Resotropin , S 4 (heterocycle) , Sanceler H , Uramin , Uratrine , Uritone , Urodeine , Urotropin , Urotropine , Vulkacit H 30 , Xametrin"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.605720"], ["updated_at", "2022-12-26 05:18:09.605720"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 7], ["product_id", 35], ["reactive_substances", "1,3-Propanediamine, N,N-dimethyl- , 1-(Dimethylamino)-3-aminopropane , 1-Amino-3-dimethylaminopropane , 3-(Dimethylamino)-1-propanamine , 3-(Dimethylamino)-1-propylamine , 3-(Dimethylamino)propylamine , 3-Amino-1-(dimethylamino)propane , 4-04-00-01259 (Beilstein Handbook Reference) , AI3-25441 , BRN 0605293 , CCRIS 4799 , EINECS 203-680-9 , HSDB 5391 , N,N-Dimethyl-1,3-diaminopropane , N,N-Dimethyl-1,3-propanediamine , N,N-Dimethyl-1,3-propylenediamine , N,N-Dimethyl-N-(3-aminopropyl)amine , N,N-Dimethylpropylenediamine , N,N-Dimethyltrimethylenediamine , N-Dimethyltrimethylenediamine , NSC 1067 , Propylamine, 3-(N,N-dimethylamino)- , gamma-(Dimethylamino)propylamin"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.608221"], ["updated_at", "2022-12-26 05:18:09.608221"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 8], ["product_id", 35], ["reactive_substances", "4,4'-Diaminodiphenylmethan , 4,4'-Diaminodiphenylmethan [German] , 4,4'-Diaminodiphenylmethane , 4,4'-Dimethylenediamine , 4,4'-Diphenylmethanediamine , 4,4'-Methylenebis(benzeneamine) , 4,4'-Methylenebisaniline , 4,4'-Methylenedianiline , 4-(4-Aminobenzyl)aniline , 4-13-00-00390 (Beilstein Handbook Reference) , AI3-02615 , Ancamine TL , Aniline, 4,4'-methylenedi- , Araldite hardener 972 , Avaldite HT 972 , BRN 0474706 , Benzenamine, 4,4'-methylenebis- , Bis(4-aminophenyl)methane , Bis(p-aminophenyl)methane , Bis-p-aminofenylmethan , Bis-p-aminofenylmethan [Czech] , CCRIS 1010 , Curithane , Dadpm , Di-(4-aminophenyl)methane , Diaminodiphenylmethane , Dianilinemethane , Dianilinomethane , EINECS 202-974-4 , Epicure DDM , Epikure DDM , HSDB 2541 , HT 972 , Jeffamine AP-20 , MDA , Methylenebis(aniline) , Methylenedianiline , Methylenedianiline (VAN) , NCI-C54604 , NSC 4709 , Sumicure M , Tonox , p,p'-Diaminodifenylmethan , p,p'-Diaminodifenylmethan [Czech] , p,p'-Diaminodiphenylmethane , p,p'-Methylenedianiline , p-Toluidine, alpha-(p-aminophenyl)-"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.610517"], ["updated_at", "2022-12-26 05:18:09.610517"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 35], ["reactive_substances", "2H-1-Benzopyran-2-one , Coumarin [NF X] , Tonka bean camphor , 1,2-Benzopyrone , 2-Oxo-1,2-benzopyran , 2-Propenoic acid, 3-(2-hydroxyphenyl)-, delta-lactone , 2-Propenoic acid, 3-(2-hydroxyphenyl)-delta-lactone , 2H-1-Benzopyran, 2-oxo- , 2H-1-Benzopyran-2-one , 2H-Benzo(b)pyran-2-one , 3-(2-Hydroxyphenyl)-2-propenoic delta-lactone , 5,6-Benzo-alpha-pyrone , 5-17-10-00143 (Beilstein Handbook Reference) , AI3-00753 , Alpha-hexylcinnamic aldehyde , BRN 0383644 , Benzo-alpha-pyrone , CCRIS 181 , Caswell No. 259C , Cinnamic acid, o-hydroxy-, delta-lactone , Citral , Coumarin , Coumarinic anhydride , Coumarinic lactone , Cumarin , EINECS 202-086-7 , EPA Pesticide Chemical Code 127301 , Farnesol , Lyral , Rattex , Tonka bean camphor , cis-o-Coumaric acid anhydride , cis-o-Coumarinic acid lactone , o-Coumaric acid lactone , o-Hydroxycinnamic acid lactone , o-Hydroxycinnamic lactone , 4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , BRN 2046455 , EINECS 250-863-4 , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 4-(4-Hydroxy-4-methylpentyl)cyclohex-3-enecarbaldehyde , 3-Cyclohexene-1-carboxaldehyde, 4-(4-hydroxy-4-methylpentyl)- , 2,6-Dimethyl-2-octen-8-ol , 3,7-Dimethyl-6-octen-1-ol , 4-01-00-02188 (Beilstein Handbook Reference) , AI3-25080 , BRN 1721507 , CCRIS 7452 , Cephrol , Citronellol (ex. Java citronella oil) (natural) , Citronellol (natural) , EINECS 203-375-0 , Elenol , FEMA No. 2309 , NSC 8779 , Rhodinol , Rodinol , 2,6,10-Dodecatrien-1-ol, 3,7,11-trimethyl- , 3,7,11-Trimethyl-2,6,10-dodecatrienol , 3,7,11-Trimethyl-2,6,10-dodecatrien-1-ol , Trimethyl dodecatrienol"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.613097"], ["updated_at", "2022-12-26 05:18:09.613097"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 10], ["product_id", 35], ["reactive_substances", "EINECS 211-984-8 , Orange 3"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.616016"], ["updated_at", "2022-12-26 05:18:09.616016"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 11], ["product_id", 35], ["reactive_substances", "1,4-Benzenediamine, 2-methyl- , 2,5-Diaminotoluene , 2-Methyl-1,4-benzenediamine , 2-Methyl-p-phenylenediamine , 2-Methyl-para-phenylenediamine , 4-13-00-00246 (Beilstein Handbook Reference) , 4-Amino-2-methylaniline , BRN 0774521 , C.I. 76042 , CCRIS 7693 , CI 76042 , EINECS 202-442-1 , HSDB 6251 , Toluene-2,5-diamine , Toluylene-2,5-diamine , p,m-Tolylenediamine , p-Toluenediamine , p-Toluylendiamine , para-Toluenediamine , para-Toluylenediamine , para-Tolylenediamine"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.618834"], ["updated_at", "2022-12-26 05:18:09.618834"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 12], ["product_id", 35], ["reactive_substances", "benzoisothiazolinone , isothiazolinone , chloromethylisothiazolinone , methylisothiazolinone , benzisothiazolinone , octylisothiazolinone"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.621008"], ["updated_at", "2022-12-26 05:18:09.621008"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 13], ["product_id", 35], ["reactive_substances", "4-(4-Hydroxy-4-methylpentyl)-3-cyclohexene-1-carboxaldehyde , BRN 2046455 , EINECS 250-863-4 , Lyral"], ["reactive_ingredient", ""], ["created_at", "2022-12-26 05:18:09.622797"], ["updated_at", "2022-12-26 05:18:09.622797"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , Gallic acid, dodecyl ester "], ["reactive_ingredient", "DODECYL ESTER"], ["created_at", "2022-12-26 05:18:09.625936"], ["updated_at", "2022-12-26 05:18:09.625936"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/35
Completed 302 Found in 73ms (ActiveRecord: 11.2ms | Allocations: 41360)


Started GET "/products/35" for ::1 at 2022-12-26 00:18:09 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"35"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 35) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 217)
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 216)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '' OR reactive_substances ILIKE '') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '' OR reactive_substances ILIKE '')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)[0m  [["id", 1], ["id", 2], ["id", 3], ["id", 4], ["id", 5], ["id", 6], ["id", 7], ["id", 8], ["id", 9], ["id", 10], ["id", 11], ["id", 12], ["id", 13]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [13 times] (Duration: 30.2ms | Allocations: 41735)
  [1m[36mReaction Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 362)
  Rendered products/show.html.erb within layouts/application (Duration: 43.1ms | Allocations: 51379)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 46.5ms | Allocations: 55390)
Completed 200 OK in 48ms (Views: 44.0ms | ActiveRecord: 2.9ms | Allocations: 56158)


Started GET "/products/35/edit" for ::1 at 2022-12-26 00:18:31 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"35"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 0.8ms | Allocations: 1368)
  Rendered products/edit.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1442)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 3.6ms | Allocations: 5412)
Completed 200 OK in 12ms (Views: 4.4ms | ActiveRecord: 4.2ms | Allocations: 10373)


Started PATCH "/products/35" for ::1 at 2022-12-26 00:18:39 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Benzoic acid, 3,4,5-trihydroxy-\ndodecyl ester"}, "commit"=>"Submit", "id"=>"35"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "Benzoic acid, 3,4,5-trihydroxy-\ndodecyl ester"], ["updated_at", "2022-12-26 05:18:39.280503"], ["id", 35]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 131]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.7ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 132]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 133]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 134]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 135]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 136]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 137]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 138]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 139]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 140]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 141]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 142]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 143]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 144]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 145]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 146]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "BENZOIC ACID"], ["created_at", "2022-12-26 05:18:39.332806"], ["updated_at", "2022-12-26 05:18:39.332806"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "3,4,5-TRIHYDROXY-"], ["created_at", "2022-12-26 05:18:39.338961"], ["updated_at", "2022-12-26 05:18:39.338961"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , Gallic acid, dodecyl ester "], ["reactive_ingredient", "DODECYL ESTER"], ["created_at", "2022-12-26 05:18:39.343479"], ["updated_at", "2022-12-26 05:18:39.343479"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/35
Completed 302 Found in 71ms (ActiveRecord: 15.4ms | Allocations: 32697)


Started GET "/products/35" for ::1 at 2022-12-26 00:18:39 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"35"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 35) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 289)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-' OR reactive_substances ILIKE '3,4,5-trihydroxy-')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 216)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 362)
  Rendered products/show.html.erb within layouts/application (Duration: 8.9ms | Allocations: 7738)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 11878)
Completed 200 OK in 14ms (Views: 10.6ms | ActiveRecord: 1.9ms | Allocations: 12705)


Started GET "/products/35/edit" for ::1 at 2022-12-26 00:18:53 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"35"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.5ms | Allocations: 1134)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1194)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 4969)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.3ms | Allocations: 5738)


Started PATCH "/products/35" for ::1 at 2022-12-26 00:19:26 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"Benzoic acid, 3,4,5-trihydroxy-,\ndodecyl ester"}, "commit"=>"Submit", "id"=>"35"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "Benzoic acid, 3,4,5-trihydroxy-,\ndodecyl ester"], ["updated_at", "2022-12-26 05:19:26.366602"], ["id", 35]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 147]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 148]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 149]]
  â†³ app/models/product.rb:72:in `block in <class:Product>'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "BENZOIC ACID"], ["created_at", "2022-12-26 05:19:26.381395"], ["updated_at", "2022-12-26 05:19:26.381395"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester "], ["reactive_ingredient", "3,4,5-TRIHYDROXY-,"], ["created_at", "2022-12-26 05:19:26.384681"], ["updated_at", "2022-12-26 05:19:26.384681"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:50:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 1], ["product_id", 35], ["reactive_substances", "Benzoic acid, 3,4,5-trihydroxy-, dodecyl ester , Gallic acid, dodecyl ester "], ["reactive_ingredient", "DODECYL ESTER"], ["created_at", "2022-12-26 05:19:26.387590"], ["updated_at", "2022-12-26 05:19:26.387590"]]
  â†³ app/models/product.rb:55:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/35
Completed 302 Found in 31ms (ActiveRecord: 13.5ms | Allocations: 29394)


Started GET "/products/35" for ::1 at 2022-12-26 00:19:26 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"35"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 35], ["LIMIT", 1]]
  â†³ app/models/product.rb:37:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 35) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'Benzoic acid' OR reactive_substances ILIKE 'Benzoic acid')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 290)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-,' OR reactive_substances ILIKE '3,4,5-trihydroxy-,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '3,4,5-trihydroxy-,' OR reactive_substances ILIKE '3,4,5-trihydroxy-,')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 216)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'dodecyl ester' OR reactive_substances ILIKE 'dodecyl ester')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 362)
  Rendered products/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 7960)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 34)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 12268)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 1.9ms | Allocations: 13349)


Started GET "/" for ::1 at 2022-12-27 12:00:06 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 50.3ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 61.5ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 1.0ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 90.0ms | Allocations: 76893)
Completed 200 OK in 97ms (Views: 85.3ms | ActiveRecord: 6.1ms | Allocations: 82188)


Started GET "/products/new" for ::1 at 2022-12-27 12:00:09 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 8.1ms | Allocations: 3367)
  Rendered products/new.html.erb within layouts/application (Duration: 12.4ms | Allocations: 4231)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 61.2ms | Allocations: 30843)
Completed 200 OK in 78ms (Views: 62.8ms | ActiveRecord: 6.7ms | Allocations: 39882)


Started POST "/products" for ::1 at 2022-12-27 12:00:34 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, formaldehyde,\ntest\ncase"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 35]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (1.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 150]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 151]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 152]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 35]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "water, formaldehyde,\ntest\ncase"], ["created_at", "2022-12-27 17:00:34.725508"], ["updated_at", "2022-12-27 17:00:34.725508"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 36], ["reactive_substances", "Formaldehyde, urea polymer "], ["reactive_ingredient", "FORMALDEHYDE,"], ["created_at", "2022-12-27 17:00:34.754492"], ["updated_at", "2022-12-27 17:00:34.754492"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/36
Completed 302 Found in 44ms (ActiveRecord: 11.5ms | Allocations: 35201)


Started GET "/products/36" for ::1 at 2022-12-27 12:00:34 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"36"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 36], ["LIMIT", 1]]
  â†³ app/models/product.rb:41:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 36) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde,' OR reactive_substances ILIKE 'formaldehyde,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde,' OR reactive_substances ILIKE 'formaldehyde,')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.6ms | Allocations: 539)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test' OR reactive_substances ILIKE 'test') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'case' OR reactive_substances ILIKE 'case') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 6433)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 10710)
Completed 200 OK in 10ms (Views: 7.3ms | ActiveRecord: 1.4ms | Allocations: 12530)


Started GET "/products/36/edit" for ::1 at 2022-12-27 12:00:52 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"36"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 7.5ms | Allocations: 3107)
  Rendered products/edit.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3324)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 13.4ms | Allocations: 7226)
Completed 200 OK in 17ms (Views: 13.9ms | ActiveRecord: 0.3ms | Allocations: 8121)


Started PATCH "/products/36" for ::1 at 2022-12-27 12:00:57 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water, formaldehyde\ntest\ncase"}, "commit"=>"Submit", "id"=>"36"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "water, formaldehyde\ntest\ncase"], ["updated_at", "2022-12-27 17:00:57.195841"], ["id", 36]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 153]]
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 36], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:00:57.210259"], ["updated_at", "2022-12-27 17:00:57.210259"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 36], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:00:57.216049"], ["updated_at", "2022-12-27 17:00:57.216049"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 36], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:00:57.221267"], ["updated_at", "2022-12-27 17:00:57.221267"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 36], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:00:57.224509"], ["updated_at", "2022-12-27 17:00:57.224509"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/36
Completed 302 Found in 41ms (ActiveRecord: 5.6ms | Allocations: 21008)


Started GET "/products/36" for ::1 at 2022-12-27 12:00:57 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"36"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 36], ["LIMIT", 1]]
  â†³ app/models/product.rb:41:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 36) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.8ms | Allocations: 2236)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test' OR reactive_substances ILIKE 'test') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'case' OR reactive_substances ILIKE 'case') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 8.5ms | Allocations: 7254)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 11255)
Completed 200 OK in 14ms (Views: 10.9ms | ActiveRecord: 1.8ms | Allocations: 12049)


Started GET "/products/36/edit" for ::1 at 2022-12-27 12:01:05 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"36"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1129)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1189)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 4965)
Completed 200 OK in 22ms (Views: 18.3ms | ActiveRecord: 0.3ms | Allocations: 5745)


Started GET "/allergens" for ::1 at 2022-12-27 12:01:14 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 45.4ms | Allocations: 43246)
  Rendered allergens/index.html.erb within layouts/application (Duration: 49.6ms | Allocations: 44171)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 53.3ms | Allocations: 48151)
Completed 200 OK in 55ms (Views: 53.6ms | ActiveRecord: 0.4ms | Allocations: 48423)


Started GET "/products/new" for ::1 at 2022-12-27 12:01:17 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 207)
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 989)
  Rendered products/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 1507)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 5290)
Completed 200 OK in 14ms (Views: 12.2ms | ActiveRecord: 0.0ms | Allocations: 5641)


Started POST "/products" for ::1 at 2022-12-27 12:01:28 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"formaldehyde"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.2ms | Allocations: 347)
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 1166)
  Rendered products/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1633)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 5408)
Completed 422 Unprocessable Entity in 16ms (Views: 11.8ms | ActiveRecord: 0.0ms | Allocations: 6507)


Started POST "/products" for ::1 at 2022-12-27 12:01:35 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"formaldehyde\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 36]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 154]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 155]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 156]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 157]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 36]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", ""], ["ingredients", "formaldehyde\n"], ["created_at", "2022-12-27 17:01:35.263167"], ["updated_at", "2022-12-27 17:01:35.263167"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 37], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:01:35.284995"], ["updated_at", "2022-12-27 17:01:35.284995"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 37], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:01:35.290497"], ["updated_at", "2022-12-27 17:01:35.290497"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 37], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:01:35.294084"], ["updated_at", "2022-12-27 17:01:35.294084"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 37], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:01:35.297430"], ["updated_at", "2022-12-27 17:01:35.297430"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/37
Completed 302 Found in 40ms (ActiveRecord: 5.6ms | Allocations: 16726)


Started GET "/products/37" for ::1 at 2022-12-27 12:01:35 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"37"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 37], ["LIMIT", 1]]
  â†³ app/models/product.rb:41:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 37) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.8ms | Allocations: 2180)
  Rendered products/show.html.erb within layouts/application (Duration: 6.5ms | Allocations: 5387)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 9381)
Completed 200 OK in 12ms (Views: 9.5ms | ActiveRecord: 1.2ms | Allocations: 10147)


Started GET "/products/new" for ::1 at 2022-12-27 12:01:40 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 2.1ms | Allocations: 989)
  Rendered products/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1120)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 4903)
Completed 200 OK in 11ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 5175)


Started POST "/products" for ::1 at 2022-12-27 12:01:46 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"water   "}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 277)
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1152)
  Rendered products/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1549)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 5324)
Completed 422 Unprocessable Entity in 15ms (Views: 11.8ms | ActiveRecord: 0.0ms | Allocations: 6360)


Started GET "/" for ::1 at 2022-12-27 12:08:51 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 48.7ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 57.7ms | Allocations: 49173)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 81.8ms | Allocations: 76476)
Completed 200 OK in 87ms (Views: 77.7ms | ActiveRecord: 5.1ms | Allocations: 81772)


Started GET "/products/new" for ::1 at 2022-12-27 12:08:53 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 4.5ms | Allocations: 3108)
  Rendered products/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3730)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 7727)
Completed 200 OK in 19ms (Views: 10.0ms | ActiveRecord: 2.4ms | Allocations: 12443)


Started POST "/products" for ::1 at 2022-12-27 12:08:59 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 380)
  Rendered products/_form.html.erb (Duration: 3.8ms | Allocations: 1239)
  Rendered products/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1788)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 13.5ms | Allocations: 5671)
Completed 422 Unprocessable Entity in 20ms (Views: 14.2ms | ActiveRecord: 0.0ms | Allocations: 7297)


Started GET "/products/new" for ::1 at 2022-12-27 12:10:17 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 203)
  Rendered products/_form.html.erb (Duration: 4.1ms | Allocations: 1520)
  Rendered products/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2097)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 6534)
Completed 200 OK in 16ms (Views: 14.7ms | ActiveRecord: 0.0ms | Allocations: 7372)


Started POST "/products" for ::1 at 2022-12-27 12:10:20 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"name"=>"", "ingredients"=>"abc"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 286)
  Rendered products/_form.html.erb (Duration: 2.2ms | Allocations: 1154)
  Rendered products/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1603)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.6ms | Allocations: 5379)
Completed 422 Unprocessable Entity in 11ms (Views: 9.1ms | ActiveRecord: 0.0ms | Allocations: 6555)


Started GET "/products/new" for ::1 at 2022-12-27 12:12:19 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 4.6ms | Allocations: 3359)
  Rendered products/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4222)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 55.2ms | Allocations: 31692)
Completed 200 OK in 68ms (Views: 56.6ms | ActiveRecord: 4.3ms | Allocations: 40531)


Started POST "/products" for ::1 at 2022-12-27 12:12:33 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"water\nformaldehyde\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 37]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 158]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 159]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 160]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 161]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 37]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "water\nformaldehyde\n"], ["created_at", "2022-12-27 17:12:33.250486"], ["updated_at", "2022-12-27 17:12:33.250486"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mAllergen Load (0.7ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 38], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:12:33.302381"], ["updated_at", "2022-12-27 17:12:33.302381"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 38], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:12:33.305034"], ["updated_at", "2022-12-27 17:12:33.305034"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 38], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:12:33.306988"], ["updated_at", "2022-12-27 17:12:33.306988"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 38], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:12:33.309131"], ["updated_at", "2022-12-27 17:12:33.309131"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/38
Completed 302 Found in 65ms (ActiveRecord: 15.7ms | Allocations: 36398)


Started GET "/products/38" for ::1 at 2022-12-27 12:12:33 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"38"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 38], ["LIMIT", 1]]
  â†³ app/models/product.rb:41:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 38) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 2.4ms | Allocations: 2564)
  Rendered products/show.html.erb within layouts/application (Duration: 9.0ms | Allocations: 7204)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 12.2ms | Allocations: 11355)
Completed 200 OK in 15ms (Views: 11.3ms | ActiveRecord: 1.5ms | Allocations: 12865)


Started GET "/products/new" for ::1 at 2022-12-27 12:12:45 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 1070)
  Rendered products/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1201)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 4985)
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 5269)


Started GET "/products/new" for ::1 at 2022-12-27 12:17:03 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 4.0ms | Allocations: 3490)
  Rendered products/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 4353)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 53.4ms | Allocations: 31183)
Completed 200 OK in 67ms (Views: 54.7ms | ActiveRecord: 5.9ms | Allocations: 40022)


Started GET "/products/new" for ::1 at 2022-12-27 12:17:36 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 3.9ms | Allocations: 3497)
  Rendered products/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 4360)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 54.6ms | Allocations: 31678)
Completed 200 OK in 66ms (Views: 55.9ms | ActiveRecord: 4.0ms | Allocations: 40517)


Started GET "/products/new" for ::1 at 2022-12-27 12:17:41 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered products/_form.html.erb (Duration: 2.8ms | Allocations: 1226)
  Rendered products/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1365)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 5260)
Completed 200 OK in 14ms (Views: 12.6ms | ActiveRecord: 0.0ms | Allocations: 5608)


Started GET "/products/new" for ::1 at 2022-12-27 12:18:07 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 3.3ms | Allocations: 1662)
  Rendered products/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2237)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 6673)
Completed 200 OK in 15ms (Views: 13.2ms | ActiveRecord: 0.0ms | Allocations: 7479)


Started GET "/products/new" for ::1 at 2022-12-27 12:19:35 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 1661)
  Rendered products/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2236)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 6673)
Completed 200 OK in 12ms (Views: 10.3ms | ActiveRecord: 0.0ms | Allocations: 7551)


Started GET "/products/new" for ::1 at 2022-12-27 12:21:11 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 2.6ms | Allocations: 1646)
  Rendered products/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 2221)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 9.4ms | Allocations: 6657)
Completed 200 OK in 14ms (Views: 11.9ms | Allocations: 7482)


Started GET "/products/new" for ::1 at 2022-12-27 12:21:59 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 3.5ms | Allocations: 1670)
  Rendered products/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2246)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 12.1ms | Allocations: 6683)
Completed 200 OK in 15ms (Views: 13.7ms | ActiveRecord: 0.0ms | Allocations: 7521)


Started GET "/products/new" for ::1 at 2022-12-27 12:22:16 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 4.0ms | Allocations: 1652)
  Rendered products/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2227)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 6663)
Completed 200 OK in 18ms (Views: 16.8ms | ActiveRecord: 0.0ms | Allocations: 7497)


Started GET "/products/new" for ::1 at 2022-12-27 12:22:49 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 17.1ms | Allocations: 5275)
  Rendered products/new.html.erb within layouts/application (Duration: 18.9ms | Allocations: 5865)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 5952)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.0ms | Allocations: 6788)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <!-- 
Model backed form helpers are tied to an object. There has to be a setter method, a virtual attribute or a column in the database, available for that object when using the model backed form helpers. We use model backed form helpers usually when we need to create, edit, or update an object.

By convention, form_for creates a form based on a specific model object. We are able to create, edit, and update that object's attributes. A form can be created by passing form_for a string or symbol relating to the object we want to deal with.

Here, the model-backed form takes an ojbect @product and infers the action and all else based on convention. Form_for checks to see if @product is a new or existing object. If its a new object, it routes the information submitted to the 'create route' by setting action='/products' (uri) and method='post' (verb). This can be seen by using "inspect element" in chrome. In the case that #product is an exsisting object, its is routed to the update route, setting action='/products/id' and method='post' (this works because there is a hidden _method="patch" which converts post to patch for rails to use). The information submitted is stored in a params hash that can be used for mass assignment, in this case "product"=>{"name"=>"some name"}.
Product.create(params[:post]) is equivalent to Product.create("name"=>"some name")

text_field can to be any attribute (column) or virtual attribute of the product model that is permitted (in products_controller.rb under function 'product_params' is where we set permissions). In the product model, attributes are: id, name, ingredients
-->
<div><center>
  <div class='form-horizontal col-lg-6 col-lg-offset-3'>

    <%= form_for(@product, :html => {class: "form-horizontal", role: "form"}) do |f| %>
    <!-- skip Name of Product on this form---------------
      <div class="form-group">
        <div class="col-lg-12">
          <%= f.label :Name %>
        </div>
        <div class="col-lg-12">
          <%= f.text_field :name, id: "form-input", class: "form-control", placeholder: "Name of Product", autofocus: true %>
        </div>
      </div>
      <br>


      <%= f.text_area :ingredients, id: "form-textarea", class: "form-control", rows: "10", placeholder: "ingredient 1, ingredient 2, ... " %>
      -------------------------------------------------->
      <div class="form-group">
        <div class="col-lg-12">
          <%= f.label :ingredients testing%>
        </div>
        <div class="col-lg-12">



          <%= f.text_area :ingredients, id: "form-textarea", class: "form-control", rows: "10", placeholder: 
            "ingredient 1, ingredient 2, ...

      OR 

ingredient 1
ingredient 2..." %>



        </div>
      </div>  
      <br>
        <%= f.submit "Submit", class: "btn btn-xlarge btn-primary" %>
        <%= link_to "Back to Allergens List", allergens_path, class: "btn btn-xlarge btn-info" %>
    <% end %>
  </div>
</div></center>

):
1:    <!-- 
2:    Model backed form helpers are tied to an object. There has to be a setter method, a virtual attribute or a column in the database, available for that object when using the model backed form helpers. We use model backed form helpers usually when we need to create, edit, or update an object.
3:    
4:    By convention, form_for creates a form based on a specific model object. We are able to create, edit, and update that object's attributes. A form can be created by passing form_for a string or symbol relating to the object we want to deal with.
5:    
6:    Here, the model-backed form takes an ojbect @product and infers the action and all else based on convention. Form_for checks to see if @product is a new or existing object. If its a new object, it routes the information submitted to the 'create route' by setting action='/products' (uri) and method='post' (verb). This can be seen by using "inspect element" in chrome. In the case that #product is an exsisting object, its is routed to the update route, setting action='/products/id' and method='post' (this works because there is a hidden _method="patch" which converts post to patch for rails to use). The information submitted is stored in a params hash that can be used for mass assignment, in this case "product"=>{"name"=>"some name"}.
7:    Product.create(params[:post]) is equivalent to Product.create("name"=>"some name")
8:    
9:    text_field can to be any attribute (column) or virtual attribute of the product model that is permitted (in products_controller.rb under function 'product_params' is where we set permissions). In the product model, attributes are: id, name, ingredients
10:    -->
11:    <div><center>
12:      <div class='form-horizontal col-lg-6 col-lg-offset-3'>
13:    
14:        <%= form_for(@product, :html => {class: "form-horizontal", role: "form"}) do |f| %>
15:        <!-- skip Name of Product on this form---------------
16:          <div class="form-group">
17:            <div class="col-lg-12">
18:              <%= f.label :Name %>
19:            </div>
20:            <div class="col-lg-12">
21:              <%= f.text_field :name, id: "form-input", class: "form-control", placeholder: "Name of Product", autofocus: true %>
22:            </div>
23:          </div>
24:          <br>
25:    
26:    
27:          <%= f.text_area :ingredients, id: "form-textarea", class: "form-control", rows: "10", placeholder: "ingredient 1, ingredient 2, ... " %>
28:          -------------------------------------------------->
29:          <div class="form-group">
30:            <div class="col-lg-12">
31:              <%= f.label :ingredients testing%>
32:            </div>
33:            <div class="col-lg-12">
34:    
35:    
36:    
37:              <%= f.text_area :ingredients, id: "form-textarea", class: "form-control", rows: "10", placeholder: 
38:                "ingredient 1, ingredient 2, ...
39:    
40:          OR 
41:    
42:    ingredient 1
43:    ingredient 2..." %>
44:    
45:    
46:    
47:            </div>
48:          </div>  
49:          <br>
50:            <%= f.submit "Submit", class: "btn btn-xlarge btn-primary" %>
51:            <%= link_to "Back to Allergens List", allergens_path, class: "btn btn-xlarge btn-info" %>
52:        <% end %>
53:      </div>
54:    </div></center>
  
app/views/products/_form.html.erb:31: syntax error, unexpected local variable or method, expecting ')'
app/views/products/_form.html.erb:31: syntax error, unexpected local variable or method, expecting ')'
app/views/products/_form.html.erb:31: syntax error, unexpected local variable or method, expecting ')'
app/views/products/_form.html.erb:31: syntax error, unexpected local variable or method, expecting ')'
app/views/products/_form.html.erb:31: syntax error, unexpected local variable or method, expecting ')'
app/views/products/_form.html.erb:31: syntax error, unexpected local variable or method, expecting ')'
app/views/products/new.html.erb:6
Started GET "/products/new" for ::1 at 2022-12-27 12:23:00 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 1654)
  Rendered products/new.html.erb within layouts/application (Duration: 4.7ms | Allocations: 2229)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 16.6ms | Allocations: 6694)
Completed 200 OK in 22ms (Views: 20.2ms | ActiveRecord: 0.0ms | Allocations: 7538)


Started GET "/products/new" for ::1 at 2022-12-27 12:25:54 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 3.4ms | Allocations: 1668)
  Rendered products/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 2243)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 6679)
Completed 200 OK in 15ms (Views: 13.3ms | Allocations: 7503)


Started GET "/products/new" for ::1 at 2022-12-27 12:26:12 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 4.2ms | Allocations: 1677)
  Rendered products/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 2252)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 6688)
Completed 200 OK in 18ms (Views: 16.4ms | Allocations: 7512)


Started GET "/products/new" for ::1 at 2022-12-27 12:28:14 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 2.4ms | Allocations: 1658)
  Rendered products/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 2237)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 6674)
Completed 200 OK in 13ms (Views: 12.2ms | Allocations: 7509)


Started GET "/products/new" for ::1 at 2022-12-27 12:28:31 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 1661)
  Rendered products/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2240)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 6677)
Completed 200 OK in 16ms (Views: 14.7ms | Allocations: 7512)


Started GET "/products/new" for ::1 at 2022-12-27 12:28:47 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 2.7ms | Allocations: 1673)
  Rendered products/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2252)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 6688)
Completed 200 OK in 14ms (Views: 12.1ms | Allocations: 7512)


Started GET "/products/new" for ::1 at 2022-12-27 12:29:04 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 4.3ms | Allocations: 1661)
  Rendered products/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2240)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 24.5ms | Allocations: 6689)
Completed 200 OK in 29ms (Views: 27.1ms | Allocations: 7514)


Started GET "/products/new" for ::1 at 2022-12-27 12:29:18 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 4.0ms | Allocations: 1658)
  Rendered products/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2237)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 6674)
Completed 200 OK in 16ms (Views: 13.9ms | Allocations: 7499)


Started GET "/products/new" for ::1 at 2022-12-27 12:29:31 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 4.3ms | Allocations: 1661)
  Rendered products/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 2240)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 14.1ms | Allocations: 6680)
Completed 200 OK in 19ms (Views: 17.3ms | Allocations: 7504)


Started GET "/products/new" for ::1 at 2022-12-27 12:29:41 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 4.8ms | Allocations: 1652)
  Rendered products/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2231)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 14.3ms | Allocations: 6672)
Completed 200 OK in 18ms (Views: 16.6ms | Allocations: 7496)


Started GET "/products/new" for ::1 at 2022-12-27 12:29:51 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 3.4ms | Allocations: 1667)
  Rendered products/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2245)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 6681)
Completed 200 OK in 16ms (Views: 13.7ms | Allocations: 7505)


Started GET "/products/new" for ::1 at 2022-12-27 12:31:20 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 201)
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1655)
  Rendered products/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2234)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 143)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 6671)
Completed 200 OK in 15ms (Views: 13.9ms | Allocations: 7495)


Started GET "/" for ::1 at 2022-12-27 12:33:53 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (1.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [13 times] (Duration: 19.0ms | Allocations: 43852)
  Rendered allergens/index.html.erb within layouts/application (Duration: 41.0ms | Allocations: 49171)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 72.9ms | Allocations: 77047)
Completed 200 OK in 80ms (Views: 57.7ms | ActiveRecord: 16.7ms | Allocations: 82342)


Started GET "/products/new" for ::1 at 2022-12-27 12:33:55 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 10.2ms | Allocations: 3115)
  Rendered products/new.html.erb within layouts/application (Duration: 12.4ms | Allocations: 3739)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 17.8ms | Allocations: 7748)
Completed 200 OK in 34ms (Views: 20.5ms | ActiveRecord: 2.8ms | Allocations: 12224)


Started GET "/products/new" for ::1 at 2022-12-27 12:38:44 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 4.6ms | Allocations: 3384)
  Rendered products/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4250)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 24.6ms | Allocations: 31679)
Completed 200 OK in 40ms (Views: 26.0ms | ActiveRecord: 6.4ms | Allocations: 40518)


Started GET "/products/new" for ::1 at 2022-12-27 12:39:31 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.2ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 3.8ms | Allocations: 3395)
  Rendered products/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 4261)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 22.4ms | Allocations: 30906)
Completed 200 OK in 34ms (Views: 23.6ms | ActiveRecord: 4.9ms | Allocations: 39745)


Started POST "/products" for ::1 at 2022-12-27 12:39:47 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"water, formadehyde"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 38]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.7ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 162]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 163]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 164]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 165]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 38]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "water, formadehyde"], ["created_at", "2022-12-27 17:39:47.911122"], ["updated_at", "2022-12-27 17:39:47.911122"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/39
Completed 302 Found in 58ms (ActiveRecord: 14.6ms | Allocations: 28642)


Started GET "/products/39" for ::1 at 2022-12-27 12:39:47 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"39"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 39], ["LIMIT", 1]]
  â†³ app/models/product.rb:41:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formadehyde' OR reactive_substances ILIKE 'formadehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2513)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 6691)
Completed 200 OK in 11ms (Views: 8.2ms | ActiveRecord: 0.8ms | Allocations: 8257)


Started GET "/products/39/edit" for ::1 at 2022-12-27 12:39:56 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"39"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.5ms | Allocations: 1158)
  Rendered products/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1307)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5083)
Completed 200 OK in 15ms (Views: 11.5ms | ActiveRecord: 0.3ms | Allocations: 5920)


Started PATCH "/products/39" for ::1 at 2022-12-27 12:40:00 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"water, formaldehyde"}, "commit"=>"Submit", "id"=>"39"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "water, formaldehyde"], ["updated_at", "2022-12-27 17:40:00.602186"], ["id", 39]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.7ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 39], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:40:00.618279"], ["updated_at", "2022-12-27 17:40:00.618279"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 39], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:40:00.627046"], ["updated_at", "2022-12-27 17:40:00.627046"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 39], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:40:00.631456"], ["updated_at", "2022-12-27 17:40:00.631456"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 39], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-27 17:40:00.634550"], ["updated_at", "2022-12-27 17:40:00.634550"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/39
Completed 302 Found in 40ms (ActiveRecord: 5.5ms | Allocations: 16395)


Started GET "/products/39" for ::1 at 2022-12-27 12:40:00 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"39"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 39], ["LIMIT", 1]]
  â†³ app/models/product.rb:41:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 39) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 3.7ms | Allocations: 2567)
  Rendered products/show.html.erb within layouts/application (Duration: 11.2ms | Allocations: 6517)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 14.5ms | Allocations: 10536)
Completed 200 OK in 16ms (Views: 13.3ms | ActiveRecord: 1.6ms | Allocations: 11303)


Started GET "/products/39/edit" for ::1 at 2022-12-27 12:40:05 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"39"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1.9ms | Allocations: 1077)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1137)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 4913)
Completed 200 OK in 11ms (Views: 7.2ms | ActiveRecord: 0.2ms | Allocations: 5691)


Started GET "/" for ::1 at 2022-12-28 12:31:43 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.7ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 22.8ms | Allocations: 44863)
  Rendered allergens/index.html.erb within layouts/application (Duration: 33.1ms | Allocations: 50204)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 67.4ms | Allocations: 77736)
Completed 200 OK in 75ms (Views: 62.4ms | ActiveRecord: 6.4ms | Allocations: 83149)


Started GET "/products/new" for ::1 at 2022-12-28 12:31:46 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 9.2ms | Allocations: 3224)
  Rendered products/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 3848)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 7845)
Completed 200 OK in 31ms (Views: 17.2ms | ActiveRecord: 4.3ms | Allocations: 12556)


Started POST "/products" for ::1 at 2022-12-28 12:31:52 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1, sub2"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 54]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 372]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 373]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 374]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 375]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 54]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1, sub2"], ["created_at", "2022-12-28 17:31:53.012270"], ["updated_at", "2022-12-28 17:31:53.012270"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 60], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 17:31:53.055859"], ["updated_at", "2022-12-28 17:31:53.055859"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 60], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 17:31:53.060252"], ["updated_at", "2022-12-28 17:31:53.060252"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/60
Completed 302 Found in 54ms (ActiveRecord: 10.0ms | Allocations: 29306)


Started GET "/products/60" for ::1 at 2022-12-28 12:31:53 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"60"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 60], ["LIMIT", 1]]
  â†³ app/models/product.rb:41:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 60) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.2ms | Allocations: 449)
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.4ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 178)
  Rendered products/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 6367)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 13.1ms | Allocations: 10495)
Completed 200 OK in 18ms (Views: 12.0ms | ActiveRecord: 2.1ms | Allocations: 12008)


Started GET "/products/60/edit" for ::1 at 2022-12-28 12:31:59 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"60"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.5ms | Allocations: 1138)
  Rendered products/edit.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1288)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 5064)
Completed 200 OK in 16ms (Views: 11.9ms | ActiveRecord: 0.4ms | Allocations: 5900)


Started PATCH "/products/60" for ::1 at 2022-12-28 12:32:07 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1, sub2, water"}, "commit"=>"Submit", "id"=>"60"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "sub1, sub2, water"], ["updated_at", "2022-12-28 17:32:07.705584"], ["id", 60]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 376]]
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 377]]
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 60], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 17:32:07.720468"], ["updated_at", "2022-12-28 17:32:07.720468"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 60], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 17:32:07.730155"], ["updated_at", "2022-12-28 17:32:07.730155"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/60
Completed 302 Found in 35ms (ActiveRecord: 5.2ms | Allocations: 15662)


Started GET "/products/60" for ::1 at 2022-12-28 12:32:07 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"60"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 60], ["LIMIT", 1]]
  â†³ app/models/product.rb:41:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 60) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.3ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 178)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.3ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 177)
  [1m[36mReaction Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 5843)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 13.2ms | Allocations: 9827)
Completed 200 OK in 15ms (Views: 11.1ms | ActiveRecord: 2.6ms | Allocations: 10593)


Started GET "/" for ::1 at 2022-12-28 12:33:53 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 50.8ms | Allocations: 44863)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.7ms | Allocations: 50204)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 82.0ms | Allocations: 77833)
Completed 200 OK in 88ms (Views: 78.1ms | ActiveRecord: 5.1ms | Allocations: 83129)


Started GET "/products/new" for ::1 at 2022-12-28 12:34:04 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 8.6ms | Allocations: 3140)
  Rendered products/new.html.erb within layouts/application (Duration: 10.6ms | Allocations: 3766)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 7764)
Completed 200 OK in 32ms (Views: 17.1ms | ActiveRecord: 3.5ms | Allocations: 12218)


Started POST "/products" for ::1 at 2022-12-28 12:34:13 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,    sub2"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (1.6ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 60]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 378]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 379]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 60]]
  â†³ app/models/product.rb:70:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,    sub2"], ["created_at", "2022-12-28 17:34:13.129522"], ["updated_at", "2022-12-28 17:34:13.129522"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:76:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 61], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 17:34:13.183977"], ["updated_at", "2022-12-28 17:34:13.183977"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:54:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 61], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 17:34:13.191224"], ["updated_at", "2022-12-28 17:34:13.191224"]]
  â†³ app/models/product.rb:59:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/61
Completed 302 Found in 68ms (ActiveRecord: 10.6ms | Allocations: 27842)


Started GET "/products/61" for ::1 at 2022-12-28 12:34:13 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"61"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 61], ["LIMIT", 1]]
  â†³ app/models/product.rb:41:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 61) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.0ms | Allocations: 448)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 178)
  Rendered products/show.html.erb within layouts/application (Duration: 8.9ms | Allocations: 6366)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 10482)
Completed 200 OK in 17ms (Views: 11.4ms | ActiveRecord: 2.4ms | Allocations: 11995)


Started GET "/" for ::1 at 2022-12-28 12:40:55 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 19.5ms | Allocations: 44864)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.4ms | Allocations: 50205)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 55.3ms | Allocations: 77871)
Completed 200 OK in 62ms (Views: 49.7ms | ActiveRecord: 7.0ms | Allocations: 83167)


Started GET "/products/new" for ::1 at 2022-12-28 12:41:44 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 5.1ms | Allocations: 3149)
  Rendered products/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 3773)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 7783)
Completed 200 OK in 22ms (Views: 11.8ms | ActiveRecord: 2.5ms | Allocations: 12574)


Started POST "/products" for ::1 at 2022-12-28 12:41:49 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 61]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 380]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 381]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 61]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 17:41:49.082359"], ["updated_at", "2022-12-28 17:41:49.082359"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:103:in `block in <class:Product>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Completed 500 Internal Server Error in 48ms (ActiveRecord: 7.8ms | Allocations: 19020)


  
NoMethodError (undefined method `squeeze' for nil:NilClass

    ingredients = ingredients.squeeze(" ")
                             ^^^^^^^^):
  
app/models/product.rb:45:in `get_ingredients'
app/models/product.rb:78:in `check_for_allergens'
app/models/product.rb:104:in `block in <class:Product>'
app/controllers/products_controller.rb:49:in `create'
Started PUT "/__web_console/repl_sessions/b8cf800e990dacaddca84a05db077453" for ::1 at 2022-12-28 12:41:56 -0500
Started PUT "/__web_console/repl_sessions/b8cf800e990dacaddca84a05db077453" for ::1 at 2022-12-28 12:41:59 -0500
Started GET "/" for ::1 at 2022-12-28 12:45:08 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 19.7ms | Allocations: 44863)
  Rendered allergens/index.html.erb within layouts/application (Duration: 28.8ms | Allocations: 50204)
  Rendered layouts/_messages.html.erb (Duration: 0.8ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 64.4ms | Allocations: 77682)
Completed 200 OK in 70ms (Views: 60.2ms | ActiveRecord: 5.4ms | Allocations: 82977)


Started GET "/products/new" for ::1 at 2022-12-28 12:45:10 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 4.8ms | Allocations: 3125)
  Rendered products/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 3749)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 7746)
Completed 200 OK in 19ms (Views: 9.7ms | ActiveRecord: 2.4ms | Allocations: 12532)


Started POST "/products" for ::1 at 2022-12-28 12:45:21 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1, sub2"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 61]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 380]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 381]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 61]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1, sub2"], ["created_at", "2022-12-28 17:45:21.908111"], ["updated_at", "2022-12-28 17:45:21.908111"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:77:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ app/models/product.rb:82:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 63], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 17:45:21.946674"], ["updated_at", "2022-12-28 17:45:21.946674"]]
  â†³ app/models/product.rb:82:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:77:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ app/models/product.rb:82:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 63], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 17:45:21.950702"], ["updated_at", "2022-12-28 17:45:21.950702"]]
  â†³ app/models/product.rb:82:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/63
Completed 302 Found in 47ms (ActiveRecord: 8.6ms | Allocations: 27767)


Started GET "/products/63" for ::1 at 2022-12-28 12:45:21 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"63"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 63], ["LIMIT", 1]]
  â†³ app/models/product.rb:64:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 63) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.3ms | Allocations: 448)
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 178)
  Rendered products/show.html.erb within layouts/application (Duration: 11.0ms | Allocations: 6366)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 10478)
Completed 200 OK in 17ms (Views: 13.4ms | ActiveRecord: 1.8ms | Allocations: 11991)


Started GET "/" for ::1 at 2022-12-28 12:46:15 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 18.4ms | Allocations: 44862)
  Rendered allergens/index.html.erb within layouts/application (Duration: 25.7ms | Allocations: 50202)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 53.0ms | Allocations: 77716)
Completed 200 OK in 59ms (Views: 50.4ms | ActiveRecord: 3.8ms | Allocations: 83002)


Started GET "/products/new" for ::1 at 2022-12-28 12:46:17 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 8.9ms | Allocations: 3140)
  Rendered products/new.html.erb within layouts/application (Duration: 11.1ms | Allocations: 3764)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 7761)
Completed 200 OK in 31ms (Views: 17.0ms | ActiveRecord: 3.2ms | Allocations: 12500)


Started POST "/products" for ::1 at 2022-12-28 12:46:24 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1, sub2"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 63]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 382]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 383]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 63]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1, sub2"], ["created_at", "2022-12-28 17:46:24.575880"], ["updated_at", "2022-12-28 17:46:24.575880"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:77:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  â†³ app/models/product.rb:82:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 64], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 17:46:24.622311"], ["updated_at", "2022-12-28 17:46:24.622311"]]
  â†³ app/models/product.rb:82:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:77:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  â†³ app/models/product.rb:82:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 64], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 17:46:24.628812"], ["updated_at", "2022-12-28 17:46:24.628812"]]
  â†³ app/models/product.rb:82:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/64
Completed 302 Found in 59ms (ActiveRecord: 9.8ms | Allocations: 27777)


Started GET "/products/64" for ::1 at 2022-12-28 12:46:24 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"64"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 64], ["LIMIT", 1]]
  â†³ app/models/product.rb:64:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 64) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.7ms | Allocations: 447)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 178)
  Rendered products/show.html.erb within layouts/application (Duration: 10.0ms | Allocations: 6367)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 13.9ms | Allocations: 10482)
Completed 200 OK in 18ms (Views: 12.8ms | ActiveRecord: 1.8ms | Allocations: 11995)


Started GET "/" for ::1 at 2022-12-28 13:43:41 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 23.5ms | Allocations: 44863)
  Rendered allergens/index.html.erb within layouts/application (Duration: 60.2ms | Allocations: 50204)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 93.3ms | Allocations: 78006)
Completed 200 OK in 99ms (Views: 87.9ms | ActiveRecord: 6.5ms | Allocations: 83301)


Started GET "/products/new" for ::1 at 2022-12-28 13:43:43 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 9.5ms | Allocations: 3140)
  Rendered products/new.html.erb within layouts/application (Duration: 12.1ms | Allocations: 3764)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 7761)
Completed 200 OK in 32ms (Views: 18.4ms | ActiveRecord: 4.9ms | Allocations: 12542)


Started POST "/products" for ::1 at 2022-12-28 13:43:56 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1\n\nsub2\nwater"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 64]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 384]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 385]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 64]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1\n\nsub2\nwater"], ["created_at", "2022-12-28 18:43:56.961882"], ["updated_at", "2022-12-28 18:43:56.961882"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:100:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 65], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 18:43:57.001203"], ["updated_at", "2022-12-28 18:43:57.001203"]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 65], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 18:43:57.004961"], ["updated_at", "2022-12-28 18:43:57.004961"]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/65
Completed 302 Found in 50ms (ActiveRecord: 9.8ms | Allocations: 30356)


Started GET "/products/65" for ::1 at 2022-12-28 13:43:57 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"65"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 65], ["LIMIT", 1]]
  â†³ app/models/product.rb:65:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 65) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.9ms | Allocations: 448)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 178)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 10.4ms | Allocations: 6949)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 11081)
Completed 200 OK in 16ms (Views: 11.9ms | ActiveRecord: 2.3ms | Allocations: 12594)


Started GET "/products/new" for ::1 at 2022-12-28 13:44:06 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 3.3ms | Allocations: 1061)
  Rendered products/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1192)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.7ms | Allocations: 4976)
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 5259)


Started POST "/products" for ::1 at 2022-12-28 13:44:32 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 65]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 386]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 387]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 65]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 18:44:32.273087"], ["updated_at", "2022-12-28 18:44:32.273087"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:100:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 66], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 18:44:32.291583"], ["updated_at", "2022-12-28 18:44:32.291583"]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.9ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 66], ["reactive_substances", " "], ["reactive_ingredient", "JUST    CHECKING"], ["created_at", "2022-12-28 18:44:32.300282"], ["updated_at", "2022-12-28 18:44:32.300282"]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 66], ["reactive_substances", " "], ["reactive_ingredient", "    FORMALDEHYDE"], ["created_at", "2022-12-28 18:44:32.306522"], ["updated_at", "2022-12-28 18:44:32.306522"]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 66], ["reactive_substances", " "], ["reactive_ingredient", " WATER "], ["created_at", "2022-12-28 18:44:32.312867"], ["updated_at", "2022-12-28 18:44:32.312867"]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/66
Completed 302 Found in 44ms (ActiveRecord: 6.5ms | Allocations: 28209)


Started GET "/products/66" for ::1 at 2022-12-28 13:44:32 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"66"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 66], ["LIMIT", 1]]
  â†³ app/models/product.rb:65:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 66) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 178)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just    checking' OR reactive_substances ILIKE 'just    checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just    checking' OR reactive_substances ILIKE 'just    checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.0ms | Allocations: 27)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '    formaldehyde' OR reactive_substances ILIKE '    formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '    formaldehyde' OR reactive_substances ILIKE '    formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.0ms | Allocations: 27)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test,' OR reactive_substances ILIKE 'test,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test2' OR reactive_substances ILIKE 'test2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.0ms | Allocations: 27)
  Rendered products/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 9979)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 13963)
Completed 200 OK in 13ms (Views: 9.8ms | ActiveRecord: 2.6ms | Allocations: 14730)


Started GET "/allergens" for ::1 at 2022-12-28 13:46:07 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 23.3ms | Allocations: 44865)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.7ms | Allocations: 50204)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 90.4ms | Allocations: 78101)
Completed 200 OK in 96ms (Views: 84.8ms | ActiveRecord: 6.8ms | Allocations: 83397)


Started GET "/products/new" for ::1 at 2022-12-28 13:46:31 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 7.1ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 5.2ms | Allocations: 3395)
  Rendered products/new.html.erb within layouts/application (Duration: 20.6ms | Allocations: 4260)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 167)
  Rendered layout layouts/application.html.erb (Duration: 42.1ms | Allocations: 31725)
Completed 200 OK in 70ms (Views: 50.6ms | ActiveRecord: 6.9ms | Allocations: 40580)


Started POST "/products" for ::1 at 2022-12-28 13:46:41 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 66]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 388]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 389]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 390]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 391]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 66]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 18:46:41.928899"], ["updated_at", "2022-12-28 18:46:41.928899"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:100:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 67], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 18:46:41.969009"], ["updated_at", "2022-12-28 18:46:41.969009"]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 67], ["reactive_substances", " "], ["reactive_ingredient", "JUST    CHECKING"], ["created_at", "2022-12-28 18:46:41.971763"], ["updated_at", "2022-12-28 18:46:41.971763"]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 67], ["reactive_substances", " "], ["reactive_ingredient", "    FORMALDEHYDE"], ["created_at", "2022-12-28 18:46:41.974605"], ["updated_at", "2022-12-28 18:46:41.974605"]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:78:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 67], ["reactive_substances", " "], ["reactive_ingredient", " WATER "], ["created_at", "2022-12-28 18:46:41.979671"], ["updated_at", "2022-12-28 18:46:41.979671"]]
  â†³ app/models/product.rb:83:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/67
Completed 302 Found in 55ms (ActiveRecord: 12.4ms | Allocations: 46867)


Started GET "/products/67" for ::1 at 2022-12-28 13:46:41 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"67"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 67], ["LIMIT", 1]]
  â†³ app/models/product.rb:65:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 67) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.8ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.9ms | Allocations: 563)
  [1m[36mReaction Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just    checking' OR reactive_substances ILIKE 'just    checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.4ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just    checking' OR reactive_substances ILIKE 'just    checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.0ms | Allocations: 27)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE '    formaldehyde' OR reactive_substances ILIKE '    formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE '    formaldehyde' OR reactive_substances ILIKE '    formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.0ms | Allocations: 27)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test,' OR reactive_substances ILIKE 'test,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test2' OR reactive_substances ILIKE 'test2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.0ms | Allocations: 27)
  Rendered products/show.html.erb within layouts/application (Duration: 13.8ms | Allocations: 11214)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 15347)
Completed 200 OK in 18ms (Views: 12.3ms | ActiveRecord: 4.2ms | Allocations: 16857)


Started GET "/products/new" for ::1 at 2022-12-28 13:52:38 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.4ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 4.9ms | Allocations: 3387)
  Rendered products/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4252)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 28.4ms | Allocations: 31532)
Completed 200 OK in 44ms (Views: 29.6ms | ActiveRecord: 6.1ms | Allocations: 40627)


Started POST "/products" for ::1 at 2022-12-28 13:53:29 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 67]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 392]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 393]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 394]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 395]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 67]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Create (11.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 18:53:29.608991"], ["updated_at", "2022-12-28 18:53:29.608991"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:100:in `block in <class:Product>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Completed 500 Internal Server Error in 52ms (ActiveRecord: 29.6ms | Allocations: 27944)


  
ZeroDivisionError (divided by 0):
  
app/models/product.rb:59:in `/'
app/models/product.rb:59:in `get_ingredients'
app/models/product.rb:75:in `check_for_allergens'
app/models/product.rb:101:in `block in <class:Product>'
app/controllers/products_controller.rb:49:in `create'
Started PUT "/__web_console/repl_sessions/37ba1d61f6d9626097cf8a85a7432480" for ::1 at 2022-12-28 13:53:35 -0500
Started PUT "/__web_console/repl_sessions/37ba1d61f6d9626097cf8a85a7432480" for ::1 at 2022-12-28 13:53:38 -0500
Started PUT "/__web_console/repl_sessions/37ba1d61f6d9626097cf8a85a7432480" for ::1 at 2022-12-28 13:53:39 -0500
Started GET "/" for ::1 at 2022-12-28 13:58:15 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 18.6ms | Allocations: 44863)
  Rendered allergens/index.html.erb within layouts/application (Duration: 28.8ms | Allocations: 50204)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 57.6ms | Allocations: 78027)
Completed 200 OK in 64ms (Views: 52.5ms | ActiveRecord: 6.3ms | Allocations: 83322)


Started GET "/products/new" for ::1 at 2022-12-28 13:58:18 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 10.3ms | Allocations: 3134)
  Rendered products/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3758)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 16.9ms | Allocations: 7755)
Completed 200 OK in 29ms (Views: 18.4ms | ActiveRecord: 4.5ms | Allocations: 12245)


Started POST "/products" for ::1 at 2022-12-28 13:58:44 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 67]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 392]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 393]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 394]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 395]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 67]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 18:58:44.208039"], ["updated_at", "2022-12-28 18:58:44.208039"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:100:in `block in <class:Product>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Completed 500 Internal Server Error in 30ms (ActiveRecord: 4.8ms | Allocations: 19552)


  
ZeroDivisionError (divided by 0):
  
app/models/product.rb:59:in `/'
app/models/product.rb:59:in `get_ingredients'
app/models/product.rb:75:in `check_for_allergens'
app/models/product.rb:101:in `block in <class:Product>'
app/controllers/products_controller.rb:49:in `create'
Started PUT "/__web_console/repl_sessions/902988f14cd23de224f509447b696b97" for ::1 at 2022-12-28 13:58:49 -0500
Started PUT "/__web_console/repl_sessions/902988f14cd23de224f509447b696b97" for ::1 at 2022-12-28 13:58:51 -0500
Started PUT "/__web_console/repl_sessions/902988f14cd23de224f509447b696b97" for ::1 at 2022-12-28 13:59:23 -0500
Started PUT "/__web_console/repl_sessions/902988f14cd23de224f509447b696b97" for ::1 at 2022-12-28 13:59:48 -0500
Started PUT "/__web_console/repl_sessions/902988f14cd23de224f509447b696b97" for ::1 at 2022-12-28 14:00:13 -0500
Started GET "/" for ::1 at 2022-12-28 14:01:20 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 19.6ms | Allocations: 44866)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.2ms | Allocations: 50207)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 53.8ms | Allocations: 78049)
Completed 200 OK in 87ms (Views: 48.8ms | ActiveRecord: 6.5ms | Allocations: 83344)


Started GET "/products/new" for ::1 at 2022-12-28 14:01:23 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 2.1ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 8.9ms | Allocations: 3161)
  Rendered products/new.html.erb within layouts/application (Duration: 12.9ms | Allocations: 3786)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 19.0ms | Allocations: 7804)
Completed 200 OK in 36ms (Views: 20.7ms | ActiveRecord: 4.4ms | Allocations: 12588)


Started POST "/products" for ::1 at 2022-12-28 14:01:28 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 67]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 392]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 393]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 394]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 395]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 67]]
  â†³ app/models/product.rb:94:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 19:01:28.445030"], ["updated_at", "2022-12-28 19:01:28.445030"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:100:in `block in <class:Product>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Completed 500 Internal Server Error in 45ms (ActiveRecord: 7.1ms | Allocations: 19561)


  
ZeroDivisionError (divided by 0):
  
app/models/product.rb:59:in `/'
app/models/product.rb:59:in `get_ingredients'
app/models/product.rb:75:in `check_for_allergens'
app/models/product.rb:101:in `block in <class:Product>'
app/controllers/products_controller.rb:49:in `create'
Started PUT "/__web_console/repl_sessions/cb6f8a6df7aefd46fc8ab0704e460aae" for ::1 at 2022-12-28 14:01:32 -0500
Started PUT "/__web_console/repl_sessions/cb6f8a6df7aefd46fc8ab0704e460aae" for ::1 at 2022-12-28 14:01:33 -0500
Started GET "/" for ::1 at 2022-12-28 15:34:48 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 18.8ms | Allocations: 44866)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.3ms | Allocations: 50223)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 57.5ms | Allocations: 78105)
Completed 200 OK in 66ms (Views: 52.4ms | ActiveRecord: 6.5ms | Allocations: 83391)


Started GET "/products/new" for ::1 at 2022-12-28 15:34:50 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 11.0ms | Allocations: 3143)
  Rendered products/new.html.erb within layouts/application (Duration: 13.5ms | Allocations: 3767)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 17.9ms | Allocations: 7777)
Completed 200 OK in 37ms (Views: 19.5ms | ActiveRecord: 4.9ms | Allocations: 12566)


Started POST "/products" for ::1 at 2022-12-28 15:34:55 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 67]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 392]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 393]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 394]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 395]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 67]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 20:34:55.521095"], ["updated_at", "2022-12-28 20:34:55.521095"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Completed 500 Internal Server Error in 47ms (ActiveRecord: 7.5ms | Allocations: 19604)


  
ZeroDivisionError (divided by 0):
  
app/models/product.rb:61:in `/'
app/models/product.rb:61:in `get_ingredients'
app/models/product.rb:77:in `check_for_allergens'
app/models/product.rb:103:in `block in <class:Product>'
app/controllers/products_controller.rb:49:in `create'
Started PUT "/__web_console/repl_sessions/d44bfed98cd8aa6a2424c44b7395dfba" for ::1 at 2022-12-28 15:34:58 -0500
Started PUT "/__web_console/repl_sessions/d44bfed98cd8aa6a2424c44b7395dfba" for ::1 at 2022-12-28 15:35:00 -0500
Started GET "/" for ::1 at 2022-12-28 15:37:25 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 18.8ms | Allocations: 44357)
  Rendered allergens/index.html.erb within layouts/application (Duration: 25.8ms | Allocations: 47051)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 28.8ms | Allocations: 51332)
Completed 200 OK in 31ms (Views: 24.3ms | ActiveRecord: 4.8ms | Allocations: 53493)


Started GET "/products/new" for ::1 at 2022-12-28 15:37:28 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered products/_form.html.erb (Duration: 2.0ms | Allocations: 1278)
  Rendered products/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1429)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 5410)
Completed 200 OK in 23ms (Views: 10.2ms | ActiveRecord: 4.6ms | Allocations: 9050)


Started POST "/products" for ::1 at 2022-12-28 15:37:32 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 67]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 392]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 393]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 394]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 395]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 67]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 20:37:32.984593"], ["updated_at", "2022-12-28 20:37:32.984593"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 6.3ms | Allocations: 13885)


  
ZeroDivisionError (divided by 0):
  
app/models/product.rb:61:in `/'
app/models/product.rb:61:in `get_ingredients'
app/models/product.rb:77:in `check_for_allergens'
app/models/product.rb:103:in `block in <class:Product>'
app/controllers/products_controller.rb:49:in `create'
Started PUT "/__web_console/repl_sessions/796ab1d945bd2e3d77ae17f15aa3a509" for ::1 at 2022-12-28 15:37:36 -0500
Started PUT "/__web_console/repl_sessions/796ab1d945bd2e3d77ae17f15aa3a509" for ::1 at 2022-12-28 15:37:38 -0500
Started GET "/" for ::1 at 2022-12-28 15:38:07 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 19.2ms | Allocations: 44357)
  Rendered allergens/index.html.erb within layouts/application (Duration: 38.1ms | Allocations: 47051)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 42.1ms | Allocations: 51350)
Completed 200 OK in 44ms (Views: 25.6ms | ActiveRecord: 16.8ms | Allocations: 53511)


Started GET "/products/new" for ::1 at 2022-12-28 15:38:09 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 1280)
  Rendered products/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1431)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 11.5ms | Allocations: 5412)
Completed 200 OK in 24ms (Views: 12.6ms | ActiveRecord: 2.5ms | Allocations: 9052)


Started POST "/products" for ::1 at 2022-12-28 15:38:13 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 67]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 392]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 393]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 394]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 395]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 67]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 20:38:13.501021"], ["updated_at", "2022-12-28 20:38:13.501021"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.9ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 73], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 20:38:13.535508"], ["updated_at", "2022-12-28 20:38:13.535508"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 73], ["reactive_substances", " "], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:38:13.540581"], ["updated_at", "2022-12-28 20:38:13.540581"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 73], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:38:13.548303"], ["updated_at", "2022-12-28 20:38:13.548303"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 73], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:38:13.551586"], ["updated_at", "2022-12-28 20:38:13.551586"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 73], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:38:13.553970"], ["updated_at", "2022-12-28 20:38:13.553970"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 73], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:38:13.556083"], ["updated_at", "2022-12-28 20:38:13.556083"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 73], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:38:13.558194"], ["updated_at", "2022-12-28 20:38:13.558194"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.8ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 73], ["reactive_substances", " "], ["reactive_ingredient", " WATER "], ["created_at", "2022-12-28 20:38:13.567875"], ["updated_at", "2022-12-28 20:38:13.567875"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/73
Completed 302 Found in 74ms (ActiveRecord: 11.9ms | Allocations: 43677)


Started GET "/products/73" for ::1 at 2022-12-28 15:38:13 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"73"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 73], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 73) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.2ms | Allocations: 443)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2)[0m  [["id", 14], ["id", 22]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [2 times] (Duration: 0.1ms | Allocations: 197)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.4ms | Allocations: 2180)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test,' OR reactive_substances ILIKE 'test,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test2' OR reactive_substances ILIKE 'test2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.0ms | Allocations: 27)
  Rendered products/show.html.erb within layouts/application (Duration: 14.2ms | Allocations: 13673)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 17.2ms | Allocations: 17850)
Completed 200 OK in 20ms (Views: 14.6ms | ActiveRecord: 3.0ms | Allocations: 19360)


Started GET "/products/new" for ::1 at 2022-12-28 15:45:03 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 228)
  Rendered products/_form.html.erb (Duration: 5.0ms | Allocations: 3384)
  Rendered products/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4249)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 26.0ms | Allocations: 31735)
Completed 200 OK in 41ms (Views: 27.2ms | ActiveRecord: 5.8ms | Allocations: 40583)


Started POST "/products" for ::1 at 2022-12-28 15:45:31 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1, water, sub2, formaldehyde, just checking"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 73]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 396]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 397]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 398]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 399]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 400]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 401]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 402]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 403]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 73]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.6ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1, water, sub2, formaldehyde, just checking"], ["created_at", "2022-12-28 20:45:31.692674"], ["updated_at", "2022-12-28 20:45:31.692674"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 20:45:31.724030"], ["updated_at", "2022-12-28 20:45:31.724030"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 20:45:31.727085"], ["updated_at", "2022-12-28 20:45:31.727085"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 74], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:45:31.728892"], ["updated_at", "2022-12-28 20:45:31.728892"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 74], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:45:31.730064"], ["updated_at", "2022-12-28 20:45:31.730064"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 74], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:45:31.731231"], ["updated_at", "2022-12-28 20:45:31.731231"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 74], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:45:31.732785"], ["updated_at", "2022-12-28 20:45:31.732785"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 74], ["reactive_substances", " "], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:45:31.735981"], ["updated_at", "2022-12-28 20:45:31.735981"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:45:31.737432"], ["updated_at", "2022-12-28 20:45:31.737432"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/74
Completed 302 Found in 59ms (ActiveRecord: 23.0ms | Allocations: 60851)


Started GET "/products/74" for ::1 at 2022-12-28 15:45:31 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"74"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 74) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.7ms | Allocations: 566)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 178)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 0.8ms | Allocations: 2180)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2)[0m  [["id", 14], ["id", 22]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [2 times] (Duration: 0.1ms | Allocations: 197)
  Rendered products/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 13772)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 160)
  Rendered layout layouts/application.html.erb (Duration: 38.4ms | Allocations: 40926)
Completed 200 OK in 41ms (Views: 37.1ms | ActiveRecord: 2.5ms | Allocations: 44099)


Started GET "/products/74/edit" for ::1 at 2022-12-28 15:45:52 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"74"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1.7ms | Allocations: 1264)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1442)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 6.7ms | Allocations: 5329)
Completed 200 OK in 29ms (Views: 7.0ms | ActiveRecord: 0.9ms | Allocations: 11226)


Started PATCH "/products/74" for ::1 at 2022-12-28 15:45:57 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1, water, sub2, formaldehyde, justchecking"}, "commit"=>"Submit", "id"=>"74"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.4ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "sub1, water, sub2, formaldehyde, justchecking"], ["updated_at", "2022-12-28 20:45:57.325579"], ["id", 74]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (1.0ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 404]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 405]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 406]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 407]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 408]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 409]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 410]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 411]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 20:45:57.368272"], ["updated_at", "2022-12-28 20:45:57.368272"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 20:45:57.375458"], ["updated_at", "2022-12-28 20:45:57.375458"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 74], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:45:57.379479"], ["updated_at", "2022-12-28 20:45:57.379479"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 74], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:45:57.381910"], ["updated_at", "2022-12-28 20:45:57.381910"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 74], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:45:57.384151"], ["updated_at", "2022-12-28 20:45:57.384151"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 74], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:45:57.386474"], ["updated_at", "2022-12-28 20:45:57.386474"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/74
Completed 302 Found in 70ms (ActiveRecord: 14.7ms | Allocations: 43511)


Started GET "/products/74" for ::1 at 2022-12-28 15:45:57 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"74"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 74) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.8ms | Allocations: 562)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 178)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.4ms | Allocations: 2180)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'justchecking' OR reactive_substances ILIKE 'justchecking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 13.0ms | Allocations: 11836)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 15972)
Completed 200 OK in 18ms (Views: 14.3ms | ActiveRecord: 2.4ms | Allocations: 16916)


Started GET "/products/74/edit" for ::1 at 2022-12-28 15:46:11 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"74"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.4ms | Allocations: 1140)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1200)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4976)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 0.3ms | Allocations: 5757)


Started PATCH "/products/74" for ::1 at 2022-12-28 15:46:16 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1, water, sub2, formaldehyde, just checking"}, "commit"=>"Submit", "id"=>"74"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "sub1, water, sub2, formaldehyde, just checking"], ["updated_at", "2022-12-28 20:46:16.589628"], ["id", 74]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 412]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 413]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 414]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 415]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 416]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 417]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 20:46:16.602560"], ["updated_at", "2022-12-28 20:46:16.602560"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 20:46:16.608339"], ["updated_at", "2022-12-28 20:46:16.608339"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 74], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:46:16.611523"], ["updated_at", "2022-12-28 20:46:16.611523"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 74], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:46:16.613606"], ["updated_at", "2022-12-28 20:46:16.613606"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 74], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:46:16.615551"], ["updated_at", "2022-12-28 20:46:16.615551"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 74], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:46:16.617483"], ["updated_at", "2022-12-28 20:46:16.617483"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 74], ["reactive_substances", " "], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:46:16.620969"], ["updated_at", "2022-12-28 20:46:16.620969"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:46:16.623087"], ["updated_at", "2022-12-28 20:46:16.623087"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/74
Completed 302 Found in 38ms (ActiveRecord: 6.5ms | Allocations: 32728)


Started GET "/products/74" for ::1 at 2022-12-28 15:46:16 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"74"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 74) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 179)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 179)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.2ms | Allocations: 2180)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2)[0m  [["id", 14], ["id", 22]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [2 times] (Duration: 0.1ms | Allocations: 197)
  Rendered products/show.html.erb within layouts/application (Duration: 12.4ms | Allocations: 12036)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 16076)
Completed 200 OK in 16ms (Views: 12.6ms | ActiveRecord: 2.9ms | Allocations: 16843)


Started GET "/products/74/edit" for ::1 at 2022-12-28 15:46:33 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"74"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.3ms | Allocations: 1060)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1120)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 4895)
Completed 200 OK in 13ms (Views: 9.9ms | ActiveRecord: 0.4ms | Allocations: 5657)


Started PATCH "/products/74" for ::1 at 2022-12-28 15:46:56 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1, \nwater\n sub2\n formaldehyde, just checking"}, "commit"=>"Submit", "id"=>"74"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "sub1, \nwater\n sub2\n formaldehyde, just checking"], ["updated_at", "2022-12-28 20:46:56.721781"], ["id", 74]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 418]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 419]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 420]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 421]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 422]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 423]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 424]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 425]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 20:46:56.735162"], ["updated_at", "2022-12-28 20:46:56.735162"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 20:46:56.738741"], ["updated_at", "2022-12-28 20:46:56.738741"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 74], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:46:56.740822"], ["updated_at", "2022-12-28 20:46:56.740822"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 74], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:46:56.742146"], ["updated_at", "2022-12-28 20:46:56.742146"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 74], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:46:56.743884"], ["updated_at", "2022-12-28 20:46:56.743884"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 74], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:46:56.745690"], ["updated_at", "2022-12-28 20:46:56.745690"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 74], ["reactive_substances", " "], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:46:56.749135"], ["updated_at", "2022-12-28 20:46:56.749135"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 74], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:46:56.750562"], ["updated_at", "2022-12-28 20:46:56.750562"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/74
Completed 302 Found in 46ms (ActiveRecord: 13.4ms | Allocations: 48551)


Started GET "/products/74" for ::1 at 2022-12-28 15:46:56 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"74"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 74], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 74) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.4ms | Allocations: 449)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 178)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 0.9ms | Allocations: 2180)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2)[0m  [["id", 14], ["id", 22]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [2 times] (Duration: 0.1ms | Allocations: 197)
  Rendered products/show.html.erb within layouts/application (Duration: 10.4ms | Allocations: 13408)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 35)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | Allocations: 17711)
Completed 200 OK in 14ms (Views: 10.1ms | ActiveRecord: 3.2ms | Allocations: 18906)


Started GET "/products/74/edit" for ::1 at 2022-12-28 15:47:50 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"74"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 19.5ms | Allocations: 6835)
  Rendered products/edit.html.erb within layouts/application (Duration: 20.8ms | Allocations: 7052)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 24.0ms | Allocations: 10955)
Completed 200 OK in 29ms (Views: 24.6ms | ActiveRecord: 0.7ms | Allocations: 11862)


Started PATCH "/products/74" for ::1 at 2022-12-28 15:47:58 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b c"}, "commit"=>"Submit", "id"=>"74"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1334)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1397)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 5174)
Completed 422 Unprocessable Entity in 15ms (Views: 9.2ms | ActiveRecord: 0.2ms | Allocations: 7217)


Started PATCH "/products/74" for ::1 at 2022-12-28 15:48:00 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b c"}, "commit"=>"Submit", "id"=>"74"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.0ms | Allocations: 1206)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1269)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 5045)
Completed 422 Unprocessable Entity in 20ms (Views: 11.8ms | ActiveRecord: 0.6ms | Allocations: 6899)


Started PATCH "/products/74" for ::1 at 2022-12-28 15:48:11 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b c!!!"}, "commit"=>"Submit", "id"=>"74"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.0ms | Allocations: 1206)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1269)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.9ms | Allocations: 5045)
Completed 422 Unprocessable Entity in 16ms (Views: 10.6ms | ActiveRecord: 0.3ms | Allocations: 6899)


Started PATCH "/products/74" for ::1 at 2022-12-28 15:48:16 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b c!!!;;;"}, "commit"=>"Submit", "id"=>"74"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.9ms | Allocations: 1494)
  Rendered products/edit.html.erb within layouts/application (Duration: 3.1ms | Allocations: 1557)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5332)
Completed 422 Unprocessable Entity in 17ms (Views: 11.8ms | ActiveRecord: 0.2ms | Allocations: 7172)


Started GET "/allergens" for ::1 at 2022-12-28 15:48:21 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 55.0ms | Allocations: 44656)
  Rendered allergens/index.html.erb within layouts/application (Duration: 58.3ms | Allocations: 46038)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 70.3ms | Allocations: 50337)
Completed 200 OK in 72ms (Views: 71.1ms | ActiveRecord: 0.3ms | Allocations: 51149)


Started GET "/products/new" for ::1 at 2022-12-28 15:48:23 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 205)
  Rendered products/_form.html.erb (Duration: 2.2ms | Allocations: 1060)
  Rendered products/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1557)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.6ms | Allocations: 5340)
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 5696)


Started POST "/products" for ::1 at 2022-12-28 15:48:33 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b c"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.1ms | Allocations: 304)
  Rendered products/_form.html.erb (Duration: 2.2ms | Allocations: 1145)
  Rendered products/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1569)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 5344)
Completed 422 Unprocessable Entity in 16ms (Views: 12.7ms | ActiveRecord: 0.0ms | Allocations: 6436)


Started GET "/allergens" for ::1 at 2022-12-28 15:48:49 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 36.7ms | Allocations: 44256)
  Rendered allergens/index.html.erb within layouts/application (Duration: 40.0ms | Allocations: 45204)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 43.1ms | Allocations: 49157)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.4ms | Allocations: 49429)


Started GET "/products/new" for ::1 at 2022-12-28 15:48:51 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 974)
  Rendered products/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1105)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 4888)
Completed 200 OK in 13ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 5160)


Started POST "/products" for ::1 at 2022-12-28 15:49:24 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1\njust checking,\nwater***\n\n\n\nformaldehyde"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 74]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 426]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 427]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 428]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 429]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 430]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 431]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 432]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 433]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 74]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1\njust checking,\nwater***\n\n\n\nformaldehyde"], ["created_at", "2022-12-28 20:49:24.489943"], ["updated_at", "2022-12-28 20:49:24.489943"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 75], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 20:49:24.513224"], ["updated_at", "2022-12-28 20:49:24.513224"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 75], ["reactive_substances", " "], ["reactive_ingredient", "JUST CHECKING,"], ["created_at", "2022-12-28 20:49:24.517400"], ["updated_at", "2022-12-28 20:49:24.517400"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 75], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:24.521523"], ["updated_at", "2022-12-28 20:49:24.521523"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 75], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:24.528102"], ["updated_at", "2022-12-28 20:49:24.528102"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 75], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:24.529872"], ["updated_at", "2022-12-28 20:49:24.529872"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 75], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:24.531288"], ["updated_at", "2022-12-28 20:49:24.531288"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/75
Completed 302 Found in 46ms (ActiveRecord: 6.2ms | Allocations: 32573)


Started GET "/products/75" for ::1 at 2022-12-28 15:49:24 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"75"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 75) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 179)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking,' OR reactive_substances ILIKE 'just checking,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking,' OR reactive_substances ILIKE 'just checking,')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.0ms | Allocations: 27)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.1ms | Allocations: 2180)
  Rendered products/show.html.erb within layouts/application (Duration: 7.9ms | Allocations: 9895)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.2ms | Allocations: 13910)
Completed 200 OK in 11ms (Views: 8.8ms | ActiveRecord: 1.7ms | Allocations: 14699)


Started GET "/products/75/edit" for ::1 at 2022-12-28 15:49:37 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"75"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.6ms | Allocations: 1210)
  Rendered products/edit.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1362)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 5137)
Completed 200 OK in 16ms (Views: 11.7ms | ActiveRecord: 0.3ms | Allocations: 5953)


Started PATCH "/products/75" for ::1 at 2022-12-28 15:49:49 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1\njust checking,   \nwater***\n\n\n\nformaldehyde"}, "commit"=>"Submit", "id"=>"75"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.6ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "sub1\njust checking,   \nwater***\n\n\n\nformaldehyde"], ["updated_at", "2022-12-28 20:49:49.871564"], ["id", 75]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 434]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 435]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 436]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 437]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 438]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 439]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 75], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 20:49:49.890127"], ["updated_at", "2022-12-28 20:49:49.890127"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 75], ["reactive_substances", " "], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:49:49.896372"], ["updated_at", "2022-12-28 20:49:49.896372"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 75], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:49:49.898840"], ["updated_at", "2022-12-28 20:49:49.898840"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.7ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 75], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:49.904917"], ["updated_at", "2022-12-28 20:49:49.904917"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 75], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:49.907812"], ["updated_at", "2022-12-28 20:49:49.907812"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 75], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:49.909823"], ["updated_at", "2022-12-28 20:49:49.909823"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 75], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:49.911998"], ["updated_at", "2022-12-28 20:49:49.911998"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/75
Completed 302 Found in 48ms (ActiveRecord: 7.2ms | Allocations: 28482)


Started GET "/products/75" for ::1 at 2022-12-28 15:49:49 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"75"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 75) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 178)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2)[0m  [["id", 14], ["id", 22]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [2 times] (Duration: 0.2ms | Allocations: 197)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.8ms | Allocations: 2180)
  Rendered products/show.html.erb within layouts/application (Duration: 12.4ms | Allocations: 10090)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 16.4ms | Allocations: 14061)
Completed 200 OK in 18ms (Views: 14.5ms | ActiveRecord: 2.4ms | Allocations: 14827)


Started GET "/products/75/edit" for ::1 at 2022-12-28 15:49:54 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"75"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.5ms | Allocations: 1066)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 1126)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 4952)
Completed 200 OK in 11ms (Views: 8.3ms | ActiveRecord: 0.2ms | Allocations: 5732)


Started PATCH "/products/75" for ::1 at 2022-12-28 15:49:59 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1\njust checking,   \n\n\nwater***\n\n\n\nformaldehyde"}, "commit"=>"Submit", "id"=>"75"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "sub1\njust checking,   \n\n\nwater***\n\n\n\nformaldehyde"], ["updated_at", "2022-12-28 20:49:59.020173"], ["id", 75]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 440]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 441]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 442]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 443]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 444]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 445]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 446]]
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 75], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 20:49:59.042321"], ["updated_at", "2022-12-28 20:49:59.042321"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 75], ["reactive_substances", " "], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:49:59.049807"], ["updated_at", "2022-12-28 20:49:59.049807"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 75], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 20:49:59.052910"], ["updated_at", "2022-12-28 20:49:59.052910"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 75], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:59.061311"], ["updated_at", "2022-12-28 20:49:59.061311"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 75], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:59.066216"], ["updated_at", "2022-12-28 20:49:59.066216"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 75], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:59.068881"], ["updated_at", "2022-12-28 20:49:59.068881"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 75], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 20:49:59.071554"], ["updated_at", "2022-12-28 20:49:59.071554"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/75
Completed 302 Found in 60ms (ActiveRecord: 8.1ms | Allocations: 29004)


Started GET "/products/75" for ::1 at 2022-12-28 15:49:59 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"75"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 75], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 75) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.9ms | Allocations: 179)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2)[0m  [["id", 14], ["id", 22]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [2 times] (Duration: 0.3ms | Allocations: 197)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'water' OR reactive_substances ILIKE 'water') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.5ms | Allocations: 2180)
  Rendered products/show.html.erb within layouts/application (Duration: 13.8ms | Allocations: 10095)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 16.8ms | Allocations: 14149)
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 2.3ms | Allocations: 14915)


Started GET "/products/new" for ::1 at 2022-12-28 15:50:07 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 993)
  Rendered products/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1127)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 4910)
Completed 200 OK in 11ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 5185)


Started POST "/products" for ::1 at 2022-12-28 15:50:13 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b c"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.9ms | Allocations: 347)
  Rendered products/_form.html.erb (Duration: 2.3ms | Allocations: 1156)
  Rendered products/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1623)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 5398)
Completed 422 Unprocessable Entity in 16ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 6475)


Started POST "/products" for ::1 at 2022-12-28 15:50:34 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b c d e\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 75]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 447]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 448]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 449]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 450]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 451]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 452]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 453]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 75]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "a b c d e\n"], ["created_at", "2022-12-28 20:50:34.399660"], ["updated_at", "2022-12-28 20:50:34.399660"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 76], ["reactive_substances", " "], ["reactive_ingredient", "A B C D E"], ["created_at", "2022-12-28 20:50:34.425080"], ["updated_at", "2022-12-28 20:50:34.425080"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/76
Completed 302 Found in 43ms (ActiveRecord: 12.0ms | Allocations: 17241)


Started GET "/products/76" for ::1 at 2022-12-28 15:50:34 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"76"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 76], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 76) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b c d e' OR reactive_substances ILIKE 'a b c d e') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b c d e' OR reactive_substances ILIKE 'a b c d e')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.0ms | Allocations: 27)
  Rendered products/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 3167)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 6.5ms | Allocations: 7197)
Completed 200 OK in 8ms (Views: 5.8ms | ActiveRecord: 1.1ms | Allocations: 7965)


Started GET "/products/new" for ::1 at 2022-12-28 15:50:45 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 2.8ms | Allocations: 1039)
  Rendered products/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1170)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 4953)
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.0ms | Allocations: 5226)


Started POST "/products" for ::1 at 2022-12-28 15:50:54 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 347)
  Rendered products/_form.html.erb (Duration: 2.4ms | Allocations: 1156)
  Rendered products/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1623)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 5398)
Completed 422 Unprocessable Entity in 17ms (Views: 12.6ms | ActiveRecord: 0.0ms | Allocations: 6479)


Started POST "/products" for ::1 at 2022-12-28 15:51:00 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 76]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 454]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 76]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.2ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "a b\n"], ["created_at", "2022-12-28 20:51:00.294756"], ["updated_at", "2022-12-28 20:51:00.294756"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.8ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 77], ["reactive_substances", "Tonka bean camphor , Tonka bean camphor "], ["reactive_ingredient", "A B"], ["created_at", "2022-12-28 20:51:00.308730"], ["updated_at", "2022-12-28 20:51:00.308730"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 14], ["product_id", 77], ["reactive_substances", " "], ["reactive_ingredient", "A B"], ["created_at", "2022-12-28 20:51:00.309966"], ["updated_at", "2022-12-28 20:51:00.309966"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/77
Completed 302 Found in 18ms (ActiveRecord: 3.0ms | Allocations: 11237)


Started GET "/products/77" for ::1 at 2022-12-28 15:51:00 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"77"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 77], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 77) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b' OR reactive_substances ILIKE 'a b') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b' OR reactive_substances ILIKE 'a b')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2)[0m  [["id", 9], ["id", 14]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [2 times] (Duration: 0.6ms | Allocations: 512)
  Rendered products/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 3669)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 11.1ms | Allocations: 7696)
Completed 200 OK in 13ms (Views: 10.1ms | ActiveRecord: 1.7ms | Allocations: 8463)


Started GET "/allergens" for ::1 at 2022-12-28 15:52:54 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 31.7ms | Allocations: 44349)
  Rendered allergens/index.html.erb within layouts/application (Duration: 33.7ms | Allocations: 45465)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 36.9ms | Allocations: 49745)
Completed 200 OK in 39ms (Views: 37.8ms | ActiveRecord: 0.3ms | Allocations: 50428)


Started DELETE "/allergens/14" for ::1 at 2022-12-28 15:53:03 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"14"}
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 14]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 456]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.2ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 14]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 18ms (ActiveRecord: 2.3ms | Allocations: 5818)


Started GET "/allergens" for ::1 at 2022-12-28 15:53:03 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 40.7ms | Allocations: 43879)
  Rendered allergens/index.html.erb within layouts/application (Duration: 42.9ms | Allocations: 44817)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 46.5ms | Allocations: 48842)
Completed 200 OK in 47ms (Views: 46.6ms | ActiveRecord: 0.3ms | Allocations: 49131)


Started GET "/products/new" for ::1 at 2022-12-28 15:53:06 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered products/_form.html.erb (Duration: 4.6ms | Allocations: 1064)
  Rendered products/new.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1196)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 12.8ms | Allocations: 4979)
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.0ms | Allocations: 5257)


Started POST "/products" for ::1 at 2022-12-28 15:53:13 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 77]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 455]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 77]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "a b\n"], ["created_at", "2022-12-28 20:53:13.870430"], ["updated_at", "2022-12-28 20:53:13.870430"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 78], ["reactive_substances", "Tonka bean camphor , Tonka bean camphor "], ["reactive_ingredient", "A B"], ["created_at", "2022-12-28 20:53:13.895142"], ["updated_at", "2022-12-28 20:53:13.895142"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/78
Completed 302 Found in 32ms (ActiveRecord: 3.4ms | Allocations: 9695)


Started GET "/products/78" for ::1 at 2022-12-28 15:53:13 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"78"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 78], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 78) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b' OR reactive_substances ILIKE 'a b') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b' OR reactive_substances ILIKE 'a b')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.5ms | Allocations: 498)
  Rendered products/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 3669)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 7641)
Completed 200 OK in 14ms (Views: 10.2ms | ActiveRecord: 1.2ms | Allocations: 8407)


Started GET "/allergens" for ::1 at 2022-12-28 15:53:18 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 51.8ms | Allocations: 43880)
  Rendered allergens/index.html.erb within layouts/application (Duration: 55.6ms | Allocations: 44815)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 59.6ms | Allocations: 48844)
Completed 200 OK in 61ms (Views: 59.7ms | ActiveRecord: 0.5ms | Allocations: 49114)


Started GET "/allergens/new" for ::1 at 2022-12-28 15:53:20 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 16)
  Rendered allergens/_form.html.erb (Duration: 5.6ms | Allocations: 1409)
  Rendered allergens/new.html.erb within layouts/application (Duration: 7.5ms | Allocations: 1745)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 13.7ms | Allocations: 5528)
Completed 200 OK in 16ms (Views: 14.3ms | ActiveRecord: 0.0ms | Allocations: 5886)


Started POST "/allergens" for ::1 at 2022-12-28 15:53:33 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Peroxide", "substances"=>"peroxide; "}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.5ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Peroxide"], ["substances", "peroxide; "], ["created_at", "2022-12-28 20:53:33.634471"], ["updated_at", "2022-12-28 20:53:33.634471"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/23
Completed 302 Found in 9ms (ActiveRecord: 1.0ms | Allocations: 2510)


Started GET "/allergens/23" for ::1 at 2022-12-28 15:53:33 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"23"}
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 0.6ms | Allocations: 400)
  Rendered allergens/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 685)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 5.8ms | Allocations: 4712)
Completed 200 OK in 8ms (Views: 6.0ms | ActiveRecord: 0.2ms | Allocations: 5535)


Started GET "/allergens" for ::1 at 2022-12-28 15:53:35 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 49.9ms | Allocations: 44257)
  Rendered allergens/index.html.erb within layouts/application (Duration: 54.2ms | Allocations: 45203)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 57.8ms | Allocations: 49204)
Completed 200 OK in 59ms (Views: 57.9ms | ActiveRecord: 0.5ms | Allocations: 49474)


Started GET "/products/new" for ::1 at 2022-12-28 15:53:37 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 9.6ms | Allocations: 980)
  Rendered products/new.html.erb within layouts/application (Duration: 10.2ms | Allocations: 1111)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 32.5ms | Allocations: 4894)
Completed 200 OK in 34ms (Views: 33.2ms | ActiveRecord: 0.0ms | Allocations: 5167)


Started POST "/products" for ::1 at 2022-12-28 15:53:44 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 78]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 457]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 78]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.4ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "a b\n"], ["created_at", "2022-12-28 20:53:44.511217"], ["updated_at", "2022-12-28 20:53:44.511217"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:80:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 79], ["reactive_substances", "Tonka bean camphor , Tonka bean camphor "], ["reactive_ingredient", "A B"], ["created_at", "2022-12-28 20:53:44.554411"], ["updated_at", "2022-12-28 20:53:44.554411"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 23], ["product_id", 79], ["reactive_substances", " "], ["reactive_ingredient", "A B"], ["created_at", "2022-12-28 20:53:44.556799"], ["updated_at", "2022-12-28 20:53:44.556799"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/79
Completed 302 Found in 50ms (ActiveRecord: 3.9ms | Allocations: 11268)


Started GET "/products/79" for ::1 at 2022-12-28 15:53:44 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"79"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 79], ["LIMIT", 1]]
  â†³ app/models/product.rb:67:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 79) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b' OR reactive_substances ILIKE 'a b') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b' OR reactive_substances ILIKE 'a b')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2)[0m  [["id", 9], ["id", 23]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [2 times] (Duration: 0.4ms | Allocations: 513)
  Rendered products/show.html.erb within layouts/application (Duration: 5.3ms | Allocations: 3672)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.0ms | Allocations: 7711)
Completed 200 OK in 10ms (Views: 7.6ms | ActiveRecord: 1.9ms | Allocations: 8477)


Started GET "/allergens" for ::1 at 2022-12-28 15:54:54 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 20.8ms | Allocations: 44357)
  Rendered allergens/index.html.erb within layouts/application (Duration: 34.0ms | Allocations: 47077)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 37.3ms | Allocations: 51367)
Completed 200 OK in 40ms (Views: 27.1ms | ActiveRecord: 10.8ms | Allocations: 53529)


Started GET "/products/new" for ::1 at 2022-12-28 15:54:58 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered products/_form.html.erb (Duration: 2.3ms | Allocations: 1289)
  Rendered products/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1440)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 8.9ms | Allocations: 5431)
Completed 200 OK in 22ms (Views: 10.1ms | ActiveRecord: 2.7ms | Allocations: 9071)


Started POST "/products" for ::1 at 2022-12-28 15:55:10 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 79]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 458]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 459]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 79]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "a b\n"], ["created_at", "2022-12-28 20:55:10.849965"], ["updated_at", "2022-12-28 20:55:10.849965"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:79:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  â†³ app/models/product.rb:84:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 80], ["reactive_substances", "Tonka bean camphor , Tonka bean camphor "], ["reactive_ingredient", "A B"], ["created_at", "2022-12-28 20:55:10.875747"], ["updated_at", "2022-12-28 20:55:10.875747"]]
  â†³ app/models/product.rb:84:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  â†³ app/models/product.rb:84:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 23], ["product_id", 80], ["reactive_substances", " "], ["reactive_ingredient", "A B"], ["created_at", "2022-12-28 20:55:10.878238"], ["updated_at", "2022-12-28 20:55:10.878238"]]
  â†³ app/models/product.rb:84:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Completed 500 Internal Server Error in 32ms (ActiveRecord: 6.5ms | Allocations: 19262)


  
ZeroDivisionError (divided by 0):
  
app/models/product.rb:91:in `/'
app/models/product.rb:91:in `check_for_allergens'
app/models/product.rb:103:in `block in <class:Product>'
app/controllers/products_controller.rb:49:in `create'
Started PUT "/__web_console/repl_sessions/1bd1844d1a9f1a39e09418d23f183c7a" for ::1 at 2022-12-28 15:55:16 -0500
Started PUT "/__web_console/repl_sessions/1bd1844d1a9f1a39e09418d23f183c7a" for ::1 at 2022-12-28 15:55:18 -0500
Started PUT "/__web_console/repl_sessions/1bd1844d1a9f1a39e09418d23f183c7a" for ::1 at 2022-12-28 15:55:18 -0500
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/1bd1844d1a9f1a39e09418d23f183c7a" for ::1 at 2022-12-28 15:56:56 -0500
  [1m[36mReaction Load (1.1ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
Started GET "/" for ::1 at 2022-12-28 17:57:47 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (1.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 21.5ms | Allocations: 44866)
  Rendered allergens/index.html.erb within layouts/application (Duration: 50.8ms | Allocations: 50207)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 72.0ms | Allocations: 77920)
Completed 200 OK in 89ms (Views: 63.7ms | ActiveRecord: 13.3ms | Allocations: 83214)


Started GET "/products/new" for ::1 at 2022-12-28 17:57:58 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 3.9ms | Allocations: 3144)
  Rendered products/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 3768)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 6.6ms | Allocations: 7765)
Completed 200 OK in 16ms (Views: 7.2ms | ActiveRecord: 4.9ms | Allocations: 12769)


Started POST "/products" for ::1 at 2022-12-28 17:58:35 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 79]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.6ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 458]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 459]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 79]]
  â†³ app/models/product.rb:96:in `block in <class:Product>'
  [1m[36mProduct Create (0.9ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "a b\n"], ["created_at", "2022-12-28 22:58:35.211941"], ["updated_at", "2022-12-28 22:58:35.211941"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:102:in `block in <class:Product>'
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:79:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Completed 500 Internal Server Error in 45ms (ActiveRecord: 18.2ms | Allocations: 30580)


  
ZeroDivisionError (divided by 0):
  
app/models/product.rb:82:in `/'
app/models/product.rb:82:in `block (2 levels) in check_for_allergens'
app/models/product.rb:79:in `block in check_for_allergens'
app/models/product.rb:76:in `each'
app/models/product.rb:76:in `check_for_allergens'
app/models/product.rb:103:in `block in <class:Product>'
app/controllers/products_controller.rb:49:in `create'
Started PUT "/__web_console/repl_sessions/8a477a51b5c6a200791c6e960d3675e7" for ::1 at 2022-12-28 17:58:40 -0500
Started PUT "/__web_console/repl_sessions/8a477a51b5c6a200791c6e960d3675e7" for ::1 at 2022-12-28 17:58:42 -0500
Started PUT "/__web_console/repl_sessions/8a477a51b5c6a200791c6e960d3675e7" for ::1 at 2022-12-28 17:58:51 -0500
Started PUT "/__web_console/repl_sessions/8a477a51b5c6a200791c6e960d3675e7" for ::1 at 2022-12-28 17:58:52 -0500
Started GET "/" for ::1 at 2022-12-28 18:02:09 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 49.6ms | Allocations: 44863)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.3ms | Allocations: 50204)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 81.2ms | Allocations: 77457)
Completed 200 OK in 86ms (Views: 75.7ms | ActiveRecord: 6.5ms | Allocations: 82751)


Started GET "/products/new" for ::1 at 2022-12-28 18:02:12 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 9.9ms | Allocations: 3134)
  Rendered products/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3758)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 18.9ms | Allocations: 7755)
Completed 200 OK in 38ms (Views: 20.5ms | ActiveRecord: 5.5ms | Allocations: 12545)


Started POST "/products" for ::1 at 2022-12-28 18:02:25 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 79]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 458]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.1ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 459]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.1ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 79]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "a b\n"], ["created_at", "2022-12-28 23:02:25.647711"], ["updated_at", "2022-12-28 23:02:25.647711"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:103:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:79:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 82], ["reactive_substances", "Tonka bean camphor , Tonka bean camphor "], ["reactive_ingredient", "A B"], ["created_at", "2022-12-28 23:02:25.688128"], ["updated_at", "2022-12-28 23:02:25.688128"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 23], ["product_id", 82], ["reactive_substances", " "], ["reactive_ingredient", "A B"], ["created_at", "2022-12-28 23:02:25.691077"], ["updated_at", "2022-12-28 23:02:25.691077"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Completed 500 Internal Server Error in 49ms (ActiveRecord: 9.6ms | Allocations: 25658)


  
ZeroDivisionError (divided by 0):
  
app/models/product.rb:92:in `/'
app/models/product.rb:92:in `check_for_allergens'
app/models/product.rb:104:in `block in <class:Product>'
app/controllers/products_controller.rb:49:in `create'
Started PUT "/__web_console/repl_sessions/6777f5b7c57a109bfd4ba2ef136c09dd" for ::1 at 2022-12-28 18:03:07 -0500
Started PUT "/__web_console/repl_sessions/6777f5b7c57a109bfd4ba2ef136c09dd" for ::1 at 2022-12-28 18:03:25 -0500
Started PUT "/__web_console/repl_sessions/6777f5b7c57a109bfd4ba2ef136c09dd" for ::1 at 2022-12-28 18:03:33 -0500
Started PUT "/__web_console/repl_sessions/6777f5b7c57a109bfd4ba2ef136c09dd" for ::1 at 2022-12-28 18:03:37 -0500
Started PUT "/__web_console/repl_sessions/6777f5b7c57a109bfd4ba2ef136c09dd" for ::1 at 2022-12-28 18:03:39 -0500
Started PUT "/__web_console/repl_sessions/6777f5b7c57a109bfd4ba2ef136c09dd" for ::1 at 2022-12-28 18:03:39 -0500
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/" for ::1 at 2022-12-28 18:08:20 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 48.5ms | Allocations: 44863)
  Rendered allergens/index.html.erb within layouts/application (Duration: 58.2ms | Allocations: 50204)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 91.3ms | Allocations: 77507)
Completed 200 OK in 98ms (Views: 86.1ms | ActiveRecord: 6.6ms | Allocations: 82916)


Started GET "/products/new" for ::1 at 2022-12-28 18:08:22 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 7.5ms | Allocations: 3131)
  Rendered products/new.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3755)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 7773)
Completed 200 OK in 30ms (Views: 15.5ms | ActiveRecord: 5.7ms | Allocations: 12559)


Started POST "/products" for ::1 at 2022-12-28 18:08:28 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 79]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 458]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 459]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 79]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Create (0.8ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "a b\n"], ["created_at", "2022-12-28 23:08:28.306812"], ["updated_at", "2022-12-28 23:08:28.306812"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:103:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:79:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 9], ["product_id", 83], ["reactive_substances", "Tonka bean camphor , Tonka bean camphor "], ["reactive_ingredient", "A B"], ["created_at", "2022-12-28 23:08:28.345841"], ["updated_at", "2022-12-28 23:08:28.345841"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/83
Completed 302 Found in 45ms (ActiveRecord: 8.5ms | Allocations: 23583)


Started GET "/products/83" for ::1 at 2022-12-28 18:08:28 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"83"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 83], ["LIMIT", 1]]
  â†³ app/models/product.rb:66:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 83) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b' OR reactive_substances ILIKE 'a b') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'a b' OR reactive_substances ILIKE 'a b')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 1.8ms | Allocations: 765)
  Rendered products/show.html.erb within layouts/application (Duration: 9.6ms | Allocations: 4710)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 13.8ms | Allocations: 8844)
Completed 200 OK in 17ms (Views: 12.4ms | ActiveRecord: 2.1ms | Allocations: 10357)


Started GET "/products/new" for ::1 at 2022-12-28 18:08:31 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 3.2ms | Allocations: 1049)
  Rendered products/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1180)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 4969)
Completed 200 OK in 12ms (Views: 11.1ms | ActiveRecord: 0.0ms | Allocations: 5252)


Started POST "/products" for ::1 at 2022-12-28 18:09:02 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 83]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 464]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 83]]
  â†³ app/models/product.rb:97:in `block in <class:Product>'
  [1m[36mProduct Create (0.3ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde\n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 23:09:02.667807"], ["updated_at", "2022-12-28 23:09:02.667807"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:103:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:79:in `block in check_for_allergens'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.8ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 84], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 23:09:02.689340"], ["updated_at", "2022-12-28 23:09:02.689340"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:79:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 84], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 23:09:02.698478"], ["updated_at", "2022-12-28 23:09:02.698478"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:79:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 84], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:09:02.703844"], ["updated_at", "2022-12-28 23:09:02.703844"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 84], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:09:02.707671"], ["updated_at", "2022-12-28 23:09:02.707671"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 84], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:09:02.710439"], ["updated_at", "2022-12-28 23:09:02.710439"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 84], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:09:02.712839"], ["updated_at", "2022-12-28 23:09:02.712839"]]
  â†³ app/models/product.rb:85:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:79:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:79:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:79:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/84
Completed 302 Found in 57ms (ActiveRecord: 8.0ms | Allocations: 30766)


Started GET "/products/84" for ::1 at 2022-12-28 18:09:02 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"84"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 84], ["LIMIT", 1]]
  â†³ app/models/product.rb:66:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 84) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.5ms | Allocations: 179)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 180)
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (12.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.9ms | Allocations: 2180)
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test,' OR reactive_substances ILIKE 'test,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test2' OR reactive_substances ILIKE 'test2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 28.1ms | Allocations: 11216)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 31.9ms | Allocations: 15200)
Completed 200 OK in 34ms (Views: 17.6ms | ActiveRecord: 14.8ms | Allocations: 15967)


Started GET "/products/new" for ::1 at 2022-12-28 18:09:33 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 2.0ms | Allocations: 977)
  Rendered products/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1108)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.3ms | Allocations: 4891)
Completed 200 OK in 10ms (Views: 8.8ms | ActiveRecord: 0.0ms | Allocations: 5163)


Started POST "/products" for ::1 at 2022-12-28 18:09:41 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"a b;"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.5ms | Allocations: 615)
  Rendered products/_form.html.erb (Duration: 2.9ms | Allocations: 1444)
  Rendered products/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2179)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 5954)
Completed 422 Unprocessable Entity in 15ms (Views: 12.0ms | ActiveRecord: 0.0ms | Allocations: 7066)


Started GET "/" for ::1 at 2022-12-28 18:19:31 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 18.9ms | Allocations: 44865)
  Rendered allergens/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 50205)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 54.5ms | Allocations: 77900)
Completed 200 OK in 88ms (Views: 60.3ms | ActiveRecord: 4.0ms | Allocations: 83299)


Started GET "/products/new" for ::1 at 2022-12-28 18:19:33 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 214)
  Rendered products/_form.html.erb (Duration: 10.0ms | Allocations: 3140)
  Rendered products/new.html.erb within layouts/application (Duration: 12.5ms | Allocations: 3764)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 7761)
Completed 200 OK in 32ms (Views: 18.7ms | ActiveRecord: 2.8ms | Allocations: 12540)


Started POST "/products" for ::1 at 2022-12-28 18:20:00 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde    \n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 84]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 465]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 466]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 467]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 468]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 469]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 470]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mProduct Destroy (0.2ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 84]]
  â†³ app/models/product.rb:93:in `block in <class:Product>'
  [1m[36mProduct Create (0.5ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "sub1,   \njust    checking,     formaldehyde    \n\n\ntest,\ntest2\n$$$ water ***!"], ["created_at", "2022-12-28 23:20:00.783613"], ["updated_at", "2022-12-28 23:20:00.783613"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 85], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 23:20:00.814835"], ["updated_at", "2022-12-28 23:20:00.814835"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 85], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 23:20:00.817192"], ["updated_at", "2022-12-28 23:20:00.817192"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.1ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 85], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:20:00.819043"], ["updated_at", "2022-12-28 23:20:00.819043"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 85], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:20:00.820383"], ["updated_at", "2022-12-28 23:20:00.820383"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 85], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:20:00.821986"], ["updated_at", "2022-12-28 23:20:00.821986"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 85], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:20:00.823511"], ["updated_at", "2022-12-28 23:20:00.823511"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/85
Completed 302 Found in 84ms (ActiveRecord: 22.6ms | Allocations: 58775)


Started GET "/products/85" for ::1 at 2022-12-28 18:20:00 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"85"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:62:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 85) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.6ms | Allocations: 566)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 180)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 0.8ms | Allocations: 2180)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test,' OR reactive_substances ILIKE 'test,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test2' OR reactive_substances ILIKE 'test2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 9.7ms | Allocations: 12898)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 157)
  Rendered layout layouts/application.html.erb (Duration: 29.0ms | Allocations: 40227)
Completed 200 OK in 32ms (Views: 27.2ms | ActiveRecord: 3.0ms | Allocations: 43401)


Started GET "/products/85/edit" for ::1 at 2022-12-28 18:20:17 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"85"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 10.8ms | Allocations: 3130)
  Rendered products/edit.html.erb within layouts/application (Duration: 12.1ms | Allocations: 3347)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 17.3ms | Allocations: 7250)
Completed 200 OK in 22ms (Views: 18.1ms | ActiveRecord: 0.3ms | Allocations: 8157)


Started PATCH "/products/85" for ::1 at 2022-12-28 18:20:36 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde    ,sub2, \n\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit", "id"=>"85"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.3ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "sub1,   \njust    checking,     formaldehyde    ,sub2, \n\n\n\ntest,\ntest2\n$$$ water ***!"], ["updated_at", "2022-12-28 23:20:36.585914"], ["id", 85]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 471]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 472]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 473]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 474]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 475]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 476]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 85], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 23:20:36.604727"], ["updated_at", "2022-12-28 23:20:36.604727"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 85], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 23:20:36.611912"], ["updated_at", "2022-12-28 23:20:36.611912"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 85], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE ,SUB2"], ["created_at", "2022-12-28 23:20:36.616559"], ["updated_at", "2022-12-28 23:20:36.616559"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/85
Completed 302 Found in 45ms (ActiveRecord: 5.2ms | Allocations: 27570)


Started GET "/products/85" for ::1 at 2022-12-28 18:20:36 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"85"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:62:in `causes_reaction'
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 85) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.3ms | Allocations: 236)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.1ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.2ms | Allocations: 180)
  [1m[36mReaction Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde ,sub2' OR reactive_substances ILIKE 'formaldehyde ,sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.3ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde ,sub2' OR reactive_substances ILIKE 'formaldehyde ,sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 72)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test,' OR reactive_substances ILIKE 'test,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test2' OR reactive_substances ILIKE 'test2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 21.2ms | Allocations: 9095)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 24.8ms | Allocations: 13119)
Completed 200 OK in 27ms (Views: 21.7ms | ActiveRecord: 3.6ms | Allocations: 13912)


Started GET "/products/85/edit" for ::1 at 2022-12-28 18:20:48 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"85"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 2.1ms | Allocations: 1129)
  Rendered products/edit.html.erb within layouts/application (Duration: 2.3ms | Allocations: 1189)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 4965)
Completed 200 OK in 12ms (Views: 9.1ms | ActiveRecord: 0.3ms | Allocations: 5743)


Started PATCH "/products/85" for ::1 at 2022-12-28 18:21:20 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde    ,sub2, \n\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit", "id"=>"85"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 477]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 478]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 479]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 85], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 23:21:20.317309"], ["updated_at", "2022-12-28 23:21:20.317309"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 85], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 23:21:20.320582"], ["updated_at", "2022-12-28 23:21:20.320582"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 85], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE ,SUB2"], ["created_at", "2022-12-28 23:21:20.322614"], ["updated_at", "2022-12-28 23:21:20.322614"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/85
Completed 302 Found in 73ms (ActiveRecord: 19.9ms | Allocations: 46825)


Started GET "/products/85" for ::1 at 2022-12-28 18:21:20 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"85"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:62:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 85) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.5ms | Allocations: 566)
  [1m[36mReaction Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 180)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde ,sub2' OR reactive_substances ILIKE 'formaldehyde ,sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde ,sub2' OR reactive_substances ILIKE 'formaldehyde ,sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.0ms | Allocations: 72)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test,' OR reactive_substances ILIKE 'test,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test2' OR reactive_substances ILIKE 'test2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 8.6ms | Allocations: 10702)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 157)
  Rendered layout layouts/application.html.erb (Duration: 26.9ms | Allocations: 38047)
Completed 200 OK in 30ms (Views: 25.0ms | ActiveRecord: 3.2ms | Allocations: 40589)


Started GET "/products/85/edit" for ::1 at 2022-12-28 18:21:51 -0500
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"85"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 7.4ms | Allocations: 1263)
  Rendered products/edit.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1441)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 5380)
Completed 200 OK in 32ms (Views: 12.7ms | ActiveRecord: 0.8ms | Allocations: 11178)


Started PATCH "/products/85" for ::1 at 2022-12-28 18:22:11 -0500
Processing by ProductsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"sub1,   \njust    checking,     formaldehyde    , sub2, \n\n\n\ntest,\ntest2\n$$$ water ***!"}, "commit"=>"Submit", "id"=>"85"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mProduct Update (0.5ms)[0m  [1m[33mUPDATE "products" SET "ingredients" = $1, "updated_at" = $2 WHERE "products"."id" = $3[0m  [["ingredients", "sub1,   \njust    checking,     formaldehyde    , sub2, \n\n\n\ntest,\ntest2\n$$$ water ***!"], ["updated_at", "2022-12-28 23:22:11.676571"], ["id", 85]]
  â†³ app/controllers/products_controller.rb:71:in `update'
  [1m[36mReaction Load (0.8ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 480]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 481]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 482]]
  â†³ app/models/product.rb:99:in `block in <class:Product>'
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 85], ["reactive_substances", "sub1"], ["reactive_ingredient", "SUB1"], ["created_at", "2022-12-28 23:22:11.714354"], ["updated_at", "2022-12-28 23:22:11.714354"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 85], ["reactive_substances", " just checking"], ["reactive_ingredient", "JUST CHECKING"], ["created_at", "2022-12-28 23:22:11.720692"], ["updated_at", "2022-12-28 23:22:11.720692"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 2], ["product_id", 85], ["reactive_substances", "4-Toluenesulfonamide-formaldehyde resin , Benzenesulfonamide, 4-methyl-, polymer with formaldehyde , Tosylamide/formaldehyde resin "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:22:11.725041"], ["updated_at", "2022-12-28 23:22:11.725041"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 4], ["product_id", 85], ["reactive_substances", "Formaldehyde, urea polymer , Urea formaldehyde polymer , Urea formaldehyde resin , Urea, paraformaldehyde polymer , Urea, polymer with 1-butanol and formaldehyde , Urea, polymer with formaldehyde"], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:22:11.727794"], ["updated_at", "2022-12-28 23:22:11.727794"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.2ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 5], ["product_id", 85], ["reactive_substances", "Formaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:22:11.729620"], ["updated_at", "2022-12-28 23:22:11.729620"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.3ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 6], ["product_id", 85], ["reactive_substances", "Aminoformaldehyde , Ammonioformaldehyde "], ["reactive_ingredient", "FORMALDEHYDE"], ["created_at", "2022-12-28 23:22:11.732254"], ["updated_at", "2022-12-28 23:22:11.732254"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 22], ["product_id", 85], ["reactive_substances", " sub2"], ["reactive_ingredient", "SUB2"], ["created_at", "2022-12-28 23:22:11.737045"], ["updated_at", "2022-12-28 23:22:11.737045"]]
  â†³ app/models/product.rb:81:in `block (2 levels) in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:75:in `block in check_for_allergens'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:71:in `update'
Redirected to http://localhost:3000/products/85
Completed 302 Found in 72ms (ActiveRecord: 13.0ms | Allocations: 43900)


Started GET "/products/85" for ::1 at 2022-12-28 18:22:11 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"85"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 85], ["LIMIT", 1]]
  â†³ app/models/product.rb:62:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 85) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub1' OR reactive_substances ILIKE 'sub1')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.5ms | Allocations: 447)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'just checking' OR reactive_substances ILIKE 'just checking')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 180)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.2ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'formaldehyde' OR reactive_substances ILIKE 'formaldehyde')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2, $3, $4)[0m  [["id", 2], ["id", 4], ["id", 5], ["id", 6]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [4 times] (Duration: 1.1ms | Allocations: 2180)
  [1m[36mReaction Exists? (1.7ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.4ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'sub2' OR reactive_substances ILIKE 'sub2')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mCACHE Allergen Load (0.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [1 times] (Duration: 0.1ms | Allocations: 178)
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test,' OR reactive_substances ILIKE 'test,') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'test2' OR reactive_substances ILIKE 'test2') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE ' water ' OR reactive_substances ILIKE ' water ') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  Rendered products/show.html.erb within layouts/application (Duration: 23.4ms | Allocations: 14280)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 25)
  Rendered layout layouts/application.html.erb (Duration: 26.6ms | Allocations: 18477)
Completed 200 OK in 28ms (Views: 21.8ms | ActiveRecord: 5.2ms | Allocations: 19421)


Started GET "/products/new" for ::1 at 2022-12-28 18:22:29 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 14)
  Rendered products/_form.html.erb (Duration: 1.6ms | Allocations: 1063)
  Rendered products/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 1194)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 7.9ms | Allocations: 4977)
Completed 200 OK in 9ms (Views: 8.3ms | ActiveRecord: 0.0ms | Allocations: 5250)


Started GET "/allergens" for ::1 at 2022-12-28 18:24:12 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 20.7ms | Allocations: 44355)
  Rendered allergens/index.html.erb within layouts/application (Duration: 27.5ms | Allocations: 46997)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 29.8ms | Allocations: 51292)
Completed 200 OK in 32ms (Views: 25.1ms | ActiveRecord: 5.1ms | Allocations: 53568)


Started GET "/allergens/new" for ::1 at 2022-12-28 18:24:20 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered allergens/_form.html.erb (Duration: 1.5ms | Allocations: 1632)
  Rendered allergens/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 2009)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 4.0ms | Allocations: 5991)
Completed 200 OK in 12ms (Views: 4.5ms | ActiveRecord: 3.9ms | Allocations: 9857)


Started POST "/allergens" for ::1 at 2022-12-28 18:25:03 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"testing newline", "substances"=>"sub1;sub2;\n\nsub3\n\nsub4"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.6ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "testing newline"], ["substances", "sub1;sub2;sub3sub4"], ["created_at", "2022-12-28 23:25:03.931611"], ["updated_at", "2022-12-28 23:25:03.931611"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/24
Completed 302 Found in 11ms (ActiveRecord: 7.5ms | Allocations: 5896)


Started GET "/allergens/24" for ::1 at 2022-12-28 18:25:03 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"24"}
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 0.8ms | Allocations: 951)
  Rendered allergens/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1372)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 34)
  Rendered layout layouts/application.html.erb (Duration: 3.7ms | Allocations: 5618)
Completed 200 OK in 5ms (Views: 4.2ms | ActiveRecord: 0.3ms | Allocations: 7558)


Started DELETE "/allergens/24" for ::1 at 2022-12-28 18:25:16 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"24"}
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 24]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.2ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 24]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 21ms (ActiveRecord: 3.1ms | Allocations: 6524)


Started GET "/allergens" for ::1 at 2022-12-28 18:25:16 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 39.6ms | Allocations: 44345)
  Rendered allergens/index.html.erb within layouts/application (Duration: 42.3ms | Allocations: 45536)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 47.9ms | Allocations: 49724)
Completed 200 OK in 49ms (Views: 47.9ms | ActiveRecord: 0.3ms | Allocations: 50122)


Started DELETE "/allergens/22" for ::1 at 2022-12-28 18:25:30 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"22"}
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 22]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 483]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 484]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 489]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.3ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 22]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 20ms (ActiveRecord: 4.0ms | Allocations: 7062)


Started GET "/allergens" for ::1 at 2022-12-28 18:25:31 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 36.4ms | Allocations: 43624)
  Rendered allergens/index.html.erb within layouts/application (Duration: 38.8ms | Allocations: 44562)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 41.9ms | Allocations: 48595)
Completed 200 OK in 43ms (Views: 41.9ms | ActiveRecord: 0.3ms | Allocations: 48869)


Started GET "/allergens/new" for ::1 at 2022-12-28 18:25:33 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 209)
  Rendered allergens/_form.html.erb (Duration: 9.1ms | Allocations: 3006)
  Rendered allergens/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3584)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 17.0ms | Allocations: 7497)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.0ms | Allocations: 7865)


Started GET "/allergens" for ::1 at 2022-12-28 18:25:56 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (5.0ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 39.3ms | Allocations: 43713)
  Rendered allergens/index.html.erb within layouts/application (Duration: 47.9ms | Allocations: 44785)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 51.0ms | Allocations: 48808)
Completed 200 OK in 52ms (Views: 46.5ms | ActiveRecord: 5.0ms | Allocations: 49156)


Started GET "/allergens/new" for ::1 at 2022-12-28 18:25:58 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 14)
  Rendered allergens/_form.html.erb (Duration: 1.7ms | Allocations: 995)
  Rendered allergens/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1126)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 15.1ms | Allocations: 4912)
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.0ms | Allocations: 5191)


Started GET "/allergens/new" for ::1 at 2022-12-28 18:27:17 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 201)
  Rendered allergens/_form.html.erb (Duration: 3.4ms | Allocations: 1501)
  Rendered allergens/new.html.erb within layouts/application (Duration: 6.0ms | Allocations: 2091)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 19.1ms | Allocations: 6541)
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.0ms | Allocations: 7401)


Started POST "/allergens" for ::1 at 2022-12-28 18:28:58 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\nsub2     \n\nsub3"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.9ms | Allocations: 568)
  Rendered allergens/_form.html.erb (Duration: 1.8ms | Allocations: 1582)
  Rendered allergens/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2588)
  Rendered layouts/_messages.html.erb (Duration: 0.7ms | Allocations: 142)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 7026)
Completed 422 Unprocessable Entity in 18ms (Views: 13.3ms | ActiveRecord: 0.0ms | Allocations: 8919)


Started POST "/allergens" for ::1 at 2022-12-28 18:29:16 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\nsub2     sub3"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 277)
  Rendered allergens/_form.html.erb (Duration: 2.3ms | Allocations: 1151)
  Rendered allergens/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1548)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.3ms | Allocations: 5323)
Completed 422 Unprocessable Entity in 16ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 6509)


Started GET "/allergens" for ::1 at 2022-12-28 18:50:53 -0500
Processing by AllergensController#index as HTML
Completed 500 Internal Server Error in 1ms (Allocations: 991)


  
SyntaxError (/Users/Gigi/ALLERGEN-CHECK/app/models/allergen.rb:31: syntax error, unexpected `end', expecting ')'
  end
  ^~~
/Users/Gigi/ALLERGEN-CHECK/app/models/allergen.rb:48: syntax error, unexpected end-of-input, expecting `end'):
  
app/models/allergen.rb:31: syntax error, unexpected `end', expecting ')'
app/models/allergen.rb:48: syntax error, unexpected end-of-input, expecting `end'
app/models/allergen.rb:31: syntax error, unexpected `end', expecting ')'
app/models/allergen.rb:48: syntax error, unexpected end-of-input, expecting `end'
app/models/allergen.rb:31: syntax error, unexpected `end', expecting ')'
app/models/allergen.rb:48: syntax error, unexpected end-of-input, expecting `end'
app/controllers/allergens_controller.rb:26:in `index'
Started GET "/" for ::1 at 2022-12-28 18:51:35 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 22.5ms | Allocations: 44549)
  Rendered allergens/index.html.erb within layouts/application (Duration: 33.4ms | Allocations: 49879)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 58.7ms | Allocations: 77667)
Completed 200 OK in 94ms (Views: 53.6ms | ActiveRecord: 6.5ms | Allocations: 83083)


Started GET "/allergens/new" for ::1 at 2022-12-28 18:51:37 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 11.1ms | Allocations: 3033)
  Rendered allergens/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 3640)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 21.2ms | Allocations: 7554)
Completed 200 OK in 23ms (Views: 21.7ms | ActiveRecord: 0.0ms | Allocations: 8028)


Started POST "/allergens" for ::1 at 2022-12-28 18:51:54 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1 sub2 sub3"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 380)
  Rendered allergens/_form.html.erb (Duration: 3.6ms | Allocations: 1239)
  Rendered allergens/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1788)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 12.5ms | Allocations: 5671)
Completed 422 Unprocessable Entity in 19ms (Views: 14.4ms | ActiveRecord: 0.0ms | Allocations: 7354)


Started POST "/allergens" for ::1 at 2022-12-28 18:52:16 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1;sub2    \n sub3\n\n\nsub4"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.6ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1;sub2     sub3sub4"], ["created_at", "2022-12-28 23:52:16.179845"], ["updated_at", "2022-12-28 23:52:16.179845"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/25
Completed 302 Found in 44ms (ActiveRecord: 7.7ms | Allocations: 11115)


Started GET "/allergens/25" for ::1 at 2022-12-28 18:52:16 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"25"}
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 0.8ms | Allocations: 984)
  Rendered allergens/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 1687)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 157)
  Rendered layout layouts/application.html.erb (Duration: 19.6ms | Allocations: 28799)
Completed 200 OK in 25ms (Views: 20.8ms | ActiveRecord: 0.6ms | Allocations: 33264)


Started GET "/allergens" for ::1 at 2022-12-28 18:52:33 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 37.8ms | Allocations: 44347)
  Rendered allergens/index.html.erb within layouts/application (Duration: 41.9ms | Allocations: 45568)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 45.1ms | Allocations: 49573)
Completed 200 OK in 47ms (Views: 45.4ms | ActiveRecord: 0.4ms | Allocations: 49946)


Started DELETE "/allergens/25" for ::1 at 2022-12-28 18:52:47 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"25"}
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 25]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.2ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 25]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 37ms (ActiveRecord: 3.5ms | Allocations: 10560)


Started GET "/allergens" for ::1 at 2022-12-28 18:52:47 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 27.0ms | Allocations: 44006)
  Rendered allergens/index.html.erb within layouts/application (Duration: 28.6ms | Allocations: 44973)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 32.4ms | Allocations: 49183)
Completed 200 OK in 33ms (Views: 32.4ms | ActiveRecord: 0.2ms | Allocations: 49504)


Started GET "/allergens/new" for ::1 at 2022-12-28 18:54:46 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 209)
  Rendered allergens/_form.html.erb (Duration: 18.6ms | Allocations: 6699)
  Rendered allergens/new.html.erb within layouts/application (Duration: 20.4ms | Allocations: 7301)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 23.4ms | Allocations: 11214)
Completed 200 OK in 25ms (Views: 23.9ms | ActiveRecord: 0.0ms | Allocations: 11602)


Started POST "/allergens" for ::1 at 2022-12-28 18:55:02 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\nsub2\n\n\nsub3"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 379)
  Rendered allergens/_form.html.erb (Duration: 2.4ms | Allocations: 1191)
  Rendered allergens/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1690)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.7ms | Allocations: 5467)
Completed 422 Unprocessable Entity in 15ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 6664)


Started GET "/allergens" for ::1 at 2022-12-28 18:57:05 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 0.8ms | Allocations: 1515)
  Rendered allergens/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 4234)
  Rendered layout layouts/application.html.erb (Duration: 6.9ms | Allocations: 4320)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 4.2ms | Allocations: 6588)


  
ActionView::Template::Error (divided by 0):
    17:   }
    18: </style>
    19: 
    20: <% substances = allergen.get_substances %>
    21: <table>
    22:   <!-- Panel displaying allergen and substances -->
    23:   <tr>
  
app/models/allergen.rb:31:in `/'
app/models/allergen.rb:31:in `get_substances'
app/views/shared/_allergen.html.erb:20
app/views/allergens/index.html.erb:13
Started GET "/" for ::1 at 2022-12-28 18:57:15 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 0.6ms | Allocations: 1251)
  Rendered allergens/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2288)
  Rendered layout layouts/application.html.erb (Duration: 4.9ms | Allocations: 2368)
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.3ms | Allocations: 2661)


  
ActionView::Template::Error (divided by 0):
    17:   }
    18: </style>
    19: 
    20: <% substances = allergen.get_substances %>
    21: <table>
    22:   <!-- Panel displaying allergen and substances -->
    23:   <tr>
  
app/models/allergen.rb:31:in `/'
app/models/allergen.rb:31:in `get_substances'
app/views/shared/_allergen.html.erb:20
app/views/allergens/index.html.erb:13
Started GET "/" for ::1 at 2022-12-28 18:57:16 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (1.1ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 0.8ms | Allocations: 1242)
  Rendered allergens/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2182)
  Rendered layout layouts/application.html.erb (Duration: 6.4ms | Allocations: 2261)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 1.1ms | Allocations: 2504)


  
ActionView::Template::Error (divided by 0):
    17:   }
    18: </style>
    19: 
    20: <% substances = allergen.get_substances %>
    21: <table>
    22:   <!-- Panel displaying allergen and substances -->
    23:   <tr>
  
app/models/allergen.rb:31:in `/'
app/models/allergen.rb:31:in `get_substances'
app/views/shared/_allergen.html.erb:20
app/views/allergens/index.html.erb:13
Started GET "/" for ::1 at 2022-12-28 18:57:35 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 0.9ms | Allocations: 1864)
  Rendered allergens/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 7196)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 7292)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 6.8ms | Allocations: 12538)


  
ActionView::Template::Error (divided by 0):
    17:   }
    18: </style>
    19: 
    20: <% substances = allergen.get_substances %>
    21: <table>
    22:   <!-- Panel displaying allergen and substances -->
    23:   <tr>
  
app/models/allergen.rb:31:in `/'
app/models/allergen.rb:31:in `get_substances'
app/views/shared/_allergen.html.erb:20
app/views/allergens/index.html.erb:13
Started GET "/" for ::1 at 2022-12-28 18:58:17 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 23.9ms | Allocations: 44549)
  Rendered allergens/index.html.erb within layouts/application (Duration: 60.7ms | Allocations: 49879)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 84.2ms | Allocations: 77758)
Completed 200 OK in 91ms (Views: 78.8ms | ActiveRecord: 6.6ms | Allocations: 83176)


Started GET "/allergens/new" for ::1 at 2022-12-28 19:04:13 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 214)
  Rendered allergens/_form.html.erb (Duration: 3.4ms | Allocations: 3089)
  Rendered allergens/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 3730)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 6.2ms | Allocations: 7728)
Completed 200 OK in 14ms (Views: 6.6ms | ActiveRecord: 5.0ms | Allocations: 11700)


Started POST "/allergens" for ::1 at 2022-12-28 19:04:23 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\nsub2"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 380)
  Rendered allergens/_form.html.erb (Duration: 2.3ms | Allocations: 1239)
  Rendered allergens/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1788)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 9.1ms | Allocations: 5671)
Completed 422 Unprocessable Entity in 13ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 7338)


Started GET "/" for ::1 at 2022-12-28 19:05:00 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 19.8ms | Allocations: 44552)
  Rendered allergens/index.html.erb within layouts/application (Duration: 43.7ms | Allocations: 49882)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 64.6ms | Allocations: 77007)
Completed 200 OK in 81ms (Views: 61.5ms | ActiveRecord: 6.2ms | Allocations: 82477)


Started GET "/allergens/new" for ::1 at 2022-12-28 19:05:12 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 8.5ms | Allocations: 3027)
  Rendered allergens/new.html.erb within layouts/application (Duration: 10.5ms | Allocations: 3634)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 15.8ms | Allocations: 7548)
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.0ms | Allocations: 8022)


Started POST "/allergens" for ::1 at 2022-12-28 19:05:22 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\nsub2"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.9ms | Allocations: 380)
  Rendered allergens/_form.html.erb (Duration: 2.6ms | Allocations: 1239)
  Rendered allergens/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1788)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 10.9ms | Allocations: 5671)
Completed 422 Unprocessable Entity in 15ms (Views: 11.8ms | ActiveRecord: 0.0ms | Allocations: 7342)


Started POST "/allergens" for ::1 at 2022-12-28 19:06:07 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1; sub2"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.6ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1; sub2"], ["created_at", "2022-12-29 00:06:08.037676"], ["updated_at", "2022-12-29 00:06:08.037676"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Completed 500 Internal Server Error in 42ms (ActiveRecord: 7.4ms | Allocations: 11423)


  
ZeroDivisionError (divided by 0):
  
app/models/allergen.rb:35:in `/'
app/models/allergen.rb:35:in `process_new_allergen_entry'
app/models/allergen.rb:54:in `block in <class:Allergen>'
app/controllers/allergens_controller.rb:53:in `create'
Started PUT "/__web_console/repl_sessions/c6722d144104d27c1d80a4a72f6d4f32" for ::1 at 2022-12-28 19:06:13 -0500
Started PUT "/__web_console/repl_sessions/c6722d144104d27c1d80a4a72f6d4f32" for ::1 at 2022-12-28 19:06:14 -0500
Started PUT "/__web_console/repl_sessions/c6722d144104d27c1d80a4a72f6d4f32" for ::1 at 2022-12-28 20:12:17 -0500
Started GET "/" for ::1 at 2022-12-28 20:42:34 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 49.4ms | Allocations: 44231)
  Rendered allergens/index.html.erb within layouts/application (Duration: 60.0ms | Allocations: 49569)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 85.3ms | Allocations: 76762)
Completed 200 OK in 91ms (Views: 79.8ms | ActiveRecord: 6.6ms | Allocations: 82258)


Started GET "/allergens/new" for ::1 at 2022-12-28 20:42:36 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 10.9ms | Allocations: 3028)
  Rendered allergens/new.html.erb within layouts/application (Duration: 14.2ms | Allocations: 3635)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 19.7ms | Allocations: 7549)
Completed 200 OK in 22ms (Views: 20.5ms | ActiveRecord: 0.0ms | Allocations: 8023)


Started POST "/allergens" for ::1 at 2022-12-28 20:43:35 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (1.4ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"], ["created_at", "2022-12-29 01:43:35.170307"], ["updated_at", "2022-12-29 01:43:35.170307"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 1.8ms | Allocations: 4281)


  
ZeroDivisionError (divided by 0):
  
app/models/allergen.rb:46:in `/'
app/models/allergen.rb:46:in `process_new_allergen_entry'
app/models/allergen.rb:65:in `block in <class:Allergen>'
app/controllers/allergens_controller.rb:53:in `create'
Started PUT "/__web_console/repl_sessions/f0489fc2a6d5141d2f12ba02a91e005a" for ::1 at 2022-12-28 20:43:40 -0500
Started PUT "/__web_console/repl_sessions/f0489fc2a6d5141d2f12ba02a91e005a" for ::1 at 2022-12-28 20:43:42 -0500
Started GET "/" for ::1 at 2022-12-28 20:44:37 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.7ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 22.1ms | Allocations: 44231)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.1ms | Allocations: 49563)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 81.1ms | Allocations: 76780)
Completed 200 OK in 86ms (Views: 74.7ms | ActiveRecord: 7.4ms | Allocations: 82276)


Started GET "/allergens/new" for ::1 at 2022-12-28 20:44:51 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 9.8ms | Allocations: 3030)
  Rendered allergens/new.html.erb within layouts/application (Duration: 13.8ms | Allocations: 3637)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 20.7ms | Allocations: 7551)
Completed 200 OK in 23ms (Views: 21.2ms | ActiveRecord: 0.0ms | Allocations: 8025)


Started POST "/allergens" for ::1 at 2022-12-28 20:44:59 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (1.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"], ["created_at", "2022-12-29 01:44:59.567573"], ["updated_at", "2022-12-29 01:44:59.567573"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/28
Completed 302 Found in 14ms (ActiveRecord: 2.1ms | Allocations: 3975)


Started GET "/allergens/28" for ::1 at 2022-12-28 20:44:59 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"28"}
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 1.2ms | Allocations: 752)
  Rendered allergens/show.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1126)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 7.3ms | Allocations: 5281)
Completed 200 OK in 13ms (Views: 7.8ms | ActiveRecord: 0.4ms | Allocations: 8050)


Started DELETE "/allergens/28" for ::1 at 2022-12-28 20:45:24 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"28"}
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 28]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.2ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 28]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 52ms (ActiveRecord: 6.3ms | Allocations: 16799)


Started GET "/allergens" for ::1 at 2022-12-28 20:45:24 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 17.9ms | Allocations: 44160)
  Rendered allergens/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 45862)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 160)
  Rendered layout layouts/application.html.erb (Duration: 42.4ms | Allocations: 73036)
Completed 200 OK in 45ms (Views: 43.3ms | ActiveRecord: 0.3ms | Allocations: 75011)


Started GET "/allergens/new" for ::1 at 2022-12-28 20:48:48 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered allergens/_form.html.erb (Duration: 0.8ms | Allocations: 1275)
  Rendered allergens/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1426)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 3.0ms | Allocations: 5408)
Completed 200 OK in 21ms (Views: 3.4ms | ActiveRecord: 15.0ms | Allocations: 9308)


Started POST "/allergens" for ::1 at 2022-12-28 20:48:55 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.4ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"], ["created_at", "2022-12-29 01:48:55.861769"], ["updated_at", "2022-12-29 01:48:55.861769"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.7ms | Allocations: 3263)


  
ZeroDivisionError (divided by 0):
  
app/models/allergen.rb:65:in `/'
app/models/allergen.rb:65:in `block in <class:Allergen>'
app/controllers/allergens_controller.rb:53:in `create'
Started PUT "/__web_console/repl_sessions/9ef48d32e712bb0352fe09c24ba225e3" for ::1 at 2022-12-28 20:49:02 -0500
Started PUT "/__web_console/repl_sessions/9ef48d32e712bb0352fe09c24ba225e3" for ::1 at 2022-12-28 20:49:13 -0500
Started PUT "/__web_console/repl_sessions/9ef48d32e712bb0352fe09c24ba225e3" for ::1 at 2022-12-28 20:49:15 -0500
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" /* loading for inspect */ LIMIT $1[0m  [["LIMIT", 11]]
Started PUT "/__web_console/repl_sessions/9ef48d32e712bb0352fe09c24ba225e3" for ::1 at 2022-12-28 20:49:32 -0500
Started PUT "/__web_console/repl_sessions/9ef48d32e712bb0352fe09c24ba225e3" for ::1 at 2022-12-28 20:49:35 -0500
Started PUT "/__web_console/repl_sessions/9ef48d32e712bb0352fe09c24ba225e3" for ::1 at 2022-12-28 20:49:37 -0500
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" DESC LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/models/allergen.rb:65:in `block in <class:Allergen>'
Started PUT "/__web_console/repl_sessions/9ef48d32e712bb0352fe09c24ba225e3" for ::1 at 2022-12-28 20:49:47 -0500
Started PUT "/__web_console/repl_sessions/9ef48d32e712bb0352fe09c24ba225e3" for ::1 at 2022-12-28 20:49:48 -0500
Started GET "/" for ::1 at 2022-12-28 20:52:38 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 18.6ms | Allocations: 44234)
  Rendered allergens/index.html.erb within layouts/application (Duration: 29.6ms | Allocations: 49567)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 52.0ms | Allocations: 77248)
Completed 200 OK in 86ms (Views: 46.9ms | ActiveRecord: 6.6ms | Allocations: 82745)


Started GET "/allergens/new" for ::1 at 2022-12-28 20:52:49 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.9ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 10.0ms | Allocations: 3030)
  Rendered allergens/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3637)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 17.1ms | Allocations: 7551)
Completed 200 OK in 19ms (Views: 17.7ms | ActiveRecord: 0.0ms | Allocations: 8025)


Started POST "/allergens" for ::1 at 2022-12-28 20:52:56 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1027)


  
ZeroDivisionError (divided by 0):
  
app/models/allergen.rb:29:in `/'
app/models/allergen.rb:29:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started PUT "/__web_console/repl_sessions/02fc05cd8d2baa4c18357c18e70686b1" for ::1 at 2022-12-28 20:53:04 -0500
Started PUT "/__web_console/repl_sessions/02fc05cd8d2baa4c18357c18e70686b1" for ::1 at 2022-12-28 20:53:05 -0500
Started GET "/" for ::1 at 2022-12-28 20:55:28 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 18.1ms | Allocations: 44231)
  Rendered allergens/index.html.erb within layouts/application (Duration: 28.5ms | Allocations: 49561)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 52.9ms | Allocations: 77443)
Completed 200 OK in 60ms (Views: 47.6ms | ActiveRecord: 6.5ms | Allocations: 82899)


Started GET "/allergens/new" for ::1 at 2022-12-28 20:55:30 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 9.6ms | Allocations: 3018)
  Rendered allergens/new.html.erb within layouts/application (Duration: 11.7ms | Allocations: 3625)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 18.2ms | Allocations: 7552)
Completed 200 OK in 23ms (Views: 18.9ms | ActiveRecord: 0.0ms | Allocations: 8027)


Started POST "/allergens" for ::1 at 2022-12-28 20:55:57 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 13ms (ActiveRecord: 6.1ms | Allocations: 9039)


  
NoMethodError (undefined method `split' for nil:NilClass

    substances_array = substances.split(/;|\n/)
                                 ^^^^^^):
  
app/models/allergen.rb:42:in `process_new_allergen_entry'
app/models/allergen.rb:29:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started GET "/" for ::1 at 2022-12-28 20:56:37 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 47.8ms | Allocations: 44231)
  Rendered allergens/index.html.erb within layouts/application (Duration: 57.7ms | Allocations: 49561)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 87.5ms | Allocations: 76655)
Completed 200 OK in 93ms (Views: 82.0ms | ActiveRecord: 6.7ms | Allocations: 82110)


Started GET "/allergens/new" for ::1 at 2022-12-28 20:56:39 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 8.9ms | Allocations: 3012)
  Rendered allergens/new.html.erb within layouts/application (Duration: 11.3ms | Allocations: 3619)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 16.3ms | Allocations: 7533)
Completed 200 OK in 19ms (Views: 17.2ms | ActiveRecord: 0.0ms | Allocations: 8007)


Started GET "/" for ::1 at 2022-12-28 20:57:12 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 23.4ms | Allocations: 44231)
  Rendered allergens/index.html.erb within layouts/application (Duration: 58.2ms | Allocations: 49567)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 88.0ms | Allocations: 77463)
Completed 200 OK in 94ms (Views: 84.6ms | ActiveRecord: 4.5ms | Allocations: 82918)


Started GET "/allergens/new" for ::1 at 2022-12-28 20:57:14 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 9.9ms | Allocations: 3036)
  Rendered allergens/new.html.erb within layouts/application (Duration: 12.4ms | Allocations: 3643)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 17.7ms | Allocations: 7557)
Completed 200 OK in 20ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 8031)


Started POST "/allergens" for ::1 at 2022-12-28 20:57:19 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1047)


  
ZeroDivisionError (divided by 0):
  
app/models/allergen.rb:30:in `/'
app/models/allergen.rb:30:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started PUT "/__web_console/repl_sessions/06bd4f079364a036dc5ceb71009739b3" for ::1 at 2022-12-28 20:57:26 -0500
Started PUT "/__web_console/repl_sessions/06bd4f079364a036dc5ceb71009739b3" for ::1 at 2022-12-28 20:57:28 -0500
Started PUT "/__web_console/repl_sessions/06bd4f079364a036dc5ceb71009739b3" for ::1 at 2022-12-28 20:57:34 -0500
Started GET "/" for ::1 at 2022-12-28 20:58:28 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 47.9ms | Allocations: 44231)
  Rendered allergens/index.html.erb within layouts/application (Duration: 57.7ms | Allocations: 49563)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 80.0ms | Allocations: 76881)
Completed 200 OK in 86ms (Views: 74.6ms | ActiveRecord: 6.4ms | Allocations: 82336)


Started GET "/allergens/new" for ::1 at 2022-12-28 20:58:31 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 9.7ms | Allocations: 3036)
  Rendered allergens/new.html.erb within layouts/application (Duration: 11.6ms | Allocations: 3643)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 17.5ms | Allocations: 7557)
Completed 200 OK in 21ms (Views: 18.1ms | ActiveRecord: 0.0ms | Allocations: 8031)


Started POST "/allergens" for ::1 at 2022-12-28 20:58:38 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1056)


  
ZeroDivisionError (divided by 0):
  
app/models/allergen.rb:30:in `/'
app/models/allergen.rb:30:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started PUT "/__web_console/repl_sessions/e6040722fa950ed2674960573d0175f5" for ::1 at 2022-12-28 20:58:42 -0500
Started GET "/" for ::1 at 2022-12-28 21:00:26 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 50.3ms | Allocations: 44231)
  Rendered allergens/index.html.erb within layouts/application (Duration: 60.0ms | Allocations: 49560)
  Rendered layouts/_messages.html.erb (Duration: 0.2ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 84.2ms | Allocations: 77043)
Completed 200 OK in 90ms (Views: 79.5ms | ActiveRecord: 6.0ms | Allocations: 82494)


Started GET "/" for ::1 at 2022-12-28 21:00:27 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 25.3ms | Allocations: 43690)
  Rendered allergens/index.html.erb within layouts/application (Duration: 48.2ms | Allocations: 44726)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 27)
  Rendered layout layouts/application.html.erb (Duration: 50.3ms | Allocations: 48859)
Completed 200 OK in 51ms (Views: 50.0ms | ActiveRecord: 0.5ms | Allocations: 49190)


Started GET "/" for ::1 at 2022-12-28 21:00:34 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 54.2ms | Allocations: 43626)
  Rendered allergens/index.html.erb within layouts/application (Duration: 57.4ms | Allocations: 44569)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 61.6ms | Allocations: 48540)
Completed 200 OK in 63ms (Views: 61.9ms | ActiveRecord: 0.3ms | Allocations: 48819)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:00:35 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 212)
  Rendered allergens/_form.html.erb (Duration: 8.0ms | Allocations: 3040)
  Rendered allergens/new.html.erb within layouts/application (Duration: 10.2ms | Allocations: 3645)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 17.6ms | Allocations: 7558)
Completed 200 OK in 22ms (Views: 18.4ms | ActiveRecord: 0.0ms | Allocations: 7979)


Started POST "/allergens" for ::1 at 2022-12-28 21:01:31 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.6ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1;sub2;sub3; sub2,a ;sub4"], ["created_at", "2022-12-29 02:01:32.067317"], ["updated_at", "2022-12-29 02:01:32.067317"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/30
Completed 302 Found in 17ms (ActiveRecord: 6.5ms | Allocations: 11114)


Started GET "/allergens/30" for ::1 at 2022-12-28 21:01:32 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"30"}
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 1.1ms | Allocations: 1361)
  Rendered allergens/show.html.erb within layouts/application (Duration: 2.0ms | Allocations: 2064)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 160)
  Rendered layout layouts/application.html.erb (Duration: 60.0ms | Allocations: 29297)
Completed 200 OK in 64ms (Views: 61.3ms | ActiveRecord: 0.4ms | Allocations: 33763)


Started GET "/allergens" for ::1 at 2022-12-28 21:01:40 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 44.5ms | Allocations: 44407)
  Rendered allergens/index.html.erb within layouts/application (Duration: 50.0ms | Allocations: 45628)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 53.2ms | Allocations: 49594)
Completed 200 OK in 56ms (Views: 53.4ms | ActiveRecord: 0.5ms | Allocations: 49967)


Started DELETE "/allergens/30" for ::1 at 2022-12-28 21:01:49 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"30"}
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.9ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 30]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.8ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 30]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 33ms (ActiveRecord: 4.4ms | Allocations: 7467)


Started GET "/allergens" for ::1 at 2022-12-28 21:01:49 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 40.3ms | Allocations: 43692)
  Rendered allergens/index.html.erb within layouts/application (Duration: 42.4ms | Allocations: 44659)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 45.4ms | Allocations: 48810)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.3ms | Allocations: 49131)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:07:20 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 202)
  Rendered allergens/_form.html.erb (Duration: 0.9ms | Allocations: 1552)
  Rendered allergens/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 2146)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 143)
  Rendered layout layouts/application.html.erb (Duration: 5.0ms | Allocations: 6594)
Completed 200 OK in 20ms (Views: 5.7ms | ActiveRecord: 6.4ms | Allocations: 13451)


Started POST "/allergens" for ::1 at 2022-12-28 21:07:36 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n\nsub2\nsub3; sub2,a ;  ;   \n\nsub4"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (1.3ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1;sub2;sub3; sub2,a ;sub4"], ["created_at", "2022-12-29 02:07:36.172142"], ["updated_at", "2022-12-29 02:07:36.172142"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/31
Completed 302 Found in 12ms (ActiveRecord: 2.2ms | Allocations: 3994)


Started GET "/allergens/31" for ::1 at 2022-12-28 21:07:36 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"31"}
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 2.1ms | Allocations: 1175)
  Rendered allergens/show.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1613)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 8.1ms | Allocations: 5762)
Completed 200 OK in 13ms (Views: 8.6ms | ActiveRecord: 0.6ms | Allocations: 8665)


Started DELETE "/allergens/31" for ::1 at 2022-12-28 21:07:46 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"31"}
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (1.0ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 31]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.3ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 31]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 30ms (ActiveRecord: 6.0ms | Allocations: 7435)


Started GET "/allergens" for ::1 at 2022-12-28 21:07:46 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 36.0ms | Allocations: 43694)
  Rendered allergens/index.html.erb within layouts/application (Duration: 38.3ms | Allocations: 44862)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 41.7ms | Allocations: 49021)
Completed 200 OK in 43ms (Views: 41.7ms | ActiveRecord: 0.3ms | Allocations: 49415)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:11:48 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered allergens/_form.html.erb (Duration: 1.8ms | Allocations: 1067)
  Rendered allergens/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 1199)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.0ms | Allocations: 4984)
Completed 200 OK in 11ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 5260)


Started POST "/allergens" for ::1 at 2022-12-28 21:12:01 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 347)
  Rendered allergens/_form.html.erb (Duration: 2.3ms | Allocations: 1167)
  Rendered allergens/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1634)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.2ms | Allocations: 5418)
Completed 422 Unprocessable Entity in 14ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 6548)


Started POST "/allergens" for ::1 at 2022-12-28 21:12:05 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol\n"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 277)
  Rendered allergens/_form.html.erb (Duration: 2.9ms | Allocations: 1152)
  Rendered allergens/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1549)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.8ms | Allocations: 5324)
Completed 422 Unprocessable Entity in 15ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 6387)


Started POST "/allergens" for ::1 at 2022-12-28 21:12:19 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol\n"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 277)
  Rendered allergens/_form.html.erb (Duration: 2.7ms | Allocations: 1152)
  Rendered allergens/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1549)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.8ms | Allocations: 5324)
Completed 422 Unprocessable Entity in 14ms (Views: 10.7ms | ActiveRecord: 0.0ms | Allocations: 6401)


Started POST "/allergens" for ::1 at 2022-12-28 21:12:31 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol;"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 277)
  Rendered allergens/_form.html.erb (Duration: 2.4ms | Allocations: 1152)
  Rendered allergens/new.html.erb within layouts/application (Duration: 3.5ms | Allocations: 1549)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 5324)
Completed 422 Unprocessable Entity in 12ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 6390)


Started POST "/allergens" for ::1 at 2022-12-28 21:13:02 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol; "}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 2.5ms | Allocations: 1366)
  Rendered allergens/_form.html.erb (Duration: 2.6ms | Allocations: 2505)
  Rendered allergens/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4568)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 64.6ms | Allocations: 31479)
Completed 422 Unprocessable Entity in 81ms (Views: 67.8ms | ActiveRecord: 3.4ms | Allocations: 41774)


Started GET "/allergens" for ::1 at 2022-12-28 21:13:23 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 22.5ms | Allocations: 43999)
  Rendered allergens/index.html.erb within layouts/application (Duration: 38.6ms | Allocations: 49687)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 145)
  Rendered layout layouts/application.html.erb (Duration: 43.2ms | Allocations: 54426)
Completed 200 OK in 46ms (Views: 43.8ms | ActiveRecord: 6.2ms | Allocations: 56912)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:13:25 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 206)
  Rendered allergens/_form.html.erb (Duration: 9.1ms | Allocations: 2999)
  Rendered allergens/new.html.erb within layouts/application (Duration: 12.0ms | Allocations: 3576)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 16.0ms | Allocations: 7489)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 7890)


Started POST "/allergens" for ::1 at 2022-12-28 21:13:43 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol \n"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 378)
  Rendered allergens/_form.html.erb (Duration: 2.9ms | Allocations: 1192)
  Rendered allergens/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1733)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 12.0ms | Allocations: 5509)
Completed 422 Unprocessable Entity in 16ms (Views: 12.8ms | ActiveRecord: 0.0ms | Allocations: 6899)


Started GET "/" for ::1 at 2022-12-28 21:15:47 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 18.9ms | Allocations: 44231)
  Rendered allergens/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 49561)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 56.7ms | Allocations: 77443)
Completed 200 OK in 63ms (Views: 51.5ms | ActiveRecord: 6.5ms | Allocations: 82890)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:15:49 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.1ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 7.4ms | Allocations: 3038)
  Rendered allergens/new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3648)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 15.0ms | Allocations: 7574)
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.0ms | Allocations: 8048)


Started POST "/allergens" for ::1 at 2022-12-28 21:16:00 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol \n"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 380)
  Rendered allergens/_form.html.erb (Duration: 3.5ms | Allocations: 1240)
  Rendered allergens/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1789)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 5672)
Completed 422 Unprocessable Entity in 17ms (Views: 12.3ms | ActiveRecord: 0.0ms | Allocations: 7347)


Started GET "/allergens" for ::1 at 2022-12-28 21:16:34 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 46.4ms | Allocations: 43723)
  Rendered allergens/index.html.erb within layouts/application (Duration: 54.5ms | Allocations: 46429)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 57.3ms | Allocations: 50692)
Completed 200 OK in 60ms (Views: 52.5ms | ActiveRecord: 5.2ms | Allocations: 52999)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:16:35 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 17)
  Rendered allergens/_form.html.erb (Duration: 2.3ms | Allocations: 1139)
  Rendered allergens/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1275)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.4ms | Allocations: 5060)
Completed 200 OK in 13ms (Views: 11.8ms | ActiveRecord: 0.0ms | Allocations: 5377)


Started POST "/allergens" for ::1 at 2022-12-28 21:16:43 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol \n"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 292)
  Rendered allergens/_form.html.erb (Duration: 2.4ms | Allocations: 1160)
  Rendered allergens/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1572)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 5350)
Completed 422 Unprocessable Entity in 17ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 6624)


Started GET "/" for ::1 at 2022-12-28 21:27:50 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 18.4ms | Allocations: 44231)
  Rendered allergens/index.html.erb within layouts/application (Duration: 29.1ms | Allocations: 49561)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 54.2ms | Allocations: 77460)
Completed 200 OK in 88ms (Views: 48.9ms | ActiveRecord: 6.6ms | Allocations: 82908)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:27:53 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 10.6ms | Allocations: 3038)
  Rendered allergens/new.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3648)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 7575)
Completed 200 OK in 25ms (Views: 22.6ms | ActiveRecord: 0.0ms | Allocations: 8050)


Started POST "/allergens" for ::1 at 2022-12-28 21:28:16 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol "}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 380)
  Rendered allergens/_form.html.erb (Duration: 2.7ms | Allocations: 1240)
  Rendered allergens/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1789)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 9.5ms | Allocations: 5672)
Completed 422 Unprocessable Entity in 14ms (Views: 10.1ms | ActiveRecord: 0.0ms | Allocations: 7311)


Started GET "/allergens" for ::1 at 2022-12-28 21:29:54 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 20.1ms | Allocations: 44230)
  Rendered allergens/index.html.erb within layouts/application (Duration: 29.5ms | Allocations: 49558)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 55.3ms | Allocations: 77415)
Completed 200 OK in 63ms (Views: 51.3ms | ActiveRecord: 5.5ms | Allocations: 82797)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:29:55 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 8.7ms | Allocations: 3035)
  Rendered allergens/new.html.erb within layouts/application (Duration: 11.8ms | Allocations: 3645)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 15.6ms | Allocations: 7572)
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.0ms | Allocations: 8046)


Started POST "/allergens" for ::1 at 2022-12-28 21:30:02 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol "}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.7ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Isopropyl alcohol "], ["substances", "Isopropyl alcohol "], ["created_at", "2022-12-29 02:30:02.248891"], ["updated_at", "2022-12-29 02:30:02.248891"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/32
Completed 302 Found in 9ms (ActiveRecord: 1.5ms | Allocations: 3929)


Started GET "/allergens/32" for ::1 at 2022-12-28 21:30:02 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"32"}
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 1.6ms | Allocations: 373)
  Rendered allergens/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 750)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 8.2ms | Allocations: 4938)
Completed 200 OK in 15ms (Views: 8.6ms | ActiveRecord: 0.4ms | Allocations: 7707)


Started DELETE "/allergens/32" for ::1 at 2022-12-28 21:30:54 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"32"}
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 32]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.3ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 32]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 20ms (ActiveRecord: 9.6ms | Allocations: 12603)


Started GET "/allergens" for ::1 at 2022-12-28 21:30:54 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [14 times] (Duration: 18.8ms | Allocations: 44000)
  Rendered allergens/index.html.erb within layouts/application (Duration: 20.5ms | Allocations: 45398)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 149)
  Rendered layout layouts/application.html.erb (Duration: 23.1ms | Allocations: 50136)
Completed 200 OK in 24ms (Views: 23.6ms | ActiveRecord: 0.3ms | Allocations: 51079)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:30:56 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 197)
  Rendered allergens/_form.html.erb (Duration: 4.0ms | Allocations: 1410)
  Rendered allergens/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1959)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 5743)
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 6115)


Started POST "/allergens" for ::1 at 2022-12-28 21:31:18 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"Isopropyl alcohol ", "substances"=>"Isopropyl alcohol "}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.6ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "Isopropyl alcohol "], ["substances", "Isopropyl alcohol "], ["created_at", "2022-12-29 02:31:18.373704"], ["updated_at", "2022-12-29 02:31:18.373704"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/33
Completed 302 Found in 31ms (ActiveRecord: 18.9ms | Allocations: 11022)


Started GET "/allergens/33" for ::1 at 2022-12-28 21:31:18 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"33"}
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 0.8ms | Allocations: 858)
  Rendered allergens/show.html.erb within layouts/application (Duration: 1.6ms | Allocations: 1563)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 157)
  Rendered layout layouts/application.html.erb (Duration: 20.5ms | Allocations: 29150)
Completed 200 OK in 26ms (Views: 21.9ms | ActiveRecord: 0.6ms | Allocations: 33612)


Started GET "/allergens" for ::1 at 2022-12-28 21:31:23 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 43.6ms | Allocations: 43901)
  Rendered allergens/index.html.erb within layouts/application (Duration: 47.6ms | Allocations: 45122)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 50.8ms | Allocations: 49111)
Completed 200 OK in 52ms (Views: 50.9ms | ActiveRecord: 0.4ms | Allocations: 49484)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:38:58 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 228)
  Rendered allergens/_form.html.erb (Duration: 4.7ms | Allocations: 3331)
  Rendered allergens/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 4210)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 24.9ms | Allocations: 31639)
Completed 200 OK in 48ms (Views: 26.3ms | ActiveRecord: 14.7ms | Allocations: 40394)


Started GET "/" for ::1 at 2022-12-28 21:39:22 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 48.6ms | Allocations: 43976)
  Rendered allergens/index.html.erb within layouts/application (Duration: 64.0ms | Allocations: 49440)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 67.7ms | Allocations: 53699)
Completed 200 OK in 71ms (Views: 68.1ms | ActiveRecord: 7.8ms | Allocations: 56013)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:39:24 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 209)
  Rendered allergens/_form.html.erb (Duration: 10.6ms | Allocations: 3003)
  Rendered allergens/new.html.erb within layouts/application (Duration: 13.5ms | Allocations: 3609)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 19.9ms | Allocations: 7524)
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.0ms | Allocations: 7944)


Started POST "/allergens" for ::1 at 2022-12-28 21:39:36 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 380)
  Rendered allergens/_form.html.erb (Duration: 3.9ms | Allocations: 1191)
  Rendered allergens/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1691)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.7ms | Allocations: 5468)
Completed 422 Unprocessable Entity in 18ms (Views: 13.1ms | ActiveRecord: 0.0ms | Allocations: 6839)


Started POST "/allergens" for ::1 at 2022-12-28 21:39:48 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1;\n\nsub2"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (1.1ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1;sub2"], ["created_at", "2022-12-29 02:39:48.208647"], ["updated_at", "2022-12-29 02:39:48.208647"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/34
Completed 302 Found in 11ms (ActiveRecord: 2.6ms | Allocations: 2522)


Started GET "/allergens/34" for ::1 at 2022-12-28 21:39:48 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"34"}
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 0.9ms | Allocations: 454)
  Rendered allergens/show.html.erb within layouts/application (Duration: 1.2ms | Allocations: 619)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 4619)
Completed 200 OK in 13ms (Views: 8.9ms | ActiveRecord: 0.5ms | Allocations: 6071)


Started DELETE "/allergens/34" for ::1 at 2022-12-28 21:39:55 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"34"}
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 34]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.2ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 34]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 45ms (ActiveRecord: 6.6ms | Allocations: 10509)


Started GET "/allergens" for ::1 at 2022-12-28 21:39:55 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 31.7ms | Allocations: 43942)
  Rendered allergens/index.html.erb within layouts/application (Duration: 33.8ms | Allocations: 44920)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 37.5ms | Allocations: 49080)
Completed 200 OK in 38ms (Views: 37.4ms | ActiveRecord: 0.3ms | Allocations: 49400)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:39:57 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered allergens/_form.html.erb (Duration: 3.2ms | Allocations: 1076)
  Rendered allergens/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1208)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 12.3ms | Allocations: 4991)
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.0ms | Allocations: 5267)


Started POST "/allergens" for ::1 at 2022-12-28 21:40:04 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"", "substances"=>"sub1;"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.4ms | Allocations: 726)
  Rendered allergens/_form.html.erb (Duration: 3.3ms | Allocations: 1720)
  Rendered allergens/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 2566)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 6345)
Completed 422 Unprocessable Entity in 18ms (Views: 15.8ms | ActiveRecord: 0.0ms | Allocations: 7474)


Started POST "/allergens" for ::1 at 2022-12-28 21:40:18 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"", "substances"=>"sub1\n"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 2.2ms | Allocations: 664)
  Rendered allergens/_form.html.erb (Duration: 3.7ms | Allocations: 1719)
  Rendered allergens/new.html.erb within layouts/application (Duration: 6.4ms | Allocations: 2503)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.0ms | Allocations: 6300)
Completed 422 Unprocessable Entity in 14ms (Views: 11.6ms | ActiveRecord: 0.0ms | Allocations: 7360)


Started POST "/allergens" for ::1 at 2022-12-28 21:44:18 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub2\n"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.3ms | Allocations: 332)
  Rendered allergens/_form.html.erb (Duration: 0.8ms | Allocations: 1330)
  Rendered allergens/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 1797)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 5.1ms | Allocations: 5765)
Completed 422 Unprocessable Entity in 17ms (Views: 6.3ms | ActiveRecord: 6.2ms | Allocations: 10621)


Started POST "/allergens" for ::1 at 2022-12-28 21:44:37 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub2;"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 2.1ms | Allocations: 277)
  Rendered allergens/_form.html.erb (Duration: 2.7ms | Allocations: 1151)
  Rendered allergens/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1548)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 15.4ms | Allocations: 5323)
Completed 422 Unprocessable Entity in 20ms (Views: 16.1ms | ActiveRecord: 0.0ms | Allocations: 6489)


Started POST "/allergens" for ::1 at 2022-12-28 21:45:25 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub2\n"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 19ms (ActiveRecord: 8.3ms | Allocations: 6787)


  
ZeroDivisionError (divided by 0):
  
app/models/allergen.rb:30:in `/'
app/models/allergen.rb:30:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started PUT "/__web_console/repl_sessions/28e19b706704eb1ed62d2f427b741c98" for ::1 at 2022-12-28 21:45:40 -0500
Started PUT "/__web_console/repl_sessions/28e19b706704eb1ed62d2f427b741c98" for ::1 at 2022-12-28 21:45:42 -0500
Started PUT "/__web_console/repl_sessions/28e19b706704eb1ed62d2f427b741c98" for ::1 at 2022-12-28 21:45:51 -0500
Started GET "/" for ::1 at 2022-12-28 21:55:28 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 17.5ms | Allocations: 44487)
  Rendered allergens/index.html.erb within layouts/application (Duration: 28.1ms | Allocations: 49828)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 57.0ms | Allocations: 77563)
Completed 200 OK in 63ms (Views: 51.3ms | ActiveRecord: 6.9ms | Allocations: 83008)


Started GET "/allergens/new" for ::1 at 2022-12-28 21:55:31 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 8.6ms | Allocations: 3035)
  Rendered allergens/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 3645)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 15.5ms | Allocations: 7559)
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.0ms | Allocations: 8033)


Started POST "/allergens" for ::1 at 2022-12-28 21:55:37 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.0ms | Allocations: 1036)


  
ZeroDivisionError (divided by 0):
  
app/models/allergen.rb:43:in `/'
app/models/allergen.rb:43:in `process_new_allergen_entry'
app/models/allergen.rb:29:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started PUT "/__web_console/repl_sessions/1c1d28526bffa03c5fc64be8730725ac" for ::1 at 2022-12-28 21:55:43 -0500
Started PUT "/__web_console/repl_sessions/1c1d28526bffa03c5fc64be8730725ac" for ::1 at 2022-12-28 21:55:53 -0500
Started GET "/" for ::1 at 2022-12-28 22:05:02 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 52.6ms | Allocations: 44486)
  Rendered allergens/index.html.erb within layouts/application (Duration: 63.6ms | Allocations: 49827)
  Rendered layouts/_messages.html.erb (Duration: 0.6ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 98.4ms | Allocations: 77563)
Completed 200 OK in 105ms (Views: 92.6ms | ActiveRecord: 6.9ms | Allocations: 83016)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:05:04 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 8.6ms | Allocations: 3038)
  Rendered allergens/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 3648)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 14.6ms | Allocations: 7562)
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.0ms | Allocations: 8036)


Started POST "/allergens" for ::1 at 2022-12-28 22:05:12 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.0ms | Allocations: 7018)


  
NameError (undefined local variable or method `substance_array' for #<Allergen id: nil, category: "test", substances: nil, created_at: nil, updated_at: nil>
Did you mean?  substances_was):
  
app/models/allergen.rb:44:in `process_new_allergen_entry'
app/models/allergen.rb:29:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started GET "/" for ::1 at 2022-12-28 22:06:12 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.9ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 47.8ms | Allocations: 44486)
  Rendered allergens/index.html.erb within layouts/application (Duration: 58.4ms | Allocations: 49827)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 85.7ms | Allocations: 77700)
Completed 200 OK in 93ms (Views: 80.3ms | ActiveRecord: 6.8ms | Allocations: 83152)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:06:14 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.5ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 6.7ms | Allocations: 3035)
  Rendered allergens/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 3645)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 13.6ms | Allocations: 7559)
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 8033)


Started POST "/allergens" for ::1 at 2022-12-28 22:06:22 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.0ms | Allocations: 7021)


  
NameError (undefined local variable or method `substance_array' for #<Allergen id: nil, category: "test", substances: nil, created_at: nil, updated_at: nil>
Did you mean?  substances_was):
  
app/models/allergen.rb:44:in `process_new_allergen_entry'
app/models/allergen.rb:29:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started GET "/" for ::1 at 2022-12-28 22:06:33 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 35.3ms | Allocations: 43942)
  Rendered allergens/index.html.erb within layouts/application (Duration: 39.3ms | Allocations: 44998)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 27)
  Rendered layout layouts/application.html.erb (Duration: 42.2ms | Allocations: 49134)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.4ms | Allocations: 49456)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:06:35 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered allergens/_form.html.erb (Duration: 4.1ms | Allocations: 1061)
  Rendered allergens/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1193)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 11.6ms | Allocations: 4977)
Completed 200 OK in 13ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 5263)


Started POST "/allergens" for ::1 at 2022-12-28 22:06:44 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.0ms | Allocations: 6619)


  
NameError (undefined local variable or method `substance_array' for #<Allergen id: nil, category: "test", substances: nil, created_at: nil, updated_at: nil>
Did you mean?  substances_was):
  
app/models/allergen.rb:44:in `process_new_allergen_entry'
app/models/allergen.rb:29:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started PUT "/__web_console/repl_sessions/aa321a6f8e788c21fa88f8f2fa729379" for ::1 at 2022-12-28 22:07:11 -0500
Started PUT "/__web_console/repl_sessions/aa321a6f8e788c21fa88f8f2fa729379" for ::1 at 2022-12-28 22:07:13 -0500
Started PUT "/__web_console/repl_sessions/aa321a6f8e788c21fa88f8f2fa729379" for ::1 at 2022-12-28 22:07:23 -0500
Started GET "/" for ::1 at 2022-12-28 22:11:19 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 20.1ms | Allocations: 44489)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.4ms | Allocations: 49830)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 166)
  Rendered layout layouts/application.html.erb (Duration: 54.9ms | Allocations: 77700)
Completed 200 OK in 88ms (Views: 62.6ms | ActiveRecord: 5.6ms | Allocations: 83152)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:11:21 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.0ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 19.1ms | Allocations: 3035)
  Rendered allergens/new.html.erb within layouts/application (Duration: 22.4ms | Allocations: 3645)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 28.2ms | Allocations: 7611)
Completed 200 OK in 31ms (Views: 28.9ms | ActiveRecord: 0.0ms | Allocations: 8086)


Started POST "/allergens" for ::1 at 2022-12-28 22:11:30 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.0ms | Allocations: 7020)


  
NameError (undefined local variable or method `substance_array' for #<Allergen id: nil, category: "test", substances: nil, created_at: nil, updated_at: nil>
Did you mean?  substances_was):
  
app/models/allergen.rb:44:in `process_new_allergen_entry'
app/models/allergen.rb:29:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started GET "/" for ::1 at 2022-12-28 22:12:15 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 22.4ms | Allocations: 44486)
  Rendered allergens/index.html.erb within layouts/application (Duration: 32.9ms | Allocations: 49827)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 67.1ms | Allocations: 77741)
Completed 200 OK in 101ms (Views: 76.8ms | ActiveRecord: 6.5ms | Allocations: 83193)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:12:18 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 8.4ms | Allocations: 3023)
  Rendered allergens/new.html.erb within layouts/application (Duration: 10.5ms | Allocations: 3633)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | Allocations: 7560)
Completed 200 OK in 17ms (Views: 15.8ms | ActiveRecord: 0.0ms | Allocations: 8034)


Started POST "/allergens" for ::1 at 2022-12-28 22:12:26 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"tst", "substances"=>"sub1\n"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.0ms | Allocations: 7026)


  
NameError (undefined local variable or method `substance_array' for #<Allergen id: nil, category: "tst", substances: nil, created_at: nil, updated_at: nil>
Did you mean?  substances_was):
  
app/models/allergen.rb:45:in `process_new_allergen_entry'
app/models/allergen.rb:29:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started GET "/" for ::1 at 2022-12-28 22:12:52 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 18.2ms | Allocations: 44486)
  Rendered allergens/index.html.erb within layouts/application (Duration: 25.3ms | Allocations: 49827)
  Rendered layouts/_messages.html.erb (Duration: 0.3ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 54.3ms | Allocations: 77470)
Completed 200 OK in 60ms (Views: 51.9ms | ActiveRecord: 3.5ms | Allocations: 82921)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:12:55 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 1.3ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 9.2ms | Allocations: 3041)
  Rendered allergens/new.html.erb within layouts/application (Duration: 14.2ms | Allocations: 3651)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 20.2ms | Allocations: 7565)
Completed 200 OK in 22ms (Views: 20.9ms | ActiveRecord: 0.0ms | Allocations: 8039)


Started POST "/allergens" for ::1 at 2022-12-28 22:13:04 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.8ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1;"], ["created_at", "2022-12-29 03:13:04.018030"], ["updated_at", "2022-12-29 03:13:04.018030"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (1.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/35
Completed 302 Found in 10ms (ActiveRecord: 2.2ms | Allocations: 3932)


Started GET "/allergens/35" for ::1 at 2022-12-28 22:13:04 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"35"}
  [1m[36mAllergen Load (0.2ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 1.8ms | Allocations: 374)
  Rendered allergens/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 751)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 8.4ms | Allocations: 4912)
Completed 200 OK in 15ms (Views: 8.8ms | ActiveRecord: 0.4ms | Allocations: 7681)


Started DELETE "/allergens/35" for ::1 at 2022-12-28 22:13:16 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"35"}
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.8ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 35]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.3ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 35]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 32ms (ActiveRecord: 3.7ms | Allocations: 7429)


Started GET "/allergens" for ::1 at 2022-12-28 22:13:16 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 59.8ms | Allocations: 43942)
  Rendered allergens/index.html.erb within layouts/application (Duration: 63.4ms | Allocations: 44920)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 69.7ms | Allocations: 49063)
Completed 200 OK in 70ms (Views: 69.6ms | ActiveRecord: 0.3ms | Allocations: 49384)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:14:22 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 228)
  Rendered allergens/_form.html.erb (Duration: 5.2ms | Allocations: 3336)
  Rendered allergens/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 4215)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 163)
  Rendered layout layouts/application.html.erb (Duration: 28.0ms | Allocations: 31205)
Completed 200 OK in 69ms (Views: 29.3ms | ActiveRecord: 4.7ms | Allocations: 40166)


Started POST "/allergens" for ::1 at 2022-12-28 22:14:28 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (1.2ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1;"], ["created_at", "2022-12-29 03:14:28.587880"], ["updated_at", "2022-12-29 03:14:28.587880"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (1.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/36
Completed 302 Found in 10ms (ActiveRecord: 2.5ms | Allocations: 3983)


Started GET "/allergens/36" for ::1 at 2022-12-28 22:14:28 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"36"}
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 1.6ms | Allocations: 800)
  Rendered allergens/show.html.erb within layouts/application (Duration: 2.8ms | Allocations: 1269)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 7.8ms | Allocations: 5427)
Completed 200 OK in 13ms (Views: 8.2ms | ActiveRecord: 0.5ms | Allocations: 8349)


Started DELETE "/allergens/36" for ::1 at 2022-12-28 22:14:46 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"36"}
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 36]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.2ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 36]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 42ms (ActiveRecord: 4.7ms | Allocations: 10551)


Started GET "/allergens" for ::1 at 2022-12-28 22:14:46 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 28.1ms | Allocations: 43964)
  Rendered allergens/index.html.erb within layouts/application (Duration: 30.7ms | Allocations: 45164)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | Allocations: 49295)
Completed 200 OK in 36ms (Views: 35.5ms | ActiveRecord: 0.3ms | Allocations: 49691)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:14:49 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.1ms | Allocations: 15)
  Rendered allergens/_form.html.erb (Duration: 3.1ms | Allocations: 1059)
  Rendered allergens/new.html.erb within layouts/application (Duration: 3.7ms | Allocations: 1191)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 18.3ms | Allocations: 4978)
Completed 200 OK in 20ms (Views: 19.1ms | ActiveRecord: 0.0ms | Allocations: 5265)


Started POST "/allergens" for ::1 at 2022-12-28 22:14:59 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.3ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1;"], ["created_at", "2022-12-29 03:14:59.141754"], ["updated_at", "2022-12-29 03:14:59.141754"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/37
Completed 302 Found in 7ms (ActiveRecord: 0.7ms | Allocations: 2359)


Started GET "/allergens/37" for ::1 at 2022-12-28 22:14:59 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"37"}
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 0.5ms | Allocations: 274)
  Rendered allergens/show.html.erb within layouts/application (Duration: 0.7ms | Allocations: 403)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 4.4ms | Allocations: 4395)
Completed 200 OK in 6ms (Views: 4.7ms | ActiveRecord: 0.3ms | Allocations: 5177)


Started DELETE "/allergens/37" for ::1 at 2022-12-28 22:15:03 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"37"}
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 37]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.3ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 37]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 11ms (ActiveRecord: 1.7ms | Allocations: 3212)


Started GET "/allergens" for ::1 at 2022-12-28 22:15:03 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 38.0ms | Allocations: 43878)
  Rendered allergens/index.html.erb within layouts/application (Duration: 40.7ms | Allocations: 44827)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 46.4ms | Allocations: 48811)
Completed 200 OK in 47ms (Views: 46.4ms | ActiveRecord: 0.3ms | Allocations: 49084)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:19:10 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 19)
  Rendered allergens/_form.html.erb (Duration: 1.0ms | Allocations: 1262)
  Rendered allergens/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 1413)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 29)
  Rendered layout layouts/application.html.erb (Duration: 4.1ms | Allocations: 5394)
Completed 200 OK in 13ms (Views: 4.6ms | ActiveRecord: 5.4ms | Allocations: 9231)


Started POST "/allergens" for ::1 at 2022-12-28 22:19:23 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1, sub2"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.7ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1, sub2;"], ["created_at", "2022-12-29 03:19:23.290723"], ["updated_at", "2022-12-29 03:19:23.290723"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/38
Completed 302 Found in 10ms (ActiveRecord: 1.5ms | Allocations: 2711)


Started GET "/allergens/38" for ::1 at 2022-12-28 22:19:23 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"38"}
  [1m[36mAllergen Load (0.8ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 0.7ms | Allocations: 350)
  Rendered allergens/show.html.erb within layouts/application (Duration: 1.1ms | Allocations: 516)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 6.8ms | Allocations: 4501)
Completed 200 OK in 11ms (Views: 7.3ms | ActiveRecord: 0.8ms | Allocations: 6019)


Started DELETE "/allergens/38" for ::1 at 2022-12-28 22:19:40 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"38"}
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 38]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.2ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 38]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 14ms (ActiveRecord: 2.2ms | Allocations: 5975)


Started GET "/allergens" for ::1 at 2022-12-28 22:19:40 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 30.2ms | Allocations: 43947)
  Rendered allergens/index.html.erb within layouts/application (Duration: 32.1ms | Allocations: 44958)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 35.6ms | Allocations: 49166)
Completed 200 OK in 36ms (Views: 35.6ms | ActiveRecord: 0.3ms | Allocations: 49489)


Started GET "/" for ::1 at 2022-12-28 22:21:52 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 49.4ms | Allocations: 44486)
  Rendered allergens/index.html.erb within layouts/application (Duration: 59.4ms | Allocations: 49827)
  Rendered layouts/_messages.html.erb (Duration: 0.5ms | Allocations: 171)
  Rendered layout layouts/application.html.erb (Duration: 87.2ms | Allocations: 77196)
Completed 200 OK in 95ms (Views: 82.7ms | ActiveRecord: 5.7ms | Allocations: 82662)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:21:55 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.8ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 10.4ms | Allocations: 3038)
  Rendered allergens/new.html.erb within layouts/application (Duration: 15.5ms | Allocations: 3648)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 23.5ms | Allocations: 7562)
Completed 200 OK in 26ms (Views: 24.2ms | ActiveRecord: 0.0ms | Allocations: 8036)


Started POST "/allergens" for ::1 at 2022-12-28 22:22:05 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1"}, "commit"=>"Save"}
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.0ms | Allocations: 1048)


  
TypeError (no implicit conversion of Regexp into String):
  
app/models/allergen.rb:42:in `include?'
app/models/allergen.rb:42:in `process_new_allergen_entry'
app/models/allergen.rb:29:in `substances='
app/controllers/allergens_controller.rb:51:in `create'
Started PUT "/__web_console/repl_sessions/cad00a2fb30266603cbb233729e2a91e" for ::1 at 2022-12-28 22:22:22 -0500
Started PUT "/__web_console/repl_sessions/cad00a2fb30266603cbb233729e2a91e" for ::1 at 2022-12-28 22:22:26 -0500
Started GET "/" for ::1 at 2022-12-28 22:23:50 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 18.4ms | Allocations: 44486)
  Rendered allergens/index.html.erb within layouts/application (Duration: 26.9ms | Allocations: 49833)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 55.8ms | Allocations: 77703)
Completed 200 OK in 62ms (Views: 51.9ms | ActiveRecord: 5.1ms | Allocations: 83166)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:23:52 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 8.5ms | Allocations: 3041)
  Rendered allergens/new.html.erb within layouts/application (Duration: 11.0ms | Allocations: 3651)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 16.1ms | Allocations: 7565)
Completed 200 OK in 18ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 8039)


Started POST "/allergens" for ::1 at 2022-12-28 22:24:00 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"tst", "substances"=>"sub1"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 2.3ms | Allocations: 1264)
  Rendered allergens/_form.html.erb (Duration: 5.0ms | Allocations: 2303)
  Rendered allergens/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3736)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 16.2ms | Allocations: 7619)
Completed 422 Unprocessable Entity in 21ms (Views: 17.0ms | ActiveRecord: 0.0ms | Allocations: 9313)


Started GET "/" for ::1 at 2022-12-28 22:24:44 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.6ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 18.7ms | Allocations: 44486)
  Rendered allergens/index.html.erb within layouts/application (Duration: 26.1ms | Allocations: 49827)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 169)
  Rendered layout layouts/application.html.erb (Duration: 57.9ms | Allocations: 77680)
Completed 200 OK in 65ms (Views: 55.5ms | ActiveRecord: 3.5ms | Allocations: 83141)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:24:45 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 213)
  Rendered allergens/_form.html.erb (Duration: 9.1ms | Allocations: 3068)
  Rendered allergens/new.html.erb within layouts/application (Duration: 11.8ms | Allocations: 3678)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 28)
  Rendered layout layouts/application.html.erb (Duration: 16.5ms | Allocations: 7603)
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.0ms | Allocations: 8077)


Started POST "/allergens" for ::1 at 2022-12-28 22:24:52 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.9ms | Allocations: 380)
  Rendered allergens/_form.html.erb (Duration: 3.2ms | Allocations: 1239)
  Rendered allergens/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1788)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 26)
  Rendered layout layouts/application.html.erb (Duration: 10.6ms | Allocations: 5671)
Completed 422 Unprocessable Entity in 16ms (Views: 11.4ms | ActiveRecord: 0.0ms | Allocations: 7332)


Started POST "/allergens" for ::1 at 2022-12-28 22:25:01 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1\n"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (1.3ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1;"], ["created_at", "2022-12-29 03:25:01.994103"], ["updated_at", "2022-12-29 03:25:01.994103"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (1.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/39
Completed 302 Found in 14ms (ActiveRecord: 3.3ms | Allocations: 3483)


Started GET "/allergens/39" for ::1 at 2022-12-28 22:25:02 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"39"}
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 0.7ms | Allocations: 373)
  Rendered allergens/show.html.erb within layouts/application (Duration: 1.9ms | Allocations: 707)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 4850)
Completed 200 OK in 16ms (Views: 9.7ms | ActiveRecord: 1.8ms | Allocations: 7575)


Started GET "/allergens" for ::1 at 2022-12-28 22:25:03 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [16 times] (Duration: 73.3ms | Allocations: 44131)
  Rendered allergens/index.html.erb within layouts/application (Duration: 76.4ms | Allocations: 45101)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 85.5ms | Allocations: 49083)
Completed 200 OK in 87ms (Views: 85.8ms | ActiveRecord: 0.4ms | Allocations: 49368)


Started DELETE "/allergens/39" for ::1 at 2022-12-28 22:25:13 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"39"}
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 39]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.3ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 39]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 43ms (ActiveRecord: 4.7ms | Allocations: 10519)


Started GET "/allergens" for ::1 at 2022-12-28 22:25:13 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 32.5ms | Allocations: 43943)
  Rendered allergens/index.html.erb within layouts/application (Duration: 34.4ms | Allocations: 44921)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 37.7ms | Allocations: 49080)
Completed 200 OK in 38ms (Views: 37.7ms | ActiveRecord: 0.3ms | Allocations: 49400)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:25:15 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 15)
  Rendered allergens/_form.html.erb (Duration: 2.6ms | Allocations: 1061)
  Rendered allergens/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1193)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 4976)
Completed 200 OK in 10ms (Views: 8.9ms | ActiveRecord: 0.0ms | Allocations: 5252)


Started POST "/allergens" for ::1 at 2022-12-28 22:25:27 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1;"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.4ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1;"], ["created_at", "2022-12-29 03:25:27.395253"], ["updated_at", "2022-12-29 03:25:27.395253"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/40
Completed 302 Found in 10ms (ActiveRecord: 1.2ms | Allocations: 2361)


Started GET "/allergens/40" for ::1 at 2022-12-28 22:25:27 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"40"}
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 0.6ms | Allocations: 274)
  Rendered allergens/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 403)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 9.2ms | Allocations: 4396)
Completed 200 OK in 13ms (Views: 9.6ms | ActiveRecord: 0.4ms | Allocations: 5177)


Started DELETE "/allergens/40" for ::1 at 2022-12-28 22:25:31 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"40"}
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 40]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.5ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 40]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 14ms (ActiveRecord: 2.0ms | Allocations: 3202)


Started GET "/allergens" for ::1 at 2022-12-28 22:25:31 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 44.0ms | Allocations: 43879)
  Rendered allergens/index.html.erb within layouts/application (Duration: 46.6ms | Allocations: 44828)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 23)
  Rendered layout layouts/application.html.erb (Duration: 50.4ms | Allocations: 48891)
Completed 200 OK in 53ms (Views: 51.6ms | ActiveRecord: 0.4ms | Allocations: 49164)


Started GET "/allergens/new" for ::1 at 2022-12-28 22:25:32 -0500
Processing by AllergensController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.0ms | Allocations: 14)
  Rendered allergens/_form.html.erb (Duration: 2.1ms | Allocations: 989)
  Rendered allergens/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1120)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.4ms | Allocations: 4903)
Completed 200 OK in 11ms (Views: 10.8ms | ActiveRecord: 0.0ms | Allocations: 5175)


Started POST "/allergens" for ::1 at 2022-12-28 22:25:47 -0500
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1"}, "commit"=>"Save"}
  Rendering layout layouts/application.html.erb
  Rendering allergens/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 295)
  Rendered allergens/_form.html.erb (Duration: 4.1ms | Allocations: 1152)
  Rendered allergens/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1567)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 10.8ms | Allocations: 5342)
Completed 422 Unprocessable Entity in 14ms (Views: 11.3ms | ActiveRecord: 0.0ms | Allocations: 6415)


Started POST "/allergens" for ::1 at 2022-12-28 22:26:12 -0500
  [1m[36mActiveRecord::SchemaMigration Pluck (13.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by AllergensController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "allergen"=>{"category"=>"test", "substances"=>"sub1;   ;;\n\n\nsub2\n\n\nsub3"}, "commit"=>"Save"}
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mAllergen Create (0.8ms)[0m  [1m[32mINSERT INTO "allergens" ("category", "substances", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["category", "test"], ["substances", "sub1;sub2;sub3"], ["created_at", "2022-12-29 03:26:12.187049"], ["updated_at", "2022-12-29 03:26:12.187049"]]
  â†³ app/controllers/allergens_controller.rb:53:in `create'
  [1m[36mTRANSACTION (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:53:in `create'
Redirected to http://localhost:3000/allergens/41
Completed 302 Found in 29ms (ActiveRecord: 18.9ms | Allocations: 11130)


Started GET "/allergens/41" for ::1 at 2022-12-28 22:26:12 -0500
Processing by AllergensController#show as TURBO_STREAM
  Parameters: {"id"=>"41"}
  [1m[36mAllergen Load (0.5ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  Rendering layout layouts/application.html.erb
  Rendering allergens/show.html.erb within layouts/application
  Rendered collection of shared/_allergen.html.erb [1 times] (Duration: 1.0ms | Allocations: 1110)
  Rendered allergens/show.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1815)
  Rendered layouts/_messages.html.erb (Duration: 0.4ms | Allocations: 157)
  Rendered layout layouts/application.html.erb (Duration: 23.3ms | Allocations: 29218)
Completed 200 OK in 28ms (Views: 24.7ms | ActiveRecord: 0.6ms | Allocations: 33681)


Started DELETE "/allergens/41" for ::1 at 2022-12-28 22:26:16 -0500
Processing by AllergensController#destroy as TURBO_STREAM
  Parameters: {"id"=>"41"}
  [1m[36mAllergen Load (0.4ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" = $1 LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  â†³ app/controllers/allergens_controller.rb:99:in `set_allergen'
  [1m[36mTRANSACTION (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."allergen_id" = $1[0m  [["allergen_id", 41]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mAllergen Destroy (0.4ms)[0m  [1m[31mDELETE FROM "allergens" WHERE "allergens"."id" = $1[0m  [["id", 41]]
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
  [1m[36mTRANSACTION (0.7ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/allergens_controller.rb:89:in `destroy'
Redirected to http://localhost:3000/allergens
Completed 303 See Other in 25ms (ActiveRecord: 3.7ms | Allocations: 7503)


Started GET "/allergens" for ::1 at 2022-12-28 22:26:17 -0500
Processing by AllergensController#index as TURBO_STREAM
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 39.4ms | Allocations: 43965)
  Rendered allergens/index.html.erb within layouts/application (Duration: 42.2ms | Allocations: 45165)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 44.6ms | Allocations: 49320)
Completed 200 OK in 46ms (Views: 44.6ms | ActiveRecord: 0.3ms | Allocations: 49716)


Started GET "/products/new" for ::1 at 2022-12-28 22:26:20 -0500
Processing by ProductsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.6ms | Allocations: 211)
  Rendered products/_form.html.erb (Duration: 4.5ms | Allocations: 3118)
  Rendered products/new.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3744)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 31)
  Rendered layout layouts/application.html.erb (Duration: 8.5ms | Allocations: 7760)
Completed 200 OK in 23ms (Views: 9.9ms | ActiveRecord: 2.5ms | Allocations: 12446)


Started POST "/products" for ::1 at 2022-12-28 22:26:32 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"alcohol"}, "commit"=>"Submit"}
  Rendering layout layouts/application.html.erb
  Rendering products/new.html.erb within layouts/application
  Rendered shared/_errors.html.erb (Duration: 0.7ms | Allocations: 379)
  Rendered products/_form.html.erb (Duration: 2.4ms | Allocations: 1180)
  Rendered products/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1679)
  Rendered layouts/_messages.html.erb (Duration: 0.1ms | Allocations: 20)
  Rendered layout layouts/application.html.erb (Duration: 9.3ms | Allocations: 5461)
Completed 422 Unprocessable Entity in 13ms (Views: 9.9ms | ActiveRecord: 0.0ms | Allocations: 6781)


Started POST "/products" for ::1 at 2022-12-28 22:26:39 -0500
Processing by ProductsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "product"=>{"ingredients"=>"alcohol\n"}, "commit"=>"Submit"}
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/models/product.rb:75:in `block in <class:Product>'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  â†³ app/models/product.rb:75:in `block in <class:Product>'
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."product_id" = $1[0m  [["product_id", 85]]
  â†³ app/models/product.rb:75:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.4ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 485]]
  â†³ app/models/product.rb:75:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.5ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 486]]
  â†³ app/models/product.rb:75:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 487]]
  â†³ app/models/product.rb:75:in `block in <class:Product>'
  [1m[36mReaction Destroy (0.2ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 488]]
  â†³ app/models/product.rb:75:in `block in <class:Product>'
  [1m[36mProduct Destroy (11.4ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = $1[0m  [["id", 85]]
  â†³ app/models/product.rb:75:in `block in <class:Product>'
  [1m[36mProduct Create (0.7ms)[0m  [1m[32mINSERT INTO "products" ("name", "ingredients", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", nil], ["ingredients", "alcohol\n"], ["created_at", "2022-12-29 03:26:39.575510"], ["updated_at", "2022-12-29 03:26:39.575510"]]
  â†³ app/controllers/products_controller.rb:49:in `create'
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions"[0m
  â†³ app/models/product.rb:81:in `block in <class:Product>'
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" ORDER BY "allergens"."id" ASC LIMIT $1[0m  [["LIMIT", 1000]]
  â†³ app/models/product.rb:57:in `block in check_for_allergens'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  â†³ app/models/product.rb:63:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 3], ["product_id", 86], ["reactive_substances", "KM 200 (alcohol) "], ["reactive_ingredient", "ALCOHOL"], ["created_at", "2022-12-29 03:26:39.628293"], ["updated_at", "2022-12-29 03:26:39.628293"]]
  â†³ app/models/product.rb:63:in `block (2 levels) in check_for_allergens'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  â†³ app/models/product.rb:63:in `block (2 levels) in check_for_allergens'
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("allergen_id", "product_id", "reactive_substances", "reactive_ingredient", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["allergen_id", 33], ["product_id", 86], ["reactive_substances", "Isopropyl alcohol "], ["reactive_ingredient", "ALCOHOL"], ["created_at", "2022-12-29 03:26:39.634555"], ["updated_at", "2022-12-29 03:26:39.634555"]]
  â†³ app/models/product.rb:63:in `block (2 levels) in check_for_allergens'
  [1m[36mTRANSACTION (0.8ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/products_controller.rb:49:in `create'
Redirected to http://localhost:3000/products/86
Completed 302 Found in 64ms (ActiveRecord: 19.5ms | Allocations: 21193)


Started GET "/products/86" for ::1 at 2022-12-28 22:26:39 -0500
Processing by ProductsController#show as TURBO_STREAM
  Parameters: {"id"=>"86"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = $1 LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  â†³ app/controllers/products_controller.rb:99:in `set_product'
  Rendering layout layouts/application.html.erb
  Rendering products/show.html.erb within layouts/application
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE "reactions"."product_id" = $1 LIMIT $2[0m  [["product_id", 86], ["LIMIT", 1]]
  â†³ app/models/product.rb:44:in `causes_reaction'
  [1m[36mReaction Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (product_id = 86) LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:35
  [1m[36mReaction Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "reactions" WHERE (reactive_ingredient ILIKE 'alcohol' OR reactive_substances ILIKE 'alcohol') LIMIT $1[0m  [["LIMIT", 1]]
  â†³ app/views/products/show.html.erb:54
  [1m[36mReaction Pluck (0.4ms)[0m  [1m[34mSELECT "reactions"."allergen_id" FROM "reactions" WHERE (reactive_ingredient ILIKE 'alcohol' OR reactive_substances ILIKE 'alcohol')[0m
  â†³ app/views/products/show.html.erb:59
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens" WHERE "allergens"."id" IN ($1, $2)[0m  [["id", 3], ["id", 33]]
  â†³ app/views/products/show.html.erb:59
  Rendered collection of products/_product_allergen.html.erb [2 times] (Duration: 3.7ms | Allocations: 667)
  Rendered products/show.html.erb within layouts/application (Duration: 14.7ms | Allocations: 4609)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 24)
  Rendered layout layouts/application.html.erb (Duration: 29.6ms | Allocations: 8747)
Completed 200 OK in 34ms (Views: 28.1ms | ActiveRecord: 2.2ms | Allocations: 10204)


Started GET "/allergens" for ::1 at 2022-12-28 22:26:59 -0500
Processing by AllergensController#index as HTML
  Rendering layout layouts/application.html.erb
  Rendering allergens/index.html.erb within layouts/application
  [1m[36mAllergen Load (0.3ms)[0m  [1m[34mSELECT "allergens".* FROM "allergens"[0m
  â†³ app/views/allergens/index.html.erb:13
  Rendered collection of shared/_allergen.html.erb [15 times] (Duration: 58.2ms | Allocations: 43881)
  Rendered allergens/index.html.erb within layouts/application (Duration: 63.9ms | Allocations: 44828)
  Rendered layouts/_messages.html.erb (Duration: 0.0ms | Allocations: 21)
  Rendered layout layouts/application.html.erb (Duration: 67.5ms | Allocations: 48814)
Completed 200 OK in 72ms (Views: 71.1ms | ActiveRecord: 0.3ms | Allocations: 49086)


